<!doctype html><html lang=en class=no-js>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=generator content="Hugo 0.90.1">
<link rel=canonical type=text/html href=https://froboy.github.io/openy_docs/docs/>
<link rel=alternate type=application/rss+xml href=https://froboy.github.io/openy_docs/docs/index.xml>
<meta name=robots content="noindex, nofollow">
<link rel=icon type=image/svg+xml href=/openy_docs/favicons/favicon.svg>
<link rel="shortcut icon" href=/openy_docs/favicons/favicon.ico>
<link rel=apple-touch-icon href=/openy_docs/favicons/apple-touch-icon-180x180.png sizes=180x180>
<link rel=icon type=image/png href=/openy_docs/favicons/favicon-16x16.png sizes=16x16>
<link rel=icon type=image/png href=/openy_docs/favicons/favicon-32x32.png sizes=32x32>
<link rel=icon type=image/png href=/openy_docs/favicons/android-192x192.png sizes=192x192>
<title>Documentation | Open Y</title>
<meta name=description content="Open Y Distribution
The Open Y platform is a content management system that uses Drupal 8 functionality and useful modules from YMCAs and digital …">
<meta property="og:title" content="Documentation">
<meta property="og:description" content="The Open Y Documentation">
<meta property="og:type" content="website">
<meta property="og:url" content="https://froboy.github.io/openy_docs/docs/"><meta property="og:site_name" content="Open Y">
<meta itemprop=name content="Documentation">
<meta itemprop=description content="The Open Y Documentation"><meta name=twitter:card content="summary">
<meta name=twitter:title content="Documentation">
<meta name=twitter:description content="The Open Y Documentation">
<link rel=preload href=/openy_docs/scss/main.min.597c21dc0f89f1c65e79730c06728e69655a38de920c26c4173305b9e97ce0d9.css as=style>
<link href=/openy_docs/scss/main.min.597c21dc0f89f1c65e79730c06728e69655a38de920c26c4173305b9e97ce0d9.css rel=stylesheet integrity>
<script src=https://code.jquery.com/jquery-3.5.1.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script>
<script src=https://unpkg.com/lunr@2.3.8/lunr.min.js integrity=sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY crossorigin=anonymous></script>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','UA-00000000-0','auto'),ga('send','pageview'))</script>
<script async src=https://www.google-analytics.com/analytics.js></script>
</head>
<body class=td-section>
<header>
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
<a class=navbar-brand href=/openy_docs/>
<span class=navbar-logo><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 221 60"><defs><path id="a" d="M185.7 118.163c-4.404.0-8.074-3.67-8.074-8.074s3.67-8.074 8.074-8.074 8.074 3.67 8.074 8.074-3.67 8.074-8.074 8.074zm0-18.35c-3.303.0-6.055 1.468-8.074 3.853v-2.752c0-.55-.55-1.101-1.1-1.101-.551.0-1.102.55-1.102 1.1v27.526c0 .551.55 1.102 1.101 1.102.55.0 1.101-.551 1.101-1.101v-11.928c1.835 2.385 4.771 3.853 8.074 3.853a10.26 10.26.0 0010.277-10.276A10.26 10.26.0 00185.7 99.813z"/><path id="b" d="M200.564 108.988c.55-3.854 3.854-6.973 7.89-6.973 4.038.0 7.341 2.936 7.892 6.973zm8.074-9.175a10.26 10.26.0 00-10.276 10.276 10.26 10.26.0 0010.276 10.276c.55.0 1.101-.55 1.101-1.1.0-.551-.55-1.102-1.1-1.102-4.038.0-7.34-2.936-7.891-6.973h18.35v-1.1c-.183-5.69-4.771-10.277-10.46-10.277z"/><path id="c" d="M231.576 99.813c-3.303.0-6.055 1.468-8.074 3.853v-2.752c0-.55-.55-1.101-1.1-1.101-.551.0-1.102.55-1.102 1.1v18.351c0 .55.55 1.101 1.101 1.101.55.0 1.101-.55 1.101-1.1v-9.176c0-4.404 3.67-8.074 8.074-8.074s8.075 3.67 8.075 8.074v9.175c0 .55.55 1.101 1.1 1.101.551.0 1.102-.55 1.102-1.1v-9.176a10.26 10.26.0 00-10.277-10.276z"/><path id="d" d="M158.175 118.163c-6.973.0-12.662-5.688-12.662-12.662.0-6.973 5.689-12.661 12.662-12.661s12.661 5.688 12.661 12.661c0 6.974-5.688 12.662-12.661 12.662zm0-27.525A14.802 14.802.0 00143.31 105.5a14.802 14.802.0 0014.864 14.864 14.802 14.802.0 0014.864-14.864 14.802 14.802.0 00-14.864-14.863z"/><path id="e" d="M280.388 90.821c-.367-.367-1.1-.367-1.651.0l-10.643 10.643-10.644-10.643c-.367-.367-1.1-.367-1.651.0-.55.367-.367 1.101.0 1.652l11.01 11.01v15.598c0 .55.55 1.1 1.101 1.1.55.0 1.101-.55 1.101-1.1v-15.598l11.01-11.01c.918-.367.918-1.101.367-1.652z"/><path id="f" d="M123.86 82.747c-10.093-4.404-22.021-3.487-31.196 2.569-9.175-6.056-21.103-6.973-31.196-2.386L60 83.481l.183 1.652c1.102 11.01 7.891 20.735 17.8 25.69-.55 11.01 4.588 21.837 13.396 28.26l1.285.917 1.284-.917c8.992-6.423 13.947-17.25 13.396-28.26 9.91-4.955 16.699-14.864 17.8-25.69l.183-1.652z"/><path id="g" d="M92.664 113.209c-4.22.0-8.441-.918-12.479-2.57-.734 10.277 3.854 20.37 12.479 26.792 8.624-6.239 13.212-16.515 12.478-26.791-4.037 1.651-8.258 2.569-12.478 2.569z"/><path id="h" d="M93.581 87.518c3.487 2.57 6.423 5.872 8.441 9.542 2.019 3.67 3.487 7.707 4.038 12.112 9.175-4.588 15.78-13.58 16.882-24.223-9.726-4.404-20.736-3.303-29.36 2.57z"/><path id="i" d="M91.746 87.518c-8.441-5.689-19.635-6.973-29.36-2.569 1.1 10.643 7.707 19.635 16.882 24.223.55-4.405 1.835-8.442 4.037-12.112s4.955-6.973 8.441-9.542z"/></defs><use fill="#fff" xlink:href="#a" transform="translate(-60 -80)"/><use fill="#fff" xlink:href="#b" transform="translate(-60 -80)"/><use fill="#fff" xlink:href="#c" transform="translate(-60 -80)"/><use fill="#fff" xlink:href="#d" transform="translate(-60 -80)"/><use fill="#fff" xlink:href="#e" transform="translate(-60 -80)"/><use fill="#fff" xlink:href="#f" transform="translate(-60 -80)"/><use fill="#f93549" xlink:href="#g" transform="translate(-60 -80)"/><use fill="#f93549" xlink:href="#h" transform="translate(-60 -80)"/><use fill="#f93549" xlink:href="#i" transform="translate(-60 -80)"/></svg></span><span class=font-weight-bold>Open Y</span>
</a>
<div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar>
<ul class="navbar-nav mt-2 mt-lg-0">
<li class="nav-item mr-4 mb-2 mb-lg-0">
<a class="nav-link active" href=/openy_docs/docs/><span class=active>Documentation</span></a>
</li>
<li class="nav-item mr-4 mb-2 mb-lg-0">
<a class=nav-link href=/openy_docs/community/><span>Community</span></a>
</li>
</ul>
</div>
<div class="navbar-nav d-none d-lg-block"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/openy_docs/offline-search-index.d5af834fc0071eead9c74cf5a3ea57c1.json data-offline-search-base-href=/ data-offline-search-max-results=10>
</div>
</nav>
</header>
<div class="container-fluid td-outer">
<div class=td-main>
<div class="row flex-xl-nowrap">
<main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main>
<div class=td-content>
<div class="pageinfo pageinfo-primary d-print-none">
<p>
This is the multi-page printable view of this section.
<a href=# onclick="return print(),!1">Click here to print</a>.
</p><p>
<a href=/openy_docs/docs/>Return to the regular view of this page</a>.
</p>
</div>
<h1 class=title>Documentation</h1>
<ul>
<li>1: <a href=#pg-8efbf7499fe9c7bde8d2c1bb7ff6ee3c>Contribution Guidelines</a></li>
<ul>
</ul>
<li>2: <a href=#pg-a75687a734c9a780eedd92ab579fc9b5>Content Structure</a></li>
<ul>
<li>2.1: <a href=#pg-f93ad08c5e4e6553667d8c04ac2b5b92>Blocks</a></li>
<ul>
<li>2.1.1: <a href=#pg-e7dd3bcdb6659a82842b639740c495fd>Basic</a></li>
<li>2.1.2: <a href=#pg-55c5bbd622720b2c39f098a366bb5b35>Block Menu</a></li>
<li>2.1.3: <a href=#pg-281f3e7dc3845cfd23c0731cb31601fc>Branch Amenities</a></li>
<li>2.1.4: <a href=#pg-14f34ed3354e7a387a8b1e3e64cc8f79>Custom Simple</a></li>
<li>2.1.5: <a href=#pg-f70796766c250d8180c5e5ee6a562c16>Flexible</a></li>
</ul>
<li>2.2: <a href=#pg-0a4136d2d52c070af15cd4b8cc386d02>Content Types</a></li>
<ul>
<li>2.2.1: <a href=#pg-373c4af87ed88880bbd0bf5f99d54ede>Activity</a></li>
<li>2.2.2: <a href=#pg-3ca45123e332ce055aea369442709b7f>Alert</a></li>
<li>2.2.3: <a href=#pg-4f4c0c9dccdd1746b7b99f4c3fbcdfb2>Blog</a></li>
<li>2.2.4: <a href=#pg-75d47253ddfeb44895105aeee5804999>Branch</a></li>
<li>2.2.5: <a href=#pg-c4590c19ad87065bf783d8cbd642ea43>Camp</a></li>
<li>2.2.6: <a href=#pg-099f6f7017050587ac6de241af6bd9e5>Class</a></li>
<li>2.2.7: <a href=#pg-2d7d61fcbc96d45076dbdf544ae5e343>Facility</a></li>
<li>2.2.8: <a href=#pg-71d8d3f9ab0aca11b1accf7d2adf6bb5>Landing Page</a></li>
<li>2.2.9: <a href=#pg-b9e9ff01991a0c3b617beca22825ff42>Membership</a></li>
<li>2.2.10: <a href=#pg-5c2a711adbb2ca3c7331b40a715ff7a5>News</a></li>
<li>2.2.11: <a href=#pg-52e17063d4567a681024bbcfda5609ca>Program</a></li>
<li>2.2.12: <a href=#pg-43540f50fdc4e56156d8970627c5e9fa>Program Subcategory</a></li>
<li>2.2.13: <a href=#pg-51d0ec2d77af566876dc4e2c035b12f0>Session</a></li>
<li>2.2.14: <a href=#pg-8382be8002f000e94e5681f1ecc1f3c5>Social Post</a></li>
</ul>
<li>2.3: <a href=#pg-858ee971f9b727ec9c2f2547fcbbbcbb>Media</a></li>
<ul>
<li>2.3.1: <a href=#pg-c2e7835880181d51da4e609491a5abac>WYSIWYG View Modes</a></li>
</ul>
<li>2.4: <a href=#pg-097e3141597f88dc4dd18d71aa17224b>Paragraphs</a></li>
<ul>
<li>2.4.1: <a href=#pg-83eae65a9ce71ec7870ff55bb591bba7>1c</a></li>
<li>2.4.2: <a href=#pg-282929484949c655f9932243c183c777>2c</a></li>
<li>2.4.3: <a href=#pg-1a80c5d910a8a688cd96c3b50f99bcd0>3c</a></li>
<li>2.4.4: <a href=#pg-94508072e4f469f38cabf7bb1515dd31>4c</a></li>
<li>2.4.5: <a href=#pg-7cadccd29e9c4db1058109375c53c09a>All Amenities</a></li>
<li>2.4.6: <a href=#pg-3727fb183718a48597d10ddb79d1c5d4>Banner</a></li>
<li>2.4.7: <a href=#pg-fc76a9f07873b843ff8d9905249798ff>Blog Posts Listing</a></li>
<li>2.4.8: <a href=#pg-d60518312e2a4d70c60bec2b50542deb>Branches Popup (All)</a></li>
<li>2.4.9: <a href=#pg-16d651bcdcb5ec8633de128daa87a173>Branches Popup (Class)</a></li>
<li>2.4.10: <a href=#pg-709189ffd2e0ac7c81efbbcacc715def>Categories Listing</a></li>
<li>2.4.11: <a href=#pg-3a2768494afc0d4e006cb09eb6f855e8>Class Location</a></li>
<li>2.4.12: <a href=#pg-40d22b5fe5771781d0a0145416a98c3c>Class Sessions</a></li>
<li>2.4.13: <a href=#pg-845716fdfb2274585b551b8ad895a44c>Classes Listing</a></li>
<li>2.4.14: <a href=#pg-554e047f87d5817b10a84cd80cd46215>Code</a></li>
<li>2.4.15: <a href=#pg-f70bb4fc67aec10231748fe55f39e2c0>Featured Blog Posts</a></li>
<li>2.4.16: <a href=#pg-1e49cfb5b9c46f48aeb497847cc329d2>Featured Content</a></li>
<li>2.4.17: <a href=#pg-0426a5edc86e85beba9ecb777d0fc187>Featured Highlights</a></li>
<li>2.4.18: <a href=#pg-5afa0608975110102586d3a682046b4b>Featured News Posts</a></li>
<li>2.4.19: <a href=#pg-30514ec3196d20af51a93ba2f24c8c95>Gallery</a></li>
<li>2.4.20: <a href=#pg-e39c448a8c01f914e7420d0e2d294e8d>Grid columns</a></li>
<li>2.4.21: <a href=#pg-eda3db6a87fe95f6b9ada280b4b8fb4d>Grid Content</a></li>
<li>2.4.22: <a href=#pg-cbfd27c590a3eb26dec76a407d9ad756>Group Schedules</a></li>
<li>2.4.23: <a href=#pg-9815b163ff351d0406552885cf0f583b>Latest Blog Posts</a></li>
<li>2.4.24: <a href=#pg-bb45a578b2ee31848d27ec1bd5f47fda>Latest Blog Posts (Branch)</a></li>
<li>2.4.25: <a href=#pg-4517e332f4d1a54fff27664b1e611231>Latest Blog Posts (Camp)</a></li>
<li>2.4.26: <a href=#pg-41371c79ba4c76e1eb9ed6a842773e61>Latest News Posts</a></li>
<li>2.4.27: <a href=#pg-d287228ccee046ff66ed2ff858ebd566>Latest News Posts (Branch)</a></li>
<li>2.4.28: <a href=#pg-e052f186b6f012a33d3b187c7cc4d7f7>Latest News Posts (Camp)</a></li>
<li>2.4.29: <a href=#pg-c9ce8aceaaf895ec6915e5df9c39e38c>Limited Time Offer</a></li>
<li>2.4.30: <a href=#pg-dad74913dd1f56c5f8c67d304d4f1c7b>Location finder</a></li>
<li>2.4.31: <a href=#pg-d494f4071845225501244646bcf60290>Location finder filters</a></li>
<li>2.4.32: <a href=#pg-72ee4687fe3fb638941c69e3d7c261b8>Membership info</a></li>
<li>2.4.33: <a href=#pg-83b1754fb8aa22a20b8d10ae0ca42648>Microsites menu</a></li>
<li>2.4.34: <a href=#pg-215ecdaa0daee16657fdaf55f6ab9109>News Posts Listing</a></li>
<li>2.4.35: <a href=#pg-f7f4a9d5cc72f2d736ed48cbd47d37b3>Program Registration (Daxko)</a></li>
<li>2.4.36: <a href=#pg-245afb04fed8545d8a61820e2772eca4>Promo Card</a></li>
<li>2.4.37: <a href=#pg-c5c5d927287e220d9dba57d98069f7d9>Schedule search form</a></li>
<li>2.4.38: <a href=#pg-f82337ad1df983a993c86426c2029770>Schedule search list</a></li>
<li>2.4.39: <a href=#pg-0b75816c093cb6b04b7e34ab19be2105>Secondary Description and Sidebar</a></li>
<li>2.4.40: <a href=#pg-70fbc64fd3626f54c0b8f0d798484573>Session Time</a></li>
<li>2.4.41: <a href=#pg-e2442f07470bdc9c5e9cfe7e23446657>Simple Content</a></li>
<li>2.4.42: <a href=#pg-05f1876c213ecf18e26a6a4e28c70020>Small Banner</a></li>
<li>2.4.43: <a href=#pg-c9d3446011980a0a85ad176567b9eac1>Social Post Listing</a></li>
<li>2.4.44: <a href=#pg-e1913e0ba195a38991e25c7ac7fb413d>Social_Share_Icons</a></li>
<li>2.4.45: <a href=#pg-4703e7f49e17a27631ee3d1f5cf04fa1>Story Card</a></li>
<li>2.4.46: <a href=#pg-3272e380b516fc5c047533702220fc73>Teaser</a></li>
<li>2.4.47: <a href=#pg-9f3dc507ae69e8274e2f520336c786ca>Webform</a></li>
</ul>
<li>2.5: <a href=#pg-aa6661af7c13203817044aebd29b1724>Taxonomy</a></li>
<ul>
<li>2.5.1: <a href=#pg-058f813504d02e0240817e313c4e3a94>Amenities</a></li>
<li>2.5.2: <a href=#pg-250feb9dc1b1b6210630afb12d27d73f>Area</a></li>
<li>2.5.3: <a href=#pg-50ba685790f7206f376c2ff20730560f>Blog Category</a></li>
<li>2.5.4: <a href=#pg-075fa59ad387eb2dd6ee72cd89b1b592>Color</a></li>
<li>2.5.5: <a href=#pg-f88a45f0427e62b8bf908ef60d7b461e>Facility Type</a></li>
<li>2.5.6: <a href=#pg-56d7fd6ee6979f6c1e2213ff72a8e90f>Media Tags</a></li>
<li>2.5.7: <a href=#pg-928bfccb3a3a999343f57d45e67f9fd6>News Category</a></li>
</ul>
</ul>
<li>3: <a href=#pg-39f3813de34ce5cae320697c88e2a917>Development</a></li>
<ul>
<li>3.1: <a href=#pg-13c91d4bbd4c7b223a78a93ef913f2ba>AcceptanceTesting</a></li>
<li>3.2: <a href=#pg-6d368efad43fd9d7dd548e351066f7de>AddThis</a></li>
<li>3.3: <a href=#pg-d7a9bd8705c6c74b658ca7da5c5f83c5>Composer</a></li>
<li>3.4: <a href=#pg-af0a3717480e90e7da195d5518114385>Configuration for social posts import</a></li>
<li>3.5: <a href=#pg-143003b5915239214051c7b177f8d467>Contributing</a></li>
<li>3.6: <a href=#pg-815678a9b3989cb30d9431dae076e103>Create View Modes</a></li>
<li>3.7: <a href=#pg-992b93a807a2cdb5efb93976645bd2d9>DataLayer</a></li>
<li>3.8: <a href=#pg-2183f8e7e804aeab9b106faf2b9b5cf0>Daxko</a></li>
<li>3.9: <a href=#pg-ac9fe1438b6fece4084a918ef804fdef>Fonts</a></li>
<li>3.10: <a href=#pg-d2740a1b582387655d445cb589514e8b>Google_Analytics_Search</a></li>
<li>3.11: <a href=#pg-4e445b1dc3b8e4a6fe7f40c7eea63d13>GoogleCustomSearchConfiguration</a></li>
<li>3.12: <a href=#pg-dfadc0dc4b83c0702a8ab3496bb175b7>InstallationWithDrush</a></li>
<li>3.13: <a href=#pg-52713f92f14258afce6084b4bded4ac2>Module Develompent</a></li>
<li>3.14: <a href=#pg-e7d7619da79e00b4a474600152ead1d8>Patch OpenY</a></li>
<li>3.15: <a href=#pg-75b76d5f58b6888788723f7b0c0374f3>Server Requirements</a></li>
<li>3.16: <a href=#pg-01d48e4d8306af3b3d644918cda7458b>Start new OpenY project</a></li>
<li>3.17: <a href=#pg-46a42c95597cdf9bf22eb859dd5c4384>Tests</a></li>
<li>3.18: <a href=#pg-ca82c8889851559493511fc02340ca48>Theming_and_Design</a></li>
<li>3.19: <a href=#pg-979c1626d9f3498e9da9efb153df39e3>Tour</a></li>
<li>3.20: <a href=#pg-d70d83351441d48c021acb48ec7dd49e>Upgrade path</a></li>
</ul>
<li>4: <a href=#pg-cdffc9f7d521f997f2219e61d9598532>Wiki</a></li>
<ul>
<li>4.1: <a href=#pg-364371e04a81f9d52fbf48a65098a990>Code-Review-Quality-Best-Practices</a></li>
<li>4.2: <a href=#pg-272472a17a17e91f5f0339be0c9d7a6a>Composer-version-constraints-for-Open-Y</a></li>
<li>4.3: <a href=#pg-c74658fdccabd94fcef0f10328404202>Decouple-component-from-Open-Y-as-independent-module-project</a></li>
<li>4.4: <a href=#pg-a8c7778315c85d0ababc0319f3c4487f>Decoupled-(-external-)-projects-of-OpenY</a></li>
<li>4.5: <a href=#pg-f279bf516b9e5ebfd4d500ad30505c44>Dependencies-in-drupal-info.yml</a></li>
<li>4.6: <a href=#pg-21d131922f81a2244f4cba1b96a1bb9f>Deprecate-and-remove-components-from-Open-Y</a></li>
<li>4.7: <a href=#pg-79557a8453b5bf370c199da55518bedc>Development-FAQ</a></li>
<li>4.8: <a href=#pg-79aa184c79066ff5eb7f27c9a94dfeba>Drupal-9-core-dependencies-version-flexibility</a></li>
<li>4.9: <a href=#pg-a7d7264cf3a419728d2c9ef5e325a66d>GroupEx-PRO-quick-start</a></li>
<li>4.10: <a href=#pg-0cd844e1218c3c54e9f2ab542495c500>How-to-contribute-large-features-into-Open-Y-(backporting,-etc)</a></li>
<li>4.11: <a href=#pg-27a63ef46372246d7079540d6487c8bf>How-to-develop-themes-in-Open-Y</a></li>
<li>4.12: <a href=#pg-b2622706904d7a01c7cba1054dfdf552>How-we-release-OpenY-distribution-from-code-perspective</a></li>
<li>4.13: <a href=#pg-21722c602ec0e5568f09af92c9e735ee>Important-versions-for-upgrade-path</a></li>
<li>4.14: <a href=#pg-d3b768eeef436c0fee1bdf4f26981e03>Install-Solr-site-search-for-Open-Y</a></li>
<li>4.15: <a href=#pg-fe7f101aa30d8661a2ecd3ccac43b716>Install-SSL-certificate-for-the-OpenY-site</a></li>
<li>4.16: <a href=#pg-81646fbeae499e421f744411a8b53ea8>Open-Y-2.0-root-YAML-files</a></li>
<li>4.17: <a href=#pg-90491a4be2d717843e7cb23dc723043e>Open-Y-3rd-party-dependencies</a></li>
<li>4.18: <a href=#pg-24f39da4a2f7d25ab56cabf53984c7a7>Open-Y-Code-of-Conduct-and-Best-Practices</a></li>
<li>4.19: <a href=#pg-919d14ca7e4fd8775863abcee92540f3>Open-Y-one-click-install-how-to</a></li>
<li>4.20: <a href=#pg-eb068ad56aaa3a20015ece094ec54be7>Open-Y-Participant-Agreement</a></li>
<li>4.21: <a href=#pg-df87543250ea96dd0fffc37925f5d115>Open-Y-Pull-Requests-review-standard</a></li>
<li>4.22: <a href=#pg-1783513e22a28847a02a7da4c1266cbf>Open-Y-Release-Schedule-and-Guidelines</a></li>
<li>4.23: <a href=#pg-2919b8ef3833f4a3787164af03ae9ded>Open-Y-Smoke-Tests-Index</a></li>
<li>4.24: <a href=#pg-9330b67f3e60357fefd1efea11a303ec>Open-Y-technology-pipeline</a></li>
<li>4.25: <a href=#pg-64f5a0333d77015ff4b380305a76e98b>Open-Y-Terms-of-Use</a></li>
<li>4.26: <a href=#pg-d3581e80cbbce0b7a4d08dff19e6062c>Open-Y-update-sunset---opt-out-tutorial</a></li>
<li>4.27: <a href=#pg-d8244040aa32ccb67a5a4bb5609336d7>OpenY-anti-spam-protection</a></li>
<li>4.28: <a href=#pg-e7539c80e915adf10aebfab5f1c72921>OpenY-security---Drupal-SA-CORE-2018-004</a></li>
<li>4.29: <a href=#pg-448b5d40a1380ae865b82bbbad5d918e>OpenY-security-update-how-to.-Update-Drupal-core-only</a></li>
<li>4.30: <a href=#pg-b6a58c65aaf47d99271374408b87f2cf>OpenY-upgrade-for-developers.-Upgrade-to-old-OpenY-1.x-version</a></li>
<li>4.31: <a href=#pg-8a92c81de27ac0587d27dabc9e35e167>OpenY-upgrade-how-to-for-Developers</a></li>
<li>4.32: <a href=#pg-abe9ee2ecd1e1af7b6b584d4a1998bcd>Sandboxes</a></li>
<li>4.33: <a href=#pg-fd6d083709601dccabbca381c3e5d8da>Secure-devops-for-composer-2-release</a></li>
<li>4.34: <a href=#pg-a3927e9f6f70d3e2b19b04ebfcaeef3c>Testing-Open-Y-for-PHP-7.4-version-support</a></li>
<li>4.35: <a href=#pg-e1ae818a1c683fdb6957c0684c7abc61>Upgrade-OpenY-8.1.3-to-8.2.2.1</a></li>
<li>4.36: <a href=#pg-13121a0edaf11b6dc42fec78965d2feb>Upgrade-use-case-from-8.2.2.3-to-8.2.7.3</a></li>
<li>4.37: <a href=#pg-52dcec98d9585bfd45992d6c21cb986d>Videos</a></li>
</ul>
</ul>
<div class=content>
<h1 id=open-y-distribution>Open Y Distribution</h1>
<p>The Open Y platform is a content management system that uses Drupal 8 functionality and useful modules from YMCAs and digital partners. It’s easy and free to use—everyone is welcome to implement Open Y and run Open Y projects.</p>
<p>In 2016 a group of YMCA digital, marketing and technology experts recognized the digital opportunities that exist if we work together as a community and established Open Y.</p>
<p>A core team led by a small group of YMCAs including the <a href=http://www.ymcamn.org>Greater Twin Cities</a>, <a href=http://www.seattleymca.org>Greater Seattle</a> and <a href=https://www.ymcahouston.org>Greater Houston</a>:</p>
<ul>
<li>Pays for expenses associated with managing Open Y</li>
<li>Maintains the Open Y content management system</li>
<li>Ensures all basic functionality accessible from the content management system is available free of charge—those who contribute cannot charge others for what is shared</li>
<li>Strives to be aware of issues found within the Open Y content management system</li>
<li>Is not liable for bugs, crashes or performance issues of the content management system</li>
<li>Invites and approves digital partners to join</li>
<li>Offers training for Open Y Specialists—digital partners that are very familiar with the platform</li>
<li>Offers certification for Open Y Integrators—digital partners that can install and work directly on the codebase</li>
<li>Distributes communication about Open Y</li>
<li>Organizes events for the Open Y community—including an annual meeting each June</li>
</ul>
<p>Open Y is similar to the <a href=http://www.thunder.org>Thunder Coalition</a> for the publishing industry, which has generously agreed to share some of the same concepts and content that you see used on this site.</p>
<h1 id=documentation>Documentation</h1>
<p>Documentation is available at <a href=https://github.com/ymcatwincities/openy/tree/8.x-1.x/docs>https://github.com/ymcatwincities/openy/tree/8.x-1.x/docs</a></p>
<h1 id=details>Details</h1>
<p>For details please visit <a href=http://www.openymca.org>http://www.openymca.org</a></p>
</div>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-8efbf7499fe9c7bde8d2c1bb7ff6ee3c>1 - Contribution Guidelines</h1>
<div class=lead>How to contribute to the docs</div>
<div class="pageinfo pageinfo-primary">
<p>These basic sample guidelines assume that your Docsy site is deployed using Netlify and your files are stored in GitHub. You can use the guidelines &ldquo;as is&rdquo; or adapt them with your own instructions: for example, other deployment options, information about your doc project&rsquo;s file structure, project-specific review guidelines, versioning guidelines, or any other information your users might find useful when updating your site. <a href=https://github.com/kubeflow/website/blob/master/README.md>Kubeflow</a> has a great example.</p>
<p>Don&rsquo;t forget to link to your own doc repo rather than our example site! Also make sure users can find these guidelines from your doc repo README: either add them there and link to them from this page, add them here and link to them from the README, or include them in both locations.</p>
</div>
<p>We use <a href=https://gohugo.io/>Hugo</a> to format and generate our website, the
<a href=https://github.com/google/docsy>Docsy</a> theme for styling and site structure,
and <a href=https://www.netlify.com/>Netlify</a> to manage the deployment of the site.
Hugo is an open-source static site generator that provides us with templates,
content organisation in a standard directory structure, and a website generation
engine. You write the pages in Markdown (or HTML if you want), and Hugo wraps them up into a website.</p>
<p>All submissions, including submissions by project members, require review. We
use GitHub pull requests for this purpose. Consult
<a href=https://help.github.com/articles/about-pull-requests/>GitHub Help</a> for more
information on using pull requests.</p>
<h2 id=quick-start-with-netlify>Quick start with Netlify</h2>
<p>Here&rsquo;s a quick guide to updating the docs. It assumes you&rsquo;re familiar with the
GitHub workflow and you&rsquo;re happy to use the automated preview of your doc
updates:</p>
<ol>
<li>Fork the <a href=https://github.com/google/docsy-example>Goldydocs repo</a> on GitHub.</li>
<li>Make your changes and send a pull request (PR).</li>
<li>If you&rsquo;re not yet ready for a review, add &ldquo;WIP&rdquo; to the PR name to indicate
it&rsquo;s a work in progress. (<strong>Don&rsquo;t</strong> add the Hugo property
&ldquo;draft = true&rdquo; to the page front matter, because that prevents the
auto-deployment of the content preview described in the next point.)</li>
<li>Wait for the automated PR workflow to do some checks. When it&rsquo;s ready,
you should see a comment like this: <strong>deploy/netlify — Deploy preview ready!</strong></li>
<li>Click <strong>Details</strong> to the right of &ldquo;Deploy preview ready&rdquo; to see a preview
of your updates.</li>
<li>Continue updating your doc and pushing your changes until you&rsquo;re happy with
the content.</li>
<li>When you&rsquo;re ready for a review, add a comment to the PR, and remove any
&ldquo;WIP&rdquo; markers.</li>
</ol>
<h2 id=updating-a-single-page>Updating a single page</h2>
<p>If you&rsquo;ve just spotted something you&rsquo;d like to change while using the docs, Docsy has a shortcut for you:</p>
<ol>
<li>Click <strong>Edit this page</strong> in the top right hand corner of the page.</li>
<li>If you don&rsquo;t already have an up to date fork of the project repo, you are prompted to get one - click <strong>Fork this repository and propose changes</strong> or <strong>Update your Fork</strong> to get an up to date version of the project to edit. The appropriate page in your fork is displayed in edit mode.</li>
<li>Follow the rest of the <a href=#quick-start-with-netlify>Quick start with Netlify</a> process above to make, preview, and propose your changes.</li>
</ol>
<h2 id=previewing-your-changes-locally>Previewing your changes locally</h2>
<p>If you want to run your own local Hugo server to preview your changes as you work:</p>
<ol>
<li>
<p>Follow the instructions in <a href=/docs/getting-started>Getting started</a> to install Hugo and any other tools you need. You&rsquo;ll need at least <strong>Hugo version 0.45</strong> (we recommend using the most recent available version), and it must be the <strong>extended</strong> version, which supports SCSS.</p>
</li>
<li>
<p>Fork the <a href=https://github.com/google/docsy-example>Goldydocs repo</a> repo into your own project, then create a local copy using <code>git clone</code>. Don’t forget to use <code>--recurse-submodules</code> or you won’t pull down some of the code you need to generate a working site.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>git clone --recurse-submodules --depth 1 https://github.com/google/docsy-example.git
</code></pre></div></li>
<li>
<p>Run <code>hugo server</code> in the site root directory. By default your site will be available at http://localhost:1313/. Now that you&rsquo;re serving your site locally, Hugo will watch for changes to the content and automatically refresh your site.</p>
</li>
<li>
<p>Continue with the usual GitHub workflow to edit files, commit them, push the
changes up to your fork, and create a pull request.</p>
</li>
</ol>
<h2 id=creating-an-issue>Creating an issue</h2>
<p>If you&rsquo;ve found a problem in the docs, but you&rsquo;re not sure how to fix it yourself, please create an issue in the <a href=https://github.com/google/docsy-example/issues>Goldydocs repo</a>. You can also create an issue about a specific page by clicking the <strong>Create Issue</strong> button in the top right hand corner of the page.</p>
<h2 id=useful-resources>Useful resources</h2>
<ul>
<li><a href=https://www.docsy.dev/docs/>Docsy user guide</a>: All about Docsy, including how it manages navigation, look and feel, and multi-language support.</li>
<li><a href=https://gohugo.io/documentation/>Hugo documentation</a>: Comprehensive reference for Hugo.</li>
<li><a href=https://guides.github.com/activities/hello-world/>Github Hello World!</a>: A basic introduction to GitHub concepts and workflow.</li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-a75687a734c9a780eedd92ab579fc9b5>2 - Content Structure</h1>
<p>Welcome to the Content Structure documentation.</p>
<p>Here you can find all needed technical descriptions about content types can be used by Open Y site builders.
The Open Y core team decided to finalize and stick to specifictions of fields,
created naming conventions aimed to help developers to maintain and upgrade their sites alongside Open Y development timeline.</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-f93ad08c5e4e6553667d8c04ac2b5b92>2.1 - Blocks</h1>
</div>
<div class=td-content>
<h1 id=pg-e7dd3bcdb6659a82842b639740c495fd>2.1.1 - Basic</h1>
<h1 id=basic-block>Basic Block</h1>
<p>A simple block with a description.</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Content</td>
<td>field_block_content</td>
<td>Yes</td>
<td>WYSIWYG field without summary.</td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-55c5bbd622720b2c39f098a366bb5b35>2.1.2 - Block Menu</h1>
<h1 id=block-menu>Block Menu</h1>
<p>Implements custom block type with a links.</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Menu Links</td>
<td>field_menu_block_links</td>
<td>Yes</td>
<td>The Menu Links.</td>
</tr>
<tr>
<td>Color</td>
<td>field_menu_block_color</td>
<td>Yes</td>
<td>Select colors for menu block background gradient.</td>
</tr>
<tr>
<td>Text color</td>
<td>field_menu_block_text_color</td>
<td>Yes</td>
<td>Select text color of the menu block.</td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-281f3e7dc3845cfd23c0731cb31601fc>2.1.3 - Branch Amenities</h1>
<h1 id=block-branch-amenities>Block Branch Amenities</h1>
<p>A block with amenities list of the current branch.</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Branch amenities</td>
<td>field_branch_am</td>
<td>Yes</td>
<td>Uses only Custom Formatter to display a list of amenities within Paragraph block.</td>
</tr>
<tr>
<td>Link</td>
<td>field_sb_link</td>
<td>No</td>
<td>Link to display at the bottom of the block.</td>
</tr>
<tr>
<td>Title</td>
<td>field_sb_title</td>
<td>No</td>
<td>Title to display at top of block.</td>
</tr>
<tr>
<td>Icon class</td>
<td>field_icon_class</td>
<td>No</td>
<td>Provide a &ldquo;Font Awesome&rdquo; icon name, e.g. flag, car, info. Overrides image icon.</td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-14f34ed3354e7a387a8b1e3e64cc8f79>2.1.4 - Custom Simple</h1>
<h1 id=block-custom-simple>Block Custom Simple</h1>
<p>A simple block with a body.</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Icon</td>
<td>field_icon</td>
<td>No</td>
<td>Icon for block.</td>
</tr>
<tr>
<td>Icon class</td>
<td>field_icon_class</td>
<td>No</td>
<td>Provide a &ldquo;Font Awesome&rdquo; icon name, e.g. flag, car, info. Overrides image icon.</td>
</tr>
<tr>
<td>Body</td>
<td>field_sb_body</td>
<td>No</td>
<td>Enter body text.</td>
</tr>
<tr>
<td>Link</td>
<td>field_sb_link</td>
<td>No</td>
<td>Add link to the block.</td>
</tr>
<tr>
<td>Title</td>
<td>field_sb_title</td>
<td>No</td>
<td>Title to display at top of block.</td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-f70796766c250d8180c5e5ee6a562c16>2.1.5 - Flexible</h1>
<h1 id=block-flexible-content>Block Flexible Content</h1>
<p>A block with amenities list of the current branch.</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Node reference</td>
<td>field_node_ref</td>
<td>Yes</td>
<td>Provide reference to Node .</td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-0a4136d2d52c070af15cd4b8cc386d02>2.2 - Content Types</h1>
<p>Welcome to the Open Y Content Types documentation</p>
<p>In terms of Open Y - content types are <code>bundles</code> of <code>node</code> entity of the Drupal Framework.
You can find a much more low level documentation at <a href=https://www.drupal.org/docs/8>drupal.org</a>.</p>
<p>Open Y has a bunch of content types shipped for the convenience of usage the resulting site.
We are not limiting amount of content types, could be added by developers, so the list is not final.
The only rule we are trying to follow is to cover shipped list of content types by Open Y upgrade path.</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-373c4af87ed88880bbd0bf5f99d54ede>2.2.1 - Activity</h1>
<h1 id=activity>Activity</h1>
<p>Activity content type is used for adding Activities on the site.</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Title</td>
<td>drupal&rsquo;s default</td>
<td>Yes</td>
<td>Title of the activity item.</td>
</tr>
<tr>
<td>Program Subcategory</td>
<td>field_activity_category</td>
<td>Yes</td>
<td>A reference field for selecting the program subcategory.</td>
</tr>
<tr>
<td><strong>Content Area</strong></td>
<td>Field group</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Description</td>
<td>field_activity_description</td>
<td>No</td>
<td>Textarea for the description/body with WYSIWYG, without summary.</td>
</tr>
</tbody>
</table>
<h3 id=url-pattern>URL pattern</h3>
<p>Content type is using following pattern:
<code>/programs/[node:field_activity_category:entity:field_category_program:entity:title]/[node:field_activity_category:entity:title]/[node:title]</code></p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-3ca45123e332ce055aea369442709b7f>2.2.2 - Alert</h1>
<h1 id=alert>Alert</h1>
<p>Alert content type is used for adding alerts on the site.</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Title</td>
<td>drupal&rsquo;s default</td>
<td>Yes</td>
<td>Title of the activity item.</td>
</tr>
<tr>
<td>Background color</td>
<td>field_alert_color</td>
<td>Yes</td>
<td>Reference field for choosing the term from &ldquo;Color&rdquo; vocabulary.</td>
</tr>
<tr>
<td>Text color</td>
<td>field_alert_text_color</td>
<td>Yes</td>
<td>Reference field for choosing the term from &ldquo;Color&rdquo; vocabulary.</td>
</tr>
<tr>
<td>Icon color</td>
<td>field_alert_icon_color</td>
<td>No</td>
<td>Reference field for choosing the term from &ldquo;Color&rdquo; vocabulary. Description for field: &ldquo;Leave empty to hide icon.&rdquo;</td>
</tr>
<tr>
<td>Placement</td>
<td>field_alert_place</td>
<td>Yes</td>
<td>Select list field (singular) for choosing place: <ul><li>Header</li><li>Footer</li></ul></td>
</tr>
<tr>
<td>Description</td>
<td>field_alert_description</td>
<td>Yes</td>
<td>Textarea for the description/body with WYSIWYG, without summary.</td>
</tr>
<tr>
<td>Link</td>
<td>field_alert_link</td>
<td>No</td>
<td>Internal or external link.</td>
</tr>
<tr>
<td>Reference</td>
<td>field_alert_belongs</td>
<td>No</td>
<td>Entityreference with autocomplete to any node. Description for field: &ldquo;Reference to node (branch, camp, landing page and etc.), where local alert will be displayed.&rdquo;</td>
</tr>
</tbody>
</table>
<h3 id=url-pattern>URL pattern</h3>
<p>Content type is using following pattern:
<code>/alert/[node:title]</code>.</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-4f4c0c9dccdd1746b7b99f4c3fbcdfb2>2.2.3 - Blog</h1>
<h1 id=blog>Blog</h1>
<p>Blog Post content type is used for adding blog posts on the site.</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Title</td>
<td>drupal&rsquo;s default</td>
<td>Yes</td>
<td>Title of the blog item.</td>
</tr>
<tr>
<td>Locations</td>
<td>field_blog_location</td>
<td>Yes</td>
<td>Reference field to <code>branch</code> and <code>camp</code> nodes. Multiple Values.</td>
</tr>
<tr>
<td>Category</td>
<td>field_blog_category</td>
<td>No</td>
<td>Reference field for choosing the term from &ldquo;Blog Category&rdquo; vocabulary. Multiple Values.</td>
</tr>
<tr>
<td>Meta Tags</td>
<td>field_meta_tags</td>
<td>No</td>
<td>A meta tags field allows us to provide structured metadata and Graph meta tags for Facebook, Pinterest, LinkedIn and other social networking sites.</td>
</tr>
<tr>
<td><strong>Styles</strong></td>
<td>Field group</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Style</td>
<td>field_blog_style</td>
<td>Yes</td>
<td>Select list field with multiple options for choosing style: <ul><li>Story Card</li><li>Photo Card</li><li>News Card (default)</li><li>Color Card</li></ul></td>
</tr>
<tr>
<td>Background color</td>
<td>field_blog_color</td>
<td>No</td>
<td>teaser background color (used when Color Card style is selected.)</td>
</tr>
<tr>
<td>Text color</td>
<td>field_blog_text_color</td>
<td>No</td>
<td>teaser text color (used when Color Card style is selected.)</td>
</tr>
<tr>
<td><strong>Content Area</strong></td>
<td>Field group</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Image</td>
<td>field_blog_image</td>
<td>No</td>
<td>Image field for the Blog item. Entity reference to Media bundle.</td>
</tr>
<tr>
<td>Description</td>
<td>field_blog_description</td>
<td>No</td>
<td>Textarea for the description/body with WYSIWYG, without summary.</td>
</tr>
<tr>
<td>Content</td>
<td>field_content</td>
<td>No</td>
<td>A paragraph embed field that will allow us to add various flexible content modules, from the predefined list of paragraph types.</td>
</tr>
<tr>
<td><strong>Sidebar Area</strong></td>
<td>Field group</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Related content</td>
<td>field_blog_related</td>
<td>No</td>
<td>Reference field for choosing related Blog nodes. Multiple Values.</td>
</tr>
<tr>
<td>Content</td>
<td>field_sidebar_content</td>
<td>No</td>
<td>A paragraph embed field that will allow us to add various flexible content modules, from the predefined list of paragraph types.</td>
</tr>
</tbody>
</table>
<h3 id=url-pattern>URL pattern</h3>
<p>Content type is using following pattern:
<code>/blog/[node:title]</code></p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-75d47253ddfeb44895105aeee5804999>2.2.4 - Branch</h1>
<h1 id=branch>Branch</h1>
<p>Branch content type is used for adding Branches on the site.</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Title</td>
<td>drupal&rsquo;s default</td>
<td>Yes</td>
<td>Title of the branch item.</td>
</tr>
<tr>
<td>Neighborhood</td>
<td>field_location_area</td>
<td>No</td>
<td>A taxonomy reference field using the &ldquo;Area&rdquo; vocabulary.</td>
</tr>
<tr>
<td>Coming Soon</td>
<td>field_location_state</td>
<td>No</td>
<td>A checkbox field to determine branches in development.</td>
</tr>
<tr>
<td>Temporary URL</td>
<td>field_location_temp_url</td>
<td>No</td>
<td>A link field to provide a temporary page URL (a blog post, or smth else) if the branch is coming soon.</td>
</tr>
<tr>
<td>Meta Tags</td>
<td>field_meta_tags</td>
<td>No</td>
<td>A meta tags field allows us to provide structured metadata and Graph meta tags for Facebook, Pinterest, LinkedIn and other social networking sites.</td>
</tr>
<tr>
<td><strong>Contact</strong></td>
<td>Field group</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Address</td>
<td>field_location_address</td>
<td>Yes</td>
<td>An address field that will provide the ability to add details about the locations. Details to be completed: <ul><li>Address</li><li>City</li><li>State</li><li>Zip Code</li></ul></td>
</tr>
<tr>
<td>Branch Coordinates</td>
<td>field_location_coordinates</td>
<td>No</td>
<td>Input for providing the latitude and longitude information.</td>
</tr>
<tr>
<td>Phone</td>
<td>field_location_phone</td>
<td>Yes</td>
<td>Input for providing the phone information.</td>
</tr>
<tr>
<td>Fax</td>
<td>field_location_fax</td>
<td>No</td>
<td>Input for providing the fax information.</td>
</tr>
<tr>
<td>Email</td>
<td>field_location_email</td>
<td>No</td>
<td>Input for providing the email information.</td>
</tr>
<tr>
<td>Directions</td>
<td>field_location_directions</td>
<td>No</td>
<td>A link field for adding the directions link.</td>
</tr>
<tr>
<td><strong>Branch Hours</strong></td>
<td>Field group</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Branch Hours</td>
<td>field_branch_hours</td>
<td>Paragraph</td>
<td>Paragraph to indicate the branch hours.</td>
</tr>
<tr>
<td>Day of the week</td>
<td>field_branch_hours_day</td>
<td>No</td>
<td>Select list with following values: <ul><li>sunday|Sunday</li><li>monday|Monday</li><li>tuesday|Tuesday</li><li>wednesday|Wednesday</li><li>thursday|Thursday</li><li>friday|Friday</li><li>saturday|Saturday</li></ul></td>
</tr>
<tr>
<td>Start/End Time</td>
<td>field_branch_hours_time</td>
<td>No</td>
<td>Textfield with description &ldquo;e.g. 9am - 5pm, closed.&rdquo;</td>
</tr>
<tr>
<td><strong>Header Area</strong></td>
<td>Field group</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Content</td>
<td>field_header_content</td>
<td>No</td>
<td>A paragraph embed field that will allow us to add various flexible content modules, from the predefined list of paragraph types.</td>
</tr>
<tr>
<td><strong>Content Area</strong></td>
<td>Field group</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Content</td>
<td>field_content</td>
<td>No</td>
<td>A paragraph embed field that will allow us to add various flexible content modules, from the predefined list of paragraph types.</td>
</tr>
<tr>
<td><strong>Bottom Area</strong></td>
<td>Field group</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Content</td>
<td>field_bottom_content</td>
<td>No</td>
<td>A paragraph embed field that will allow us to add various flexible content modules, from the predefined list of paragraph types.</td>
</tr>
</tbody>
</table>
<h3 id=url-pattern>URL pattern</h3>
<p>Content type is using following pattern:
<code>/locations/[node:title]</code></p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-c4590c19ad87065bf783d8cbd642ea43>2.2.5 - Camp</h1>
<h1 id=camp>Camp</h1>
<p>Camp content type is used for adding Camps on the site.</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Title</td>
<td>drupal&rsquo;s default</td>
<td>Yes</td>
<td>Title of the camp item.</td>
</tr>
<tr>
<td>Menu links</td>
<td>field_camp_menu_links</td>
<td>Yes</td>
<td>Link field with multiple values, that should have the Title and Link field. Based on it, we will complete the Camp Menu.</td>
</tr>
<tr>
<td>Meta Tags</td>
<td>field_meta_tags</td>
<td>No</td>
<td>A meta tags field allows us to provide structured metadata and Graph meta tags for Facebook, Pinterest, LinkedIn and other social networking sites.</td>
</tr>
<tr>
<td><strong>Contact</strong></td>
<td>Field group</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Address</td>
<td>field_location_address</td>
<td>Yes</td>
<td>An address field that will provide the ability to add details about the locations. Details to be completed: <ul><li>Address</li><li>City</li><li>State</li><li>Zip Code</li></ul></td>
</tr>
<tr>
<td>Camp Coordinates</td>
<td>field_location_coordinates</td>
<td>No</td>
<td>Input for providing the latitude and longitude information.</td>
</tr>
<tr>
<td>Phone</td>
<td>field_location_phone</td>
<td>Yes</td>
<td>Input for providing the phone information.</td>
</tr>
<tr>
<td>Fax</td>
<td>field_location_fax</td>
<td>No</td>
<td>Input for providing the fax information.</td>
</tr>
<tr>
<td>Email</td>
<td>field_location_email</td>
<td>No</td>
<td>Input for providing the email information.</td>
</tr>
<tr>
<td>Directions</td>
<td>field_location_directions</td>
<td>No</td>
<td>A link field for adding the directions link.</td>
</tr>
<tr>
<td><strong>Header Area</strong></td>
<td>Field group</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Content</td>
<td>field_header_content</td>
<td>No</td>
<td>A paragraph embed field that will allow us to add various flexible content modules, from the predefined list of paragraph types.</td>
</tr>
<tr>
<td><strong>Content Area</strong></td>
<td>Field group</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Content</td>
<td>field_content</td>
<td>No</td>
<td>A paragraph embed field that will allow us to add various flexible content modules, from the predefined list of paragraph types.</td>
</tr>
<tr>
<td><strong>Bottom Area</strong></td>
<td>Field group</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Content</td>
<td>field_bottom_content</td>
<td>No</td>
<td>A paragraph embed field that will allow us to add various flexible content modules, from the predefined list of paragraph types.</td>
</tr>
</tbody>
</table>
<h3 id=url-pattern>URL pattern</h3>
<p>Content type is using following pattern:
<code>/camps/[node:title]</code></p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-099f6f7017050587ac6de241af6bd9e5>2.2.6 - Class</h1>
<h1 id=class>Class</h1>
<p>Class content type is used for adding Classes on the site.</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Title</td>
<td>drupal&rsquo;s default</td>
<td>Yes</td>
<td>Title of the class item.</td>
</tr>
<tr>
<td>Activity</td>
<td>field_class_activity</td>
<td>No</td>
<td>A reference field for selecting the class.</td>
</tr>
<tr>
<td>Meta Tags</td>
<td>field_meta_tags</td>
<td>No</td>
<td>A meta tags field allows us to provide structured metadata and Graph meta tags for Facebook, Pinterest, LinkedIn and other social networking sites.</td>
</tr>
<tr>
<td><strong>Header Area</strong></td>
<td>Field group</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Content</td>
<td>field_header_content</td>
<td>No</td>
<td>A paragraph embed field that will allow us to add various flexible content modules, from the predefined list of paragraph types.</td>
</tr>
<tr>
<td><strong>Content Area</strong></td>
<td>Field group</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Description</td>
<td>field_class_description</td>
<td>No</td>
<td>Textarea for the description/body with WYSIWYG, without summary.</td>
</tr>
<tr>
<td>Content</td>
<td>field_content</td>
<td>No</td>
<td>A paragraph embed field that will allow us to add various flexible content modules, from the predefined list of paragraph types.</td>
</tr>
<tr>
<td><strong>Sidebar Area</strong></td>
<td>Field group</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Content</td>
<td>field_sidebar_content</td>
<td>No</td>
<td>A paragraph embed field that will allow us to add various flexible content modules, from the predefined list of paragraph types.</td>
</tr>
<tr>
<td><strong>Bottom Area</strong></td>
<td>Field group</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Content</td>
<td>field_bottom_content</td>
<td>No</td>
<td>A paragraph embed field that will allow us to add various flexible content modules, from the predefined list of paragraph types.</td>
</tr>
</tbody>
</table>
<h3 id=url-pattern>URL pattern</h3>
<p>Content type is using following pattern:
<code>/programs/[node:field_class_activity:entity:field_activity_category:entity:field_category_program:entity:title]/[node:field_class_activity:entity:field_activity_category:entity:title]/[node:title]/class-times</code></p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-2d7d61fcbc96d45076dbdf544ae5e343>2.2.7 - Facility</h1>
<h1 id=facility>Facility</h1>
<p>Facility content type is used for adding facilities on the site.</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Title</td>
<td>drupal&rsquo;s default</td>
<td>Yes</td>
<td>Title of the facility item.</td>
</tr>
<tr>
<td>Neighborhood</td>
<td>field_location_area</td>
<td>No</td>
<td>A taxonomy reference field using the Area Vocabulary(area).</td>
</tr>
<tr>
<td>Type</td>
<td>field_facility_type</td>
<td>No</td>
<td>A taxonomy reference field using the &ldquo;Facility Type&rdquo; vocabulary.</td>
</tr>
<tr>
<td>Facility Branch</td>
<td>field_facility_loc</td>
<td>No</td>
<td>A entity reference field to reference the related Branch node.</td>
</tr>
<tr>
<td>Meta Tags</td>
<td>field_meta_tags</td>
<td>No</td>
<td>A meta tags field allows us to provide structured metadata and Graph meta tags for Facebook, Pinterest, LinkedIn and other social networking sites.</td>
</tr>
<tr>
<td><strong>Contact</strong></td>
<td>Field group</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Address</td>
<td>field_location_address</td>
<td>Yes</td>
<td>An address field that will provide the ability to add details about the locations. Details to be completed: <ul><li>Address</li><li>City</li><li>State</li><li>Zip Code</li></ul></td>
</tr>
<tr>
<td>Facility Coordinates</td>
<td>field_location_coordinates</td>
<td>No</td>
<td>Input for providing the latitude and longitude information.</td>
</tr>
<tr>
<td>Phone</td>
<td>field_location_phone</td>
<td>Yes</td>
<td>Input for providing the phone information.</td>
</tr>
<tr>
<td>Fax</td>
<td>field_location_fax</td>
<td>No</td>
<td>Input for providing the fax information.</td>
</tr>
<tr>
<td>Email</td>
<td>field_location_email</td>
<td>No</td>
<td>Input for providing the email information.</td>
</tr>
<tr>
<td>Directions</td>
<td>field_location_directions</td>
<td>No</td>
<td>A link field for adding the directions link.</td>
</tr>
<tr>
<td><strong>Content Area</strong></td>
<td>Field group</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Content</td>
<td>field_content</td>
<td>No</td>
<td>A paragraph embed field that will allow us to add various flexible content modules, from the predefined list of paragraph types.</td>
</tr>
<tr>
<td><strong>Sidebar Area</strong></td>
<td>Field group</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Content</td>
<td>field_sidebar_content</td>
<td>No</td>
<td>A paragraph embed field that will allow us to add various flexible content modules, from the predefined list of paragraph types.</td>
</tr>
</tbody>
</table>
<h3 id=url-pattern>URL pattern</h3>
<p>Content type is using following pattern:
<code>/facility/[node:title]</code></p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-71d8d3f9ab0aca11b1accf7d2adf6bb5>2.2.8 - Landing Page</h1>
<h1 id=landing-page>Landing Page</h1>
<p>Landing Page content type is used for adding landing pages on the site.</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Title</td>
<td>drupal&rsquo;s default</td>
<td>Yes</td>
<td>Title of the landing page item.</td>
</tr>
<tr>
<td>Layout</td>
<td>field_lp_layout</td>
<td>Yes</td>
<td>Select list with the options: <ul><li>one_column_clean|One Column - Full width</li><li>one_column|One Column</li><li>two_column|Two Columns</li><li>two_column_fixed|Two Columns with fixed sidebar (sticky at the top)</li></ul></td>
</tr>
<tr>
<td>Meta Tags</td>
<td>field_meta_tags</td>
<td>No</td>
<td>A meta tags field allows us to provide structured metadata and Graph meta tags for Facebook, Pinterest, LinkedIn and other social networking sites.</td>
</tr>
<tr>
<td><strong>Header Area</strong></td>
<td>Field group</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Content</td>
<td>field_header_content</td>
<td>No</td>
<td>A paragraph embed field that will allow us to add various flexible content modules, from the predefined list of paragraph types.</td>
</tr>
<tr>
<td><strong>Content Area</strong></td>
<td>Field group</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Content</td>
<td>field_content</td>
<td>No</td>
<td>A paragraph embed field that will allow us to add various flexible content modules, from the predefined list of paragraph types.</td>
</tr>
<tr>
<td><strong>Sidebar Area</strong></td>
<td>Field group</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Content</td>
<td>field_sidebar_content</td>
<td>No</td>
<td>A paragraph embed field that will allow us to add various flexible content modules, from the predefined list of paragraph types.</td>
</tr>
<tr>
<td><strong>Bottom Area</strong></td>
<td>Field group</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Content</td>
<td>field_bottom_content</td>
<td>No</td>
<td>A paragraph embed field that will allow us to add various flexible content modules, from the predefined list of paragraph types.</td>
</tr>
</tbody>
</table>
<h3 id=url-pattern>URL pattern</h3>
<p>Content type is using following pattern:
<code>[node:title]</code></p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-b9e9ff01991a0c3b617beca22825ff42>2.2.9 - Membership</h1>
<h1 id=membership>Membership</h1>
<p>Membership content type is used for adding membership on the site.</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Title</td>
<td>drupal&rsquo;s default</td>
<td>Yes</td>
<td>Title of the membership item.</td>
</tr>
<tr>
<td>Description</td>
<td>field_mbrshp_description</td>
<td>Yes</td>
<td>Textarea for the description/body with WYSIWYG, without summary.</td>
</tr>
<tr>
<td>Image</td>
<td>field_mbrshp_image</td>
<td>Yes</td>
<td>Media field to upload the image.</td>
</tr>
<tr>
<td><strong>Membership info</strong></td>
<td>field_mbrshp_info</td>
<td>Paragraph</td>
<td>Paragraph to indicate the location where the membership is available and the URL.</td>
</tr>
<tr>
<td>Location</td>
<td>field_mbrshp_location</td>
<td>No</td>
<td>Select list with locations (branches). Single value.</td>
</tr>
<tr>
<td>Link</td>
<td>field_mbrshp_link</td>
<td>No</td>
<td>Link field to provide the membership redirect URL.</td>
</tr>
<tr>
<td>Join Fee</td>
<td>field_mbrshp_join_fee</td>
<td>No</td>
<td>Dollar value for how much someone has to pay to join.</td>
</tr>
<tr>
<td>Monthly Rate</td>
<td>field_mbrshp_monthly_rate</td>
<td>No</td>
<td>Dollar value for the monthly fee of the membership.</td>
</tr>
</tbody>
</table>
<h3 id=url-pattern>URL pattern</h3>
<p>Content type is using following pattern:
<code>/membership/[node:title]</code></p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-5c2a711adbb2ca3c7331b40a715ff7a5>2.2.10 - News</h1>
<h1 id=news>News</h1>
<p>News Post content type is used for adding news posts on the site.</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Title</td>
<td>drupal&rsquo;s default</td>
<td>Yes</td>
<td>Title of the news item.</td>
</tr>
<tr>
<td>Locations</td>
<td>field_news_location</td>
<td>Yes</td>
<td>Reference field to <code>branch</code> and <code>camp</code> nodes. Multiple Values.</td>
</tr>
<tr>
<td>Category</td>
<td>field_news_category</td>
<td>No</td>
<td>Reference field for choosing the term from &ldquo;News Category&rdquo; vocabulary. Multiple Values.</td>
</tr>
<tr>
<td>Meta Tags</td>
<td>field_meta_tags</td>
<td>No</td>
<td>A meta tags field allows us to provide structured metadata and Graph meta tags for Facebook, Pinterest, LinkedIn and other social networking sites.</td>
</tr>
<tr>
<td><strong>Content Area</strong></td>
<td>Field group</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Image</td>
<td>field_news_image</td>
<td>No</td>
<td>Image field for the News item. Entity reference to Media bundle.</td>
</tr>
<tr>
<td>Description</td>
<td>field_news_description</td>
<td>No</td>
<td>Textarea for the description/body with WYSIWYG, without summary.</td>
</tr>
<tr>
<td>Content</td>
<td>field_content</td>
<td>No</td>
<td>A paragraph embed field that will allow us to add various flexible content modules, from the predefined list of paragraph types.</td>
</tr>
<tr>
<td><strong>Sidebar Area</strong></td>
<td>Field group</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Related content</td>
<td>field_news_related</td>
<td>No</td>
<td>Reference field for choosing related News nodes. Multiple Values.</td>
</tr>
<tr>
<td>Content</td>
<td>field_sidebar_content</td>
<td>No</td>
<td>A paragraph embed field that will allow us to add various flexible content modules, from the predefined list of paragraph types.</td>
</tr>
</tbody>
</table>
<h3 id=url-pattern>URL pattern</h3>
<p>Content type is using following pattern:
<code>/news/[node:title]</code></p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-52e17063d4567a681024bbcfda5609ca>2.2.11 - Program</h1>
<h1 id=program>Program</h1>
<p>Program content type is used for adding Programs on the site.</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Title</td>
<td>drupal&rsquo;s default</td>
<td>Yes</td>
<td>Title of the program item.</td>
</tr>
<tr>
<td>Meta Tags</td>
<td>field_meta_tags</td>
<td>No</td>
<td>A meta tags field allows us to provide structured metadata and Graph meta tags for Facebook, Pinterest, LinkedIn and other social networking sites.</td>
</tr>
<tr>
<td><strong>Header Area</strong></td>
<td>Field group</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Icon</td>
<td>field_program_icon</td>
<td>No</td>
<td>A image field, supporting .svg for uploading the program icon.</td>
</tr>
<tr>
<td>Image</td>
<td>field_program_image</td>
<td>No</td>
<td>A image field, for uploading the program image.</td>
</tr>
<tr>
<td>Color</td>
<td>field_program_color</td>
<td>No</td>
<td>Reference field for choosing the term from &ldquo;Color&rdquo; vocabulary.</td>
</tr>
<tr>
<td>Content</td>
<td>field_header_content</td>
<td>No</td>
<td>A paragraph embed field that will allow us to add various flexible content modules, from the predefined list of paragraph types. If this field is not empty, then the image and icon are not displayed on the page.</td>
</tr>
<tr>
<td><strong>Content Area</strong></td>
<td>Field group</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Description</td>
<td>field_program_description</td>
<td>No</td>
<td>Textarea for the description/body with WYSIWYG, without summary.</td>
</tr>
<tr>
<td>Content</td>
<td>field_content</td>
<td>No</td>
<td>A paragraph embed field that will allow us to add various flexible content modules, from the predefined list of paragraph types.</td>
</tr>
<tr>
<td><strong>Sidebar Area</strong></td>
<td>Field group</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Content</td>
<td>field_sidebar_content</td>
<td>No</td>
<td>A paragraph embed field that will allow us to add various flexible content modules, from the predefined list of paragraph types.</td>
</tr>
</tbody>
</table>
<h3 id=url-pattern>URL pattern</h3>
<p>Content type is using following pattern:
<code>/programs/[node:title]</code></p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-43540f50fdc4e56156d8970627c5e9fa>2.2.12 - Program Subcategory</h1>
<h1 id=program-subcategory>Program Subcategory</h1>
<p>Program Subcategory content type is used for adding program subcategories on the site.</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Title</td>
<td>drupal&rsquo;s default</td>
<td>Yes</td>
<td>Title of the program subcategory item.</td>
</tr>
<tr>
<td>Program</td>
<td>field_category_program</td>
<td>Yes</td>
<td>A reference field for selecting the program.</td>
</tr>
<tr>
<td>Meta Tags</td>
<td>field_meta_tags</td>
<td>No</td>
<td>A meta tags field allows us to provide structured metadata and Graph meta tags for Facebook, Pinterest, LinkedIn and other social networking sites.</td>
</tr>
<tr>
<td><strong>Header Area</strong></td>
<td>Field group</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Image</td>
<td>field_category_image</td>
<td>No</td>
<td>A image field, for uploading the category image.</td>
</tr>
<tr>
<td>Color</td>
<td>field_category_color</td>
<td>No</td>
<td>Reference field for choosing the term from &ldquo;Color&rdquo; vocabulary.</td>
</tr>
<tr>
<td>Content</td>
<td>field_header_content</td>
<td>No</td>
<td>A paragraph embed field that will allow us to add various flexible content modules, from the predefined list of paragraph types.</td>
</tr>
<tr>
<td><strong>Content Area</strong></td>
<td>Field group</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Description</td>
<td>field_category_description</td>
<td>No</td>
<td>Textarea for the description/body with WYSIWYG, without summary.</td>
</tr>
<tr>
<td>Content</td>
<td>field_content</td>
<td>No</td>
<td>A paragraph embed field that will allow us to add various flexible content modules, from the predefined list of paragraph types.</td>
</tr>
<tr>
<td><strong>Sidebar Area</strong></td>
<td>Field group</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Content</td>
<td>field_sidebar_content</td>
<td>No</td>
<td>A paragraph embed field that will allow us to add various flexible content modules, from the predefined list of paragraph types.</td>
</tr>
<tr>
<td><strong>Bottom Area</strong></td>
<td>Field group</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Content</td>
<td>field_bottom_content</td>
<td>No</td>
<td>A paragraph embed field that will allow us to add various flexible content modules, from the predefined list of paragraph types.</td>
</tr>
</tbody>
</table>
<h3 id=url-pattern>URL pattern</h3>
<p>Content type is using following pattern:
<code>/programs/[node:field_category_program:entity:title]/[node:title]</code></p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-51d0ec2d77af566876dc4e2c035b12f0>2.2.13 - Session</h1>
<h1 id=session>Session</h1>
<p>Session content type is used for adding Sessions on the site.</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Title</td>
<td>drupal&rsquo;s default</td>
<td>Yes</td>
<td>Title of the session item.</td>
</tr>
<tr>
<td>Class</td>
<td>field_session_class</td>
<td>Yes</td>
<td>A reference field for selecting the program subcategory.</td>
</tr>
<tr>
<td><strong>Session Info</strong></td>
<td>Field group</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>Description</td>
<td>field_session_description</td>
<td>No</td>
<td>Textarea for the description/body with WYSIWYG, without summary.</td>
</tr>
<tr>
<td>Gender</td>
<td>field_session_gender</td>
<td>No</td>
<td>Select List with Gender options: Coed, Male, Female.</td>
</tr>
<tr>
<td>Online registration</td>
<td>field_session_online</td>
<td>No</td>
<td>Boolean field that determines if the Register Now button/link gets displayed.</td>
</tr>
<tr>
<td>Ticket required</td>
<td>field_session_ticket</td>
<td>No</td>
<td>Checkbox field to indicate that there is a ticket required.</td>
</tr>
<tr>
<td>Min Age</td>
<td>field_session_min_age</td>
<td>No</td>
<td>Input field for adding the min age.</td>
</tr>
<tr>
<td>Max Age</td>
<td>field_session_max_age</td>
<td>No</td>
<td>Input field for adding the max age.</td>
</tr>
<tr>
<td>Registration link</td>
<td>field_session_reg_link</td>
<td>No</td>
<td>A link field with the Registration link Value.</td>
</tr>
<tr>
<td><strong>Membership</strong></td>
<td>Field group</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>In membership</td>
<td>field_session_in_mbrsh</td>
<td>No</td>
<td>Boolean field that helps determine if the session is included into membership package.</td>
</tr>
<tr>
<td>Member price</td>
<td>field_session_mbr_price</td>
<td>No</td>
<td>Input with with the price information for members.</td>
</tr>
<tr>
<td>Non Member Price</td>
<td>field_session_nmbr_price</td>
<td>No</td>
<td>Input with with the price information for members.</td>
</tr>
<tr>
<td><strong>Location</strong></td>
<td>Field group</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>Location</td>
<td>field_session_location</td>
<td>Yes</td>
<td>A reference field for selecting the branch or camp.</td>
</tr>
<tr>
<td>Physical Location</td>
<td>field_session_plocation</td>
<td>No</td>
<td>A reference field for selecting the facility.</td>
</tr>
<tr>
<td><strong>Time</strong></td>
<td>Field group</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>Exclusions</td>
<td>field_session_exclusions</td>
<td>No</td>
<td>A date field that identifies dates that would normally have an instance of the session but won’t. Needs to be able to have multiple exclusions. Supports multiple values. Should be handled by a single date field with &lsquo;end date&rsquo; option enabled. Its widget should be adjust to not to show period end date, but show period end time (to keep period start/end date equal).</td>
</tr>
<tr>
<td><strong>Time</strong></td>
<td>field_session_time</td>
<td>Paragraph</td>
<td>Session schedule.</td>
</tr>
<tr>
<td>Date & Time</td>
<td>field_session_time_date</td>
<td>No</td>
<td>This will use Drupal date/time fields & should be a single date field with &lsquo;end date&rsquo; and &lsquo;end time&rsquo; option enabled.</td>
</tr>
<tr>
<td>Days</td>
<td>field_session_time_days</td>
<td>No</td>
<td>Checkboxes with following values: <ul><li>sunday|Sunday</li><li>monday|Monday</li><li>tuesday|Tuesday</li><li>wednesday|Wednesday</li><li>thursday|Thursday</li><li>friday|Friday</li><li>saturday|Saturday</li></ul> Should support multiple values.</td>
</tr>
</tbody>
</table>
<h3 id=url-pattern>URL pattern</h3>
<p>No URL pattern. Eventually this content type shouldn&rsquo;t be available for end users.</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-8382be8002f000e94e5681f1ecc1f3c5>2.2.14 - Social Post</h1>
<h1 id=social-post>Social Post</h1>
<p>Social Post content type is used for adding Social Posts on the site. Social Posts are grabbed from social networks.</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Title</td>
<td>drupal&rsquo;s default</td>
<td>Yes</td>
<td>Title of the program item.</td>
</tr>
<tr>
<td>ID</td>
<td>field_id</td>
<td>Yes</td>
<td>Post Id in social network. This is system field. Is used by post fetcher.</td>
</tr>
<tr>
<td>Image</td>
<td>field_image</td>
<td>No</td>
<td>Image field for saving post image. Can save jpg and png formats.</td>
</tr>
<tr>
<td>Link</td>
<td>field_link</td>
<td>no</td>
<td>Contains link to original post in social network.</td>
</tr>
<tr>
<td>Platform</td>
<td>field_platform</td>
<td>no</td>
<td>The name of platform where post was imported from.</td>
</tr>
<tr>
<td>Post</td>
<td>field_post</td>
<td>yes</td>
<td>Text of post.</td>
</tr>
<tr>
<td>Posted</td>
<td>field_posted</td>
<td>no</td>
<td>Date when post was posted in social network</td>
</tr>
</tbody>
</table>
<h3 id=url-pattern>URL pattern</h3>
<p>Content type is using following pattern:
<code>/social_post/[node:title]</code></p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-858ee971f9b727ec9c2f2547fcbbbcbb>2.3 - Media</h1>
</div>
<div class=td-content>
<h1 id=pg-c2e7835880181d51da4e609491a5abac>2.3.1 - WYSIWYG View Modes</h1>
<h1 id=media-wysiwyg-view-modes>Media WYSIWYG View Modes</h1>
<p>Listed view modes are available for embedding in WYSIWYG editor.</p>
<h3 id=view-modes>View Modes</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Full</td>
<td>embedded_full</td>
<td>This view mode displays media asset with full width.</td>
</tr>
<tr>
<td>Half</td>
<td>embedded_half</td>
<td>This view mode displays media asset with half width and uses alingment.</td>
</tr>
<tr>
<td>Link</td>
<td>embedded_link</td>
<td>This view mode displays link to media asset.</td>
</tr>
</tbody>
</table>
<h3 id=bundles-details>Bundles details</h3>
<h4 id=image>Image</h4>
<p>In &ldquo;Full&rdquo; and &ldquo;Half&rdquo; view modes image should be display in <code>&lt;img></code> tag with appropriate classes.
Link - should lead to the original image with <code>target=blank</code>.</p>
<h4 id=video>Video</h4>
<p>In &ldquo;Full&rdquo; and &ldquo;Half&rdquo; view modes should be displayed embedded video with appropriate classes.
Link - should lead to the original video with <code>target=blank</code>.</p>
<h4 id=document>Document</h4>
<p>In &ldquo;Full&rdquo; and &ldquo;Half&rdquo; view modes document should be displayed as iframe, where <code>URL</code> is URL to the document. Also it should have appripriate classes.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>iframe</span> <span style=color:#c4a000>src</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;//docs.google.com/gview?url=URL&amp;embedded=true&#34;</span> <span style=color:#c4a000>frameborder</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;0&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>iframe</span><span style=color:#000;font-weight:700>&gt;</span>
</code></pre></div><p>Link - should lead to the original document with <code>target=blank</code>.</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-097e3141597f88dc4dd18d71aa17224b>2.4 - Paragraphs</h1>
<p>Welcome to Open Y paragraphs.</p>
<p>Paragraphs are bits of content, components, from <a href=https://en.wikipedia.org/wiki/Component-based_software_engineering#Software_component>component based design</a> ideology.
In a scope of Open Y architecture paragraphs are based on <a href=https://www.drupal.org/project/paragraphs>Paragraphs Drupal module</a>.</p>
<p>The core idea of paragraphs is to have a nice looking and behaving widget for adding predefined content blocks right in place,
without referencing external entities. Keep in mind, that paragraphs are not reusable types. For having reusable type look for
<code>blocks</code> or <code>entities</code> in terms of Drupal 8.</p>
<p>Paragraphs were created for making UX better and super convenient.</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-83eae65a9ce71ec7870ff55bb591bba7>2.4.1 - 1c</h1>
<h1 id=paragraph-1-column>Paragraph 1 Column</h1>
<p>This is a paragraph type that will be used for implements a paragraph with 1 column.</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>Line Above</td>
<td>field_prfg_display_line_above</td>
<td>No</td>
<td>Display a line above the column.</td>
<td></td>
</tr>
<tr>
<td>Column</td>
<td>field_prgf_1c_column</td>
<td>No</td>
<td>Enter column body.</td>
<td></td>
</tr>
<tr>
<td>Paragraph Title</td>
<td>field_prgf_1c_title</td>
<td>No</td>
<td>Enter title to display at the top of 1 column paragraph.</td>
<td></td>
</tr>
<tr>
<td>Paragraph Description</td>
<td>field_prgf_1c_description</td>
<td>No</td>
<td>Enter description to display under the 1 column paragraph title.</td>
<td></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-282929484949c655f9932243c183c777>2.4.2 - 2c</h1>
<h1 id=paragraph-2-column>Paragraph 2 Column</h1>
<p>This is a paragraph type that will be used for implements a paragraph with 2 column.</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>Line Above</td>
<td>field_prfg_display_line_above</td>
<td>No</td>
<td>Display a line above the column.</td>
<td></td>
</tr>
<tr>
<td>Left Column</td>
<td>field_prgf_2c_left</td>
<td>No</td>
<td>Enter left column body.</td>
<td></td>
</tr>
<tr>
<td>Right Column</td>
<td>field_prgf_2c_right</td>
<td>No</td>
<td>Enter right column body.</td>
<td></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-1a80c5d910a8a688cd96c3b50f99bcd0>2.4.3 - 3c</h1>
<h1 id=paragraph-3-column>Paragraph 3 Column</h1>
<p>This is a paragraph type that will be used for implements a paragraph with 3 column.</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>Line Above</td>
<td>field_prfg_display_line_above</td>
<td>No</td>
<td>Display a line above the column.</td>
<td></td>
</tr>
<tr>
<td>Left Column</td>
<td>field_prgf_3c_left</td>
<td>No</td>
<td>Enter left column body.</td>
<td></td>
</tr>
<tr>
<td>Center Column</td>
<td>field_prgf_3c_center</td>
<td>No</td>
<td>Enter center column body.</td>
<td></td>
</tr>
<tr>
<td>Right Column</td>
<td>field_prgf_3c_right</td>
<td>No</td>
<td>Enter right column body.</td>
<td></td>
</tr>
<tr>
<td>Paragraph Title</td>
<td>field_prgf_title</td>
<td>No</td>
<td>Enter title to display at the top of 3 columns paragraph.</td>
<td></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-94508072e4f469f38cabf7bb1515dd31>2.4.4 - 4c</h1>
<h1 id=paragraph-4-column>Paragraph 4 Column</h1>
<p>This is a paragraph type that will be used for implements a paragraph with 4 column.</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>Line Above</td>
<td>field_prfg_display_line_above</td>
<td>No</td>
<td>Display a line above the column.</td>
<td></td>
</tr>
<tr>
<td>First Column</td>
<td>field_prgf_4c_1st</td>
<td>No</td>
<td>Enter first column body.</td>
<td></td>
</tr>
<tr>
<td>Second Column</td>
<td>field_prgf_4c_2nd</td>
<td>No</td>
<td>Enter second column body.</td>
<td></td>
</tr>
<tr>
<td>Third Column</td>
<td>field_prgf_4c_3rd</td>
<td>No</td>
<td>Enter third column body.</td>
<td></td>
</tr>
<tr>
<td>Fourth Column</td>
<td>field_prgf_4c_4th</td>
<td>No</td>
<td>Enter forth column body.</td>
<td></td>
</tr>
<tr>
<td>Button</td>
<td>field_prgf_4c_button</td>
<td>No</td>
<td>Button with link to display under 4 column paragraph</td>
<td></td>
</tr>
<tr>
<td>Paragraph Title</td>
<td>field_prgf_title</td>
<td>No</td>
<td>Enter title to display at the top of 4 columns paragraph.</td>
<td></td>
</tr>
<tr>
<td>Paragraph Description</td>
<td>field_prgf_description</td>
<td>No</td>
<td>Enter description to display under the 4 columns paragraph title.</td>
<td></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-7cadccd29e9c4db1058109375c53c09a>2.4.5 - All Amenities</h1>
<h1 id=all-amenities>All Amenities</h1>
<p>Provide a paragraph with a table view shows list of Branches.</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>All amenities</td>
<td>field_field_prgf_amnts_view</td>
<td>No</td>
<td>Predefined reference to a view to display all amenities.</td>
</tr>
<tr>
<td>Title</td>
<td>field_prgf_title</td>
<td>No</td>
<td>Enter title which is going to be displayed on top of the paragraph.</td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-3727fb183718a48597d10ddb79d1c5d4>2.4.6 - Banner</h1>
<h1 id=banner>Banner</h1>
<p>This is a paragraph type that will be used for the banner content.</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>Headline</td>
<td>field_prgf_headline</td>
<td>Yes</td>
<td>Headline of the banner.</td>
<td>Plain text, 255 characters</td>
</tr>
<tr>
<td>Color</td>
<td>field_prgf_color</td>
<td>Yes</td>
<td>Reference field for choosing the term from &ldquo;Color&rdquo; vocabulary.</td>
<td></td>
</tr>
<tr>
<td>Image</td>
<td>field_prgf_image</td>
<td>No</td>
<td>Entityreference to media image. Single value.</td>
<td></td>
</tr>
<tr>
<td>Description</td>
<td>field_prgf_description</td>
<td>No</td>
<td>WYSIWYG field without summary.</td>
<td></td>
</tr>
<tr>
<td>Link</td>
<td>field_prgf_link</td>
<td>No</td>
<td>Link field that should store internal and external links.</td>
<td></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-fc76a9f07873b843ff8d9905249798ff>2.4.7 - Blog Posts Listing</h1>
<h1 id=blog-posts-listing>Blog Posts Listing</h1>
<p>This is dynamic paragraph that renders the latest blog posts and utilizes exposed filters.</p>
<ul>
<li>Location</li>
<li>Category</li>
<li>Text</li>
</ul>
<p>It uses sticky at the top option and order items based on published date (newest at the top).</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Block</td>
<td>field_prgf_block</td>
<td>Yes</td>
<td>Block reference to the view/block. Should have default value and should be hidden in form display.</td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-d60518312e2a4d70c60bec2b50542deb>2.4.8 - Branches Popup (All)</h1>
<h1 id=branches-popup-all>Branches Popup (All)</h1>
<p>This is dynamic paragraph that renders the locations selection popup, based on current node.</p>
<p>Relates to:</p>
<ul>
<li>[Schedule search list](Schedule search list.md)</li>
<li>[Classes Listing](Classes Listing.md)</li>
</ul>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Block</td>
<td>field_prgf_block</td>
<td>Yes</td>
<td>Block reference to the view/block. Should have default value and should be hidden in form display.</td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-16d651bcdcb5ec8633de128daa87a173>2.4.9 - Branches Popup (Class)</h1>
<h1 id=branches-popup-class>Branches Popup (Class)</h1>
<p>This is dynamic paragraph that renders the locations selection popup, based on current node.</p>
<p>Relates to:</p>
<ul>
<li>[Class Sessions](Class Sessions.md)</li>
<li>[Class Location](Class Location.md)</li>
</ul>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Block</td>
<td>field_prgf_block</td>
<td>Yes</td>
<td>Block reference to the view/block. Should have default value and should be hidden in form display.</td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-709189ffd2e0ac7c81efbbcacc715def>2.4.10 - Categories Listing</h1>
<h1 id=categories-listing>Categories Listing</h1>
<p>This is dynamic paragraph that renders all published categories according to current program page.</p>
<p>It uses sticky at the top option and order items based on published date(newest at the top).</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Block</td>
<td>field_prgf_block</td>
<td>Yes</td>
<td>Block reference to the view/block. Should have default value and should be hidden in form display.</td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-3a2768494afc0d4e006cb09eb6f855e8>2.4.11 - Class Location</h1>
<h1 id=class-location>Class Location</h1>
<p>This is dynamic paragraph that renders the locations class location view mode, based on url query parameter location with a valid id.</p>
<p>Relates to [Branches Popup (Class)](Branches Popup (Class).md).</p>
<ul>
<li>When the page has a location parameter the Branches Popup paragraph will make an &ldquo;Edit&rdquo; link on this paragraph visible. That link triggers the Branches Popup to open.</li>
</ul>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Block</td>
<td>field_prgf_block</td>
<td>Yes</td>
<td>Block reference to the view/block. Should have default value and should be hidden in form display.</td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-40d22b5fe5771781d0a0145416a98c3c>2.4.12 - Class Sessions</h1>
<h1 id=class-sessions>Class Sessions</h1>
<p>This is dynamic paragraph that renders the class session instances, based on url query parameter location with a valid id.</p>
<p>Relates to [Branches Popup (Class)](Branches Popup (Class).md).</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Block</td>
<td>field_prgf_block</td>
<td>Yes</td>
<td>Block reference to the view/block. Should have default value and should be hidden in form display.</td>
</tr>
</tbody>
</table>
<h3 id=displayed-table>Displayed table</h3>
<ul>
<li>Location(should be displayed in case if &location=% not in the URL. Otherwise should be hiddedn.</li>
<li>Time + date</li>
<li>Registration(link)</li>
<li>Details
<ul>
<li>Online registration</li>
<li>Ticket required</li>
<li>In membership</li>
</ul>
</li>
<li>Age Min - Max</li>
</ul>
<h3 id=use-cases>Use cases</h3>
<p><em>Use case 3: Class page WITHOUT location popup</em>
3.1 Location in specified URL</p>
<ul>
<li>When I open Class page WITHOUT location popup on page</li>
<li>And I have location=% in the URL</li>
<li>We skip cookie whether is empty or exist</li>
<li>Results should be filtered based on location from URL</li>
<li>In sidebar we should see location teaser</li>
</ul>
<p>3.2 Preferred branch is empty and no location in URL or Preferred branch is selected and no location in URL</p>
<ul>
<li>When I open Class page WITHOUT location popup on page</li>
<li>And I don&rsquo;t have a preferred branch</li>
<li>Or I have a preferred branch</li>
<li>And I don&rsquo;t have location=% in the URL</li>
<li>Results should contain all branches</li>
<li>In sidebar we should see &ldquo;All locations&mldr;.&rdquo;</li>
</ul>
<p><em>Use case 4: Class page WITH location popup</em>
4.1 Location in specified URL</p>
<ul>
<li>When I open Class page WITH location popup on page</li>
<li>And I have location=% in the URL</li>
<li>We skip cookie whether is empty or exist</li>
<li>Results should be filtered based on location from URL</li>
<li>In sidebar we should see location teaser</li>
<li>Location is sidebar should have &ldquo;Edit&rdquo; link that will open location popup</li>
</ul>
<p>4.2 Preferred branch is empty and no location in URL or Preferred branch is selected and no location in URL</p>
<ul>
<li>When I open Class page WITH location popup on page</li>
<li>And I don&rsquo;t have a preferred branch</li>
<li>Or I have a preferred branch</li>
<li>And I don&rsquo;t have location=% in the URL</li>
<li>Results should contain all branches</li>
<li>In sidebar we should see &ldquo;All locations&mldr;.&rdquo;</li>
<li>Location popup should be shown (Unless only one location is associated with the class)</li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-845716fdfb2274585b551b8ad895a44c>2.4.13 - Classes Listing</h1>
<h1 id=classes-listing--classes-listing-filters>Classes Listing + Classes Listing Filters</h1>
<p>Classes Listing - should display all published classes grouped by activity.</p>
<p>Classes Listing Filters - this paragraph should disply filter form for &ldquo;Classes Listing&rdquo; with following fields:</p>
<ul>
<li>Location</li>
<li>Program</li>
<li>Sub-program</li>
<li>Activity</li>
</ul>
<p>Relates to [Branches Popup (All)](Branches Popup (All).md).</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Block</td>
<td>field_prgf_block</td>
<td>Yes</td>
<td>Block reference to the view/block. Should have default value and should be hidden in form display.</td>
</tr>
</tbody>
</table>
<h3 id=use-cases>Use cases</h3>
<p><em>Use case 1: Classes Listing paragraph on a Program subcategory page WITHOUT location popup paragraph</em>
1.1 Preferred branch is selected and no location in URL</p>
<ul>
<li>When I open Program subcategory page with Classes Listing WITHOUT location popup on page</li>
<li>And I have a preferred branch</li>
<li>And I don&rsquo;t have location=% in the URL</li>
<li>Filter by location should be predefined based on cookie</li>
<li>Results should be filtered</li>
</ul>
<p>1.2 Preferred branch is empty and no location in URL</p>
<ul>
<li>When I open Program subcategory page with Classes Listing WITHOUT location popup on page</li>
<li>And I don&rsquo;t have a preferred branch</li>
<li>And I don&rsquo;t have location=% in the URL</li>
<li>Filter by location should show &ldquo;All&rdquo;</li>
<li>Results should be shown for all branches</li>
</ul>
<p>1.3 Location in specified URL</p>
<ul>
<li>When I open Program subcategory page with Classes Listing WITHOUT location popup on page</li>
<li>And I have location=% in the URL</li>
<li>We skip cookie whether is empty or exist</li>
<li>Filter by location should show branch from URL</li>
<li>Results should be filtered</li>
</ul>
<p><em>Use case 2: Classes Listing paragraph on a Program subcategory page WITH location popup</em>
2.1 Preferred branch is selected and no location in URL</p>
<ul>
<li>When I open Program subcategory page with Classes Listing WITH location popup on page</li>
<li>And I have a preferred branch</li>
<li>And I don&rsquo;t have location=% in the URL</li>
<li>Location popup shouldn&rsquo;t be shown</li>
<li>Filter by location should be predefined based on cookie</li>
<li>Results should be filtered</li>
</ul>
<p>2.2 Preferred branch is empty and no location in URL</p>
<ul>
<li>When I open Program subcategory page with Classes Listing WITH location popup on page</li>
<li>And I don&rsquo;t have a preferred branch</li>
<li>And I don&rsquo;t have location=% in the URL</li>
<li>Filter by location should show &ldquo;All&rdquo;</li>
<li>Results should be shown for all branches</li>
<li>Location popup should be shown</li>
</ul>
<p>2.3 Location in specified URL</p>
<ul>
<li>When I open Program subcategory page with Classes Listing WITH location popup on page</li>
<li>And I have location=% in the URL</li>
<li>We skip cookie whether is empty or exist</li>
<li>Location popup shouldn&rsquo;t be shown</li>
<li>Filter by location should show branch from URL</li>
<li>Results should be filtered</li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-554e047f87d5817b10a84cd80cd46215>2.4.14 - Code</h1>
<h1 id=code>Code</h1>
<p>Provide paragraph containing a Code block. Can be used to embed Youtube video for instance.</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Code</td>
<td>field_prgf_code_block</td>
<td>Yes</td>
<td>Block reference to Code block. Create a new one or pick up an existed Code block.</td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-f70bb4fc67aec10231748fe55f39e2c0>2.4.15 - Featured Blog Posts</h1>
<h1 id=featured-blog-posts>Featured Blog Posts</h1>
<p>This is a paragraph type that will be used for the featured stories.</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Headline</td>
<td>field_prgf_headline</td>
<td>No</td>
<td>Headline of the banner.</td>
</tr>
<tr>
<td>Blog Posts</td>
<td>field_fblog_posts</td>
<td>Yes</td>
<td>Multiple values. Reference field to Blog posts.</td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-1e49cfb5b9c46f48aeb497847cc329d2>2.4.16 - Featured Content</h1>
<h1 id=featured-content>Featured Content</h1>
<p>This is a paragraph type that will be used for the featured content.</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Headline</td>
<td>field_prgf_headline</td>
<td>No</td>
<td>Headline of the featured content.</td>
</tr>
<tr>
<td>Description</td>
<td>field_prgf_description</td>
<td>No</td>
<td>Textarea for the description/body with WYSIWYG, without summary.</td>
</tr>
<tr>
<td>Link</td>
<td>field_prgf_link</td>
<td>No</td>
<td>Link field that supports internal and external URLs.</td>
</tr>
<tr>
<td>Style</td>
<td>field_prgf_grid_style</td>
<td>Yes</td>
<td>Select list with following values: 2:2 items per row, 3:3 items per row, 4:4 items per row</td>
</tr>
<tr>
<td>Column description</td>
<td>field_prgf_fc_clm_description</td>
<td>No</td>
<td>Multiple values. Textarea for the column with WYSIWYG, without summary.</td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-0426a5edc86e85beba9ecb777d0fc187>2.4.17 - Featured Highlights</h1>
<h1 id=featured-highlights>Featured Highlights</h1>
<p>Provides a paragraph containing blocks of specific types positioned as 2, 3 or 4 blocks per row.</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Title</td>
<td>field_prgf_title</td>
<td>No</td>
<td>Paragraph title.</td>
</tr>
<tr>
<td>Style</td>
<td>field_prgf_grid_style</td>
<td>Yes</td>
<td>Select list with following values: 2:2 items per row, 3:3 items per row, 4:4 items per row.</td>
</tr>
<tr>
<td>Featured Highlights block</td>
<td>field_prgf_block_ref_unlim</td>
<td>Yes</td>
<td>Create a new one or pick up an existing block of given types: Featured Highlight Block, Basic Block, Simple Block, Date block.</td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-5afa0608975110102586d3a682046b4b>2.4.18 - Featured News Posts</h1>
<h1 id=featured-news-posts>Featured News Posts</h1>
<p>This is a paragraph type that will be used for the featured news.</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Headline</td>
<td>field_prgf_headline</td>
<td>No</td>
<td>Headline of the banner.</td>
</tr>
<tr>
<td>News Posts</td>
<td>field_fnews_posts</td>
<td>Yes</td>
<td>Multiple values. Reference field to News posts.</td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-30514ec3196d20af51a93ba2f24c8c95>2.4.19 - Gallery</h1>
<h1 id=gallery>Gallery</h1>
<p>This is a paragraph type that will be used for the gallery content.</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Headline</td>
<td>field_prgf_headline</td>
<td>Yes</td>
<td>Headline of the gallery.</td>
</tr>
<tr>
<td>Description</td>
<td>field_prgf_description</td>
<td>No</td>
<td>WYSIWYG field without summary.</td>
</tr>
<tr>
<td>Link</td>
<td>field_prgf_link</td>
<td>No</td>
<td>Link field that should store internal and external links.</td>
</tr>
<tr>
<td>Images</td>
<td>field_prgf_images</td>
<td>No</td>
<td>Entityreference to media image. Multiple values.</td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-e39c448a8c01f914e7420d0e2d294e8d>2.4.20 - Grid columns</h1>
<h1 id=grid-columns>Grid columns</h1>
<p>This is a paragraph type that will be used for field_grid_columns the in Grid Content paragraph.</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Description</td>
<td>field_prgf_grid_clm_description</td>
<td>No</td>
<td>Textarea for the description/body with WYSIWYG, without summary.</td>
</tr>
<tr>
<td>Headline</td>
<td>field_prgf_clm_headline</td>
<td>No</td>
<td>Headline of the grid content.</td>
</tr>
<tr>
<td>Icon</td>
<td>field_prgf_clm_icon</td>
<td>No</td>
<td>Entityreference to media asset. Should allow to upload svgs.</td>
</tr>
<tr>
<td>Icon class</td>
<td>field_prgf_clm_class</td>
<td>No</td>
<td>Input field that allows to add the font-awesome icons needed. Description - &ldquo;Provide a &ldquo;Font Awesome&rdquo; icon mane, e.g. flag, car, info. Overrides image Icon.&rdquo;</td>
</tr>
<tr>
<td>Link</td>
<td>field_prgf_clm_link</td>
<td>No</td>
<td>Link field that supports internal and external URLs.</td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-eda3db6a87fe95f6b9ada280b4b8fb4d>2.4.21 - Grid Content</h1>
<h1 id=grid-content>Grid Content</h1>
<p>This is a paragraph type that will be used for the grid content stories.</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Style</td>
<td>field_prgf_grid_style</td>
<td>Yes</td>
<td>Select list with following values: 2:2 items per row, 3:3 items per row, 4:4 items per row</td>
</tr>
<tr>
<td><strong>Content</strong></td>
<td>field_grid_columns</td>
<td>Paragraph</td>
<td>Grid columns</td>
</tr>
<tr>
<td>Description</td>
<td>field_prgf_grid_clm_description</td>
<td>No</td>
<td>Textarea for the description/body with WYSIWYG, without summary.</td>
</tr>
<tr>
<td>Headline</td>
<td>field_prgf_clm_headline</td>
<td>No</td>
<td>Headline of the grid content.</td>
</tr>
<tr>
<td>Icon</td>
<td>field_prgf_clm_icon</td>
<td>No</td>
<td>Entityreference to media asset. Should allow to upload svgs.</td>
</tr>
<tr>
<td>Icon class</td>
<td>field_prgf_clm_class</td>
<td>No</td>
<td>Input field that allows to add the font-awesome icons needed. Description - &ldquo;Provide a &ldquo;Font Awesome&rdquo; icon mane, e.g. flag, car, info. Overrides image Icon.&rdquo;</td>
</tr>
<tr>
<td>Link</td>
<td>field_prgf_clm_link</td>
<td>No</td>
<td>Link field that supports internal and external URLs.</td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-cbfd27c590a3eb26dec76a407d9ad756>2.4.22 - Group Schedules</h1>
<h1 id=group-schedules>Group Schedules</h1>
<p>This is dynamic paragraph that renders the group schedules from GroupEx Pro.</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Block</td>
<td>field_prgf_block</td>
<td>Yes</td>
<td>Block reference to the view/block. Should have default value and is configurable in form display.</td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-9815b163ff351d0406552885cf0f583b>2.4.23 - Latest Blog Posts</h1>
<h1 id=latest-blog-posts>Latest Blog Posts</h1>
<p>This is dynamic paragraph that renders the latest blog posts that are promoted to the front page.</p>
<p>It uses sticky at the top option and order items based on published date (newest at the top).</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Block</td>
<td>field_prgf_block</td>
<td>Yes</td>
<td>Block reference to the view/block. Should have default value and should be hidden in form display.</td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-bb45a578b2ee31848d27ec1bd5f47fda>2.4.24 - Latest Blog Posts (Branch)</h1>
<h1 id=latest-blog-posts-branch>Latest Blog Posts (Branch)</h1>
<p>This is dynamic paragraph that renders the latest blog posts associated with a branch.</p>
<p>It uses sticky at the top option and order items based on published date (newest at the top).</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Block</td>
<td>field_prgf_block</td>
<td>Yes</td>
<td>Block reference to the view/block. Should have default value and should be hidden in form display.</td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-4517e332f4d1a54fff27664b1e611231>2.4.25 - Latest Blog Posts (Camp)</h1>
<h1 id=latest-blog-posts-camp>Latest Blog Posts (Camp)</h1>
<p>This is dynamic paragraph that renders the latest blog posts associated with a camp.</p>
<p>It uses sticky at the top option and order items based on published date (newest at the top).</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Block</td>
<td>field_prgf_block</td>
<td>Yes</td>
<td>Block reference to the view/block. Should have default value and should be hidden in form display.</td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-41371c79ba4c76e1eb9ed6a842773e61>2.4.26 - Latest News Posts</h1>
<h1 id=latest-news-posts>Latest News Posts</h1>
<p>This is dynamic paragraph that renders the latest news posts that are promoted to the front page.</p>
<p>It uses sticky at the top option and order items based on published date (newest at the top).</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Block</td>
<td>field_prgf_block</td>
<td>Yes</td>
<td>Block reference to the view/block. Should have default value and should be hidden in form display.</td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-d287228ccee046ff66ed2ff858ebd566>2.4.27 - Latest News Posts (Branch)</h1>
<h1 id=latest-news-posts-branch>Latest News Posts (Branch)</h1>
<p>This is dynamic paragraph that renders the latest news posts associated with a branch.</p>
<p>It uses sticky at the top option and order items based on published date (newest at the top).</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Block</td>
<td>field_prgf_block</td>
<td>Yes</td>
<td>Block reference to the view/block. Should have default value and should be hidden in form display.</td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-e052f186b6f012a33d3b187c7cc4d7f7>2.4.28 - Latest News Posts (Camp)</h1>
<h1 id=latest-news-posts-camp>Latest News Posts (Camp)</h1>
<p>This is dynamic paragraph that renders the latest news posts associated with a camp.</p>
<p>It uses sticky at the top option and order items based on published date (newest at the top).</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Block</td>
<td>field_prgf_block</td>
<td>Yes</td>
<td>Block reference to the view/block. Should have default value and should be hidden in form display.</td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-c9ce8aceaaf895ec6915e5df9c39e38c>2.4.29 - Limited Time Offer</h1>
<h1 id=limited-time-offer>Limited Time Offer</h1>
<p>This Paragraph add limited time offer for Home Page based on Landing Page CT.</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Subtitle</td>
<td>field_lto_subtitle</td>
<td>No</td>
<td>Enter subtitle for Limited time offer.</td>
</tr>
<tr>
<td>Link</td>
<td>field_lto_link</td>
<td>No</td>
<td>Add link for Latest time offer.</td>
</tr>
<tr>
<td>Title</td>
<td>field_lto_title</td>
<td>No</td>
<td>Enter title for the Limited Time Offer.</td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-dad74913dd1f56c5f8c67d304d4f1c7b>2.4.30 - Location finder</h1>
<h1 id=location-finder>Location finder</h1>
<p>This is paragraph that renders the Location finder block.</p>
<p>Location finder block contains locations views displays with branches, camps and facilities.</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Location finder</td>
<td>field_prgf_location_finder</td>
<td>No</td>
<td>Block reference to the location_finder block. Should have default value and should be hidden in form display.</td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-d494f4071845225501244646bcf60290>2.4.31 - Location finder filters</h1>
<h1 id=location-finder-filters>Location finder filters</h1>
<p>This is paragraph that renders the Location finder map with pins and filters.</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Location finder</td>
<td>field_prgf_location_finder</td>
<td>No</td>
<td>Block reference to the location_finder block. Should have default value and should be hidden in form display.</td>
</tr>
<tr>
<td>Tags style</td>
<td>field_prgf_lf_tags_style</td>
<td>Yes</td>
<td>Tags style that will be used for map tags filter. Default - checkboxes. Second option is multiselect widget with checkboxes.</td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-72ee4687fe3fb638941c69e3d7c261b8>2.4.32 - Membership info</h1>
<h1 id=membership-info>Membership info</h1>
<p>This is a paragraph type that will be used for field_mbrshp_info the in Membership CT.</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Location</td>
<td>field_mbrshp_location</td>
<td>No</td>
<td>Select list with locations (branches). Single value.</td>
</tr>
<tr>
<td>Link</td>
<td>field_mbrshp_link</td>
<td>No</td>
<td>Link field to provide the membership redirect URL.</td>
</tr>
<tr>
<td>Join Fee</td>
<td>field_mbrshp_join_fee</td>
<td>No</td>
<td>Dollar value for how much someone has to pay to join.</td>
</tr>
<tr>
<td>Monthly Rate</td>
<td>field_mbrshp_monthly_rate</td>
<td>No</td>
<td>Dollar value for the monthly fee of the membership.</td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-83b1754fb8aa22a20b8d10ae0ca42648>2.4.33 - Microsites menu</h1>
<h1 id=microsites-menu>Microsites Menu</h1>
<p>Provide paragraph containing a microsites menu block.</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Menu Block</td>
<td>field_prgf_block_ref</td>
<td>Yes</td>
<td>Block reference to the view/block. Create a new one or pick up an existed menu block.</td>
</tr>
<tr>
<td>Hide Main Menu</td>
<td>field_prgf_ms_menu_hide_menu</td>
<td>No</td>
<td>Whether to hide or not the main website menu.</td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-215ecdaa0daee16657fdaf55f6ab9109>2.4.34 - News Posts Listing</h1>
<h1 id=news-posts-listing>News Posts Listing</h1>
<p>This is dynamic paragraph that renders the latest news posts and utilizes exposed filters.</p>
<ul>
<li>Location</li>
<li>Category</li>
<li>Text</li>
</ul>
<p>It uses sticky at the top option and order items based on published date (newest at the top).</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Block</td>
<td>field_prgf_block</td>
<td>Yes</td>
<td>Block reference to the view/block. Should have default value and should be hidden in form display.</td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-f7f4a9d5cc72f2d736ed48cbd47d37b3>2.4.35 - Program Registration (Daxko)</h1>
<h1 id=program-registration-daxko>Program Registration (Daxko)</h1>
<p>This is paragraph that renders the Programs Search Block.</p>
<p>Programs Search Block provides a form to search programs from Daxko.</p>
<p>Relates to: <a href=../Development/Daxko.md>Daxko</a></p>
<p>Daxko & Program Registration (Daxko) configuration must be setup before the Program Registration paragraph will work.</p>
<p>Configuration setting at /admin/config/development/daxko/programs-search</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Program registration block</td>
<td>field_prgf_reg_block</td>
<td>No</td>
<td>Block reference to the programs_search_block block. Should have default value and should be hidden in form display.</td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-245afb04fed8545d8a61820e2772eca4>2.4.36 - Promo Card</h1>
<h1 id=promo-card>Promo Card</h1>
<p>This is a Paragraph type that will be used for the Promo Cards.</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Title</td>
<td>field_prgf_title</td>
<td>No</td>
<td>Title of the Promo Card.</td>
</tr>
<tr>
<td>Headline</td>
<td>field_prgf_headline</td>
<td>Yes</td>
<td>Headline of the Promo Card.</td>
</tr>
<tr>
<td>Description</td>
<td>field_prgf_description</td>
<td>No</td>
<td>WYSIWYG field without summary.</td>
</tr>
<tr>
<td>Link</td>
<td>field_prgf_link</td>
<td>No</td>
<td>Link field that should store internal and external links.</td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-c5c5d927287e220d9dba57d98069f7d9>2.4.37 - Schedule search form</h1>
<h1 id=schedule-search-form>Schedule search form</h1>
<p>This is dynamic paragraph that renders the session instances filters for [Schedule search list](Schedule search list.md).</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Block</td>
<td>field_prgf_block</td>
<td>Yes</td>
<td>Block reference to the view/block. Should have default value and should be hidden in form display.</td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-f82337ad1df983a993c86426c2029770>2.4.38 - Schedule search list</h1>
<h1 id=schedule-search-list>Schedule search list</h1>
<p>This is dynamic paragraph that renders the session instances, based on url parameters, and or filters from [Schedule search form](Schedule search form.md).</p>
<p>Relates to [Branches Popup (All)](Branches Popup (All).md).</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Block</td>
<td>field_prgf_block</td>
<td>Yes</td>
<td>Block reference to the view/block. Should have default value and should be hidden in form display.</td>
</tr>
</tbody>
</table>
<h3 id=use-cases>Use cases</h3>
<p><em>Use case 1: Schedule search list paragraph on a page WITHOUT location popup paragraph</em>
1.1 Preferred branch is selected and no location in URL</p>
<ul>
<li>When I open Schedule search list page WITHOUT location popup on page</li>
<li>And I have a preferred branch</li>
<li>And I don&rsquo;t have location=% in the URL</li>
<li>Filter by location should be predefined based on cookie</li>
<li>Results should be filtered</li>
</ul>
<p>1.2 Preferred branch is empty and no location in URL</p>
<ul>
<li>When I open Schedule search list page WITHOUT location popup on page</li>
<li>And I don&rsquo;t have a preferred branch</li>
<li>And I don&rsquo;t have location=% in the URL</li>
<li>Filter by location should show &ldquo;All&rdquo;</li>
<li>Results should be shown for all branches</li>
</ul>
<p>1.3 Location in specified URL</p>
<ul>
<li>When I open Schedule search list page WITHOUT location popup on page</li>
<li>And I have location=% in the URL</li>
<li>We skip cookie whether is empty or exist</li>
<li>Filter by location should show branch from URL</li>
<li>Results should be filtered</li>
</ul>
<p><em>Use case 2: Schedule search list paragraph on a page WITH location popup</em>
2.1 Preferred branch is selected and no location in URL</p>
<ul>
<li>When I open Schedule search list page WITH location popup on page</li>
<li>And I have a preferred branch</li>
<li>And I don&rsquo;t have location=% in the URL</li>
<li>Location popup shouldn&rsquo;t be shown</li>
<li>Filter by location should be predefined based on cookie</li>
<li>Results should be filtered</li>
</ul>
<p>2.2 Preferred branch is empty and no location in URL</p>
<ul>
<li>When I open Schedule search list page WITH location popup on page</li>
<li>And I don&rsquo;t have a preferred branch</li>
<li>And I don&rsquo;t have location=% in the URL</li>
<li>Filter by location should show &ldquo;All&rdquo;</li>
<li>Results should be shown for all branches</li>
<li>Location popup should be shown</li>
</ul>
<p>2.3 Location in specified URL</p>
<ul>
<li>When I open Schedule search list page WITH location popup on page</li>
<li>And I have location=% in the URL</li>
<li>We skip cookie whether is empty or exist</li>
<li>Location popup shouldn&rsquo;t be shown</li>
<li>Filter by location should show branch from URL</li>
<li>Results should be filtered</li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-0b75816c093cb6b04b7e34ab19be2105>2.4.39 - Secondary Description and Sidebar</h1>
<h1 id=secondary-description-and-sidebar>Secondary Description and Sidebar</h1>
<p>This is a Paragraph type that will be used for the paragraphs with left (secondary description) and right (sidebar) blocks.</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Left Column</td>
<td>field_prgf_left_column_block</td>
<td>No</td>
<td>Block reference to: Basic Block, Code Block, Date block or Simple Block. Create a new one or pick up an existed block.</td>
</tr>
<tr>
<td>Right Column</td>
<td>field_prgf_right_column_block</td>
<td>No</td>
<td>Block reference to: Basic Block, Code Block, Date block or Simple Block. Create a new one or pick up an existed block.</td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-70fbc64fd3626f54c0b8f0d798484573>2.4.40 - Session Time</h1>
<h1 id=session-time>Session Time</h1>
<p>This is a paragraph type that will be used for field_session_time the in Session CT.</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Date & Time</td>
<td>field_session_time_date</td>
<td>No</td>
<td>This will use Drupal date/time fields & should be a single date field with &lsquo;end date&rsquo; and &lsquo;end time&rsquo; option enabled.</td>
</tr>
<tr>
<td>Days</td>
<td>field_session_time_days</td>
<td>No</td>
<td>Checkboxes with following values: Sunday, Monday, Tuesday, Wednesday, Thursday, Friday, Saturday</td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-e2442f07470bdc9c5e9cfe7e23446657>2.4.41 - Simple Content</h1>
<h1 id=simple-content>Simple Content</h1>
<p>Simple Content is used for adding text to the pages.</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Content</td>
<td>field_prgf_description</td>
<td>Yes</td>
<td>WYSIWYG field without summary.</td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-05f1876c213ecf18e26a6a4e28c70020>2.4.42 - Small Banner</h1>
<h1 id=small-banner>Small Banner</h1>
<p>This is a paragraph type that will be used for the banner content.</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>Color</td>
<td>field_prgf_color</td>
<td>Yes</td>
<td>Reference field for choosing the term from &ldquo;Color&rdquo; vocabulary.</td>
<td></td>
</tr>
<tr>
<td>Headline</td>
<td>field_prgf_headline</td>
<td>Yes</td>
<td>Headline of the Small banner.</td>
<td>Plain text, 255 characters</td>
</tr>
<tr>
<td>Image</td>
<td>field_prgf_image</td>
<td>No</td>
<td>Entityreference to media image. Single value.</td>
<td></td>
</tr>
<tr>
<td>Description</td>
<td>field_prgf_description</td>
<td>No</td>
<td>WYSIWYG field without summary.</td>
<td></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-c9d3446011980a0a85ad176567b9eac1>2.4.43 - Social Post Listing</h1>
<h1 id=social-post-listing>Social Post Listing</h1>
<p>This is dynamic paragraph that renders the latest social posts that were imported from social networks.</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Title</td>
<td>field_prgrf_sl_title</td>
<td>No</td>
<td>Title for block with social posts.</td>
</tr>
<tr>
<td>Description</td>
<td>field_prgrf_sl_description</td>
<td>No</td>
<td>Description for block with social posts.</td>
</tr>
<tr>
<td>Social List</td>
<td>field_prgrf_sl_block</td>
<td>No</td>
<td>Reference to views block which select posts and show them as masorny grid.</td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-e1913e0ba195a38991e25c7ac7fb413d>2.4.44 - Social_Share_Icons</h1>
<h1 id=social-share-icons>Social Share Icons</h1>
<p>This is a paragraph type that will be used for the add social media share.
See more <a href=../../Development/AddThis.md>How to configure AddThis</a></p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
<th>Notes</th>
</tr>
</thead>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-4703e7f49e17a27631ee3d1f5cf04fa1>2.4.45 - Story Card</h1>
<h1 id=story-card>Story Card</h1>
<p>This is a Paragraph type that will be used for the Story Cards.</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Title</td>
<td>field_prgf_title</td>
<td>No</td>
<td>Title of the Story Card.</td>
</tr>
<tr>
<td>Headline</td>
<td>field_prgf_headline</td>
<td>Yes</td>
<td>Headline of the Story Card.</td>
</tr>
<tr>
<td>Link</td>
<td>field_prgf_link</td>
<td>No</td>
<td>Link field that should store internal and external links.</td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-3272e380b516fc5c047533702220fc73>2.4.46 - Teaser</h1>
<h1 id=teaser>Teaser</h1>
<p>This is a paragraph type that will be used for the teaser content.</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Title</td>
<td>field_prgf_title</td>
<td>No</td>
<td>Title of the Teaser.</td>
</tr>
<tr>
<td>Image</td>
<td>field_prgf_image</td>
<td>No</td>
<td>Entityreference to media image. Single value.</td>
</tr>
<tr>
<td>Description</td>
<td>field_prgf_description</td>
<td>No</td>
<td>WYSIWYG field without summary.</td>
</tr>
<tr>
<td>Link</td>
<td>field_prgf_link</td>
<td>No</td>
<td>Link field that should store internal and external links.</td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-9f3dc507ae69e8274e2f520336c786ca>2.4.47 - Webform</h1>
<h1 id=webform>Webform</h1>
<p>This is a paragraph type that will be used for the embedding webforms.</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Embedded Webform</td>
<td>field_prgf_webform</td>
<td>No</td>
<td>Embedded webform entityreference (select). Single value.</td>
</tr>
<tr>
<td>Default webform submission data (YAML)</td>
<td>field_prgf_webform_default_data</td>
<td>No</td>
<td>YAML code for passing in default values to webform.</td>
</tr>
<tr>
<td>Webform status</td>
<td>field_prgf_webform_status</td>
<td>No</td>
<td>Status of webform on render. Radio with 2 options, open or closed (Closed prevents further submissions).</td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-aa6661af7c13203817044aebd29b1724>2.5 - Taxonomy</h1>
</div>
<div class=td-content>
<h1 id=pg-058f813504d02e0240817e313c4e3a94>2.5.1 - Amenities</h1>
<h1 id=amenities-vocabulary>Amenities Vocabulary</h1>
<p>This is a vocabulary that will be used for adding reference Branch amenities. We will use this for the Branch.</p>
<p><strong>Machine_name</strong>: amenities</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-250feb9dc1b1b6210630afb12d27d73f>2.5.2 - Area</h1>
<h1 id=area-vocabulary>Area Vocabulary</h1>
<p>This is a vocabulary that will be used for adding location areas on the site. We will use this for the Location Branch and Facility CTs.</p>
<p><strong>Machine_name</strong>: area</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-50ba685790f7206f376c2ff20730560f>2.5.3 - Blog Category</h1>
<h1 id=blog-category>Blog Category</h1>
<p>This is a vocabulary that will be used for adding blog categories on the site.</p>
<p><strong>Machine_name</strong>: blog_category</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-075fa59ad387eb2dd6ee72cd89b1b592>2.5.4 - Color</h1>
<h1 id=area-vocabulary>Area Vocabulary</h1>
<p>This is a vocabulary that will be used for adding colors on the site.</p>
<p><strong>Machine_name</strong>: color</p>
<h3 id=fields>Fields</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Machine name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Name</td>
<td>drupal&rsquo;s default</td>
<td>Yes</td>
<td>Color name.</td>
</tr>
<tr>
<td>Color</td>
<td>field_color</td>
<td>Yes</td>
<td>Color selector.</td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-f88a45f0427e62b8bf908ef60d7b461e>2.5.5 - Facility Type</h1>
<h1 id=facility-type>Facility Type</h1>
<p>This is a vocabulary that will be used for adding facility type on the site. We will use this for the Facility CT.</p>
<p><strong>Machine name</strong>: facility_type</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-56d7fd6ee6979f6c1e2213ff72a8e90f>2.5.6 - Media Tags</h1>
<h1 id=media-tags>Media Tags</h1>
<p>This is a vocabulary that will be used for adding media tags that will allow you to structurize your media assets library.</p>
<p><strong>Machine name</strong>: media_tags</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-928bfccb3a3a999343f57d45e67f9fd6>2.5.7 - News Category</h1>
<h1 id=news-category>News Category</h1>
<p>This is a vocabulary that will be used for adding news categories on the site.</p>
<p><strong>Machine_name</strong>: news_category</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-39f3813de34ce5cae320697c88e2a917>3 - Development</h1>
<p>Welcome to the development corner of the Open Y distribution.</p>
<p>Here you can find all needed documentation and how-to work with Open Y codebase from developer&rsquo;s point of view.)</p>
</div>
<div class=td-content>
<h1 id=pg-13c91d4bbd4c7b223a78a93ef913f2ba>3.1 - AcceptanceTesting</h1>
<h3 id=open-y-acceptance-testing-best-practices>Open Y Acceptance testing best practices</h3>
<p>Open Y is a big distribution with a large amount of modules, components, subsystems, and business
processes, therefore we have to take appropriate steps to ensure the stability of major functionality during development.</p>
<p>For the automated tests we have created <a href=https://github.com/ymcatwincities/openy/blob/8.x-1.x/.github/PULL_REQUEST_TEMPLATE.md>General Checks template</a>
on GitHub every developer should follow to get review approval from Open Y core team.
However, General Checks are for testing functionality for the current proposed change only, not for Regression Testing.</p>
<p>For regression testing, <a href=https://github.com/ymcatwincities/openy/blob/8.x-1.x/docs/Development/Tests.md#behat>Behat tests</a> in this flow are provided automatically on each build by Open Y community.</p>
<p>Every pull request should include a testing plan prior to release into Open Y. This plan should cover the testing of all workflows and functionality to ensure that they continue to work with any new code or change implemented. This is because it is possible for conflicts to occur between elements of Open Y, Drupal Modules, and Drupal Core. These pull request testing plans will increase productivity and decrease effort for manual Acceptance Testing of upcoming Releases. This testing plan should cover specific features and functionality that is likely to cause regression issues post-release or post-upgrade to the latest version of Open Y once this new code is implemented.</p>
<p>Example of testing plan: If the Drupal core is updated it is important to gather all Drupal core Release Notes since last release
core upgrade for Open Y and analyze important issues fixed.
Example - in case if you are doing upgrade from latest 8.4.0 to 8.4.4:</p>
<ul>
<li><a href=https://www.drupal.org/project/drupal/releases/8.4.4>https://www.drupal.org/project/drupal/releases/8.4.4</a> (translations)</li>
<li><a href=https://www.drupal.org/project/drupal/releases/8.4.3>https://www.drupal.org/project/drupal/releases/8.4.3</a> (postgreSQL and migration)</li>
<li><a href=https://www.drupal.org/project/drupal/releases/8.4.2>https://www.drupal.org/project/drupal/releases/8.4.2</a> (migrations, taxonomy, ckeditor)</li>
<li><a href=https://www.drupal.org/project/drupal/releases/8.4.1>https://www.drupal.org/project/drupal/releases/8.4.1</a> (composer)</li>
</ul>
<p>This means the list of systems should be tested are</p>
<ul>
<li>multilingual</li>
<li>postgreSQL support</li>
<li>migration</li>
<li>taxonomy</li>
<li>ckeditor</li>
<li>composer</li>
</ul>
<p>This list could be extended by analyzing some highly important parts of Open Y distributions that depends from the above
subsystems. It is not required to spend time on every module that has a dependency taxonomy, but it is important to test at least one impacted module to ensure it is still working post-implementation. In case if there is a Behat test already created for the subsystem in a list then a manual test could be skipped as long as the build is not failing due to the module or element covered in the associatied Behat test.</p>
<p>How to choose which modules to test: These can be a random selection from the list of systems impacted, or one of the oldest modules in a system impacted. This is because there is a higher chance that a minor change could cause a regression issue for the modules that have not received recent or regular updates.</p>
<p>The oldest modules(contrib modules) that have dependencies from the above list should also be updated, but
to improve productivity, these updates should only be initiated if there is a security issue or a module stopped working because of
the subsystems getting updated within an upcoming release. In case if a respective module update creates more issues
that the older version of said module - then it is better to keep the old module and fix an associated regression bug.
Tip: usually a new version of the module already contains a bug fix, so adding a patch from the drupal.org to composer.json of the Open Y distribution is preffered to get distribution
released. Keep in mind, you will need to create a follow-up task for the module to be updated after release.</p>
<p>After creating list of modules that could introduce regression issues it is highly recommended to follow
Quickstart section of the module&rsquo;s readme files, that usually is shipped with modules. <a href=https://github.com/ymcatwincities/openy/blob/8.x-1.x/modules/custom/location_finder/README.md#quickstart>Example for the location_finder</a>.
In case if a module has no Quickstart of Acceptance testing section in readme - it is important to test at least one place
where functionality of the module should be working. It is highly recommended to add this manual test steps as
a follow-up task, <a href=https://github.com/ymcatwincities/openy/issues/new>new issue</a> or even better - create Pull Request
with changes to readme into Open Y repository. For the sake of performance, adding step by step how-to to the respective
module&rsquo;s README.md file is highly recommended. It takes only a few minutes to write a couple of lines of documentation which will greatly help others with future contributions and changes.</p>
<p>Optional, but grately appreciated: Add a Drupal tour for the how-to, created in README will benefit future Open Y users and developers.
Having a tour for the business functionality is highly recommended to ship with the component - it creates an in-site visual guided documentation and helps to decrease time for the Acceptance testing.</p>
<p>And last, but not the lease - adding Behat tests to the system will ensure functionality is tested on every pull
request, on every CI build in the future.</p>
<h3 id=rule>Rule</h3>
<p>Every release of Open Y since 8.1.9 should include list of subsystems, changed in release for the community to be aware of the possible regressions on their end.)</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-6d368efad43fd9d7dd548e351066f7de>3.2 - AddThis</h1>
<h1 id=how-to-configure-addthis>How to configure AddThis</h1>
<p>Open Y AddThis module allow you easy add Social icons to any node.</p>
<ol>
<li>
<p>Go to <code>http://www.addthis.com</code> and create your account and get public id.</p>
</li>
<li>
<p>Go to <code>admin/openy/settings/openy-addthis</code> add public id
<img src=../assets/addthis.png alt="Enter Public id"></p>
</li>
<li>
<p>Select the content type for which to show the social icons and save.</p>
</li>
</ol>
<h2 id=how-to-use-addthis-paragraph>How to use AddThis paragraph</h2>
<p>You can add AddThis to specific node use &lsquo;Social share icons&rsquo; paragraph</p>
<ol>
<li>
<p>Click on &lsquo;Edit&rsquo; any node</p>
</li>
<li>
<p>After content add &lsquo;Social share icons&rsquo; paragraph
<img src=../assets/addthis_paragraph.png alt="Enter Public id">)</p>
</li>
</ol>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-d7a9bd8705c6c74b658ca7da5c5f83c5>3.3 - Composer</h1>
<h1 id=composer>Composer</h1>
<p>Please always make sure <code>composer.lock</code> file is updated after any changes in <code>composer.json</code> file.
You can use <code>composer update</code> command to update any package, in this case composer will take care about updating of <code>composer.lock</code> file.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>composer update drupal/metatag
</code></pre></div><p>Also you can use <code>composer update --lock</code> command to force updating of <code>composer.lock</code> file according to dependencies in <code>composer.json</code>.</p>
<p>Please check official composer documentation for details: <a href=https://getcomposer.org/doc/01-basic-usage.md>https://getcomposer.org/doc/01-basic-usage.md</a>)</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-af0a3717480e90e7da195d5518114385>3.4 - Configuration for social posts import</h1>
<p>Add import social posts to site (Facebook, Instagram, Twitter)</p>
<h3 id=how-configure-import-of-posts-from-the-social-networks>How configure import of posts from the social networks</h3>
<p><strong>Given:</strong>
As an Open Y site developer, I want to be able import posts from company&rsquo;s accounts form social networks (Twitter, Facebook, Instagram) and save them as content on the site.</p>
<p><strong>How to:</strong></p>
<ul>
<li>Open configuration page /admin/config/social_feed_fetcher_settings - Configuration -> Social Feed Settings</li>
<li>Select checkbox for needed social network and add additional settings. Every social network has their own API, please read documentation for this settings on the official pages of each social networks.</li>
<li>When all settings will be filled - click on the button - Run Cron. Import is started. )</li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-143003b5915239214051c7b177f8d467>3.5 - Contributing</h1>
<h1 id=contributing-to-open-y>Contributing to Open Y</h1>
<h1 id=issues>Issues</h1>
<p>If you have a support request, you&rsquo;ve found a bug or you have a feature request:</p>
<ul>
<li>Search through known issues/requests <a href=https://github.com/ymcatwincities/openy/issues>https://github.com/ymcatwincities/openy/issues</a></li>
<li>Create new issue <a href=https://github.com/ymcatwincities/openy/issues/new>https://github.com/ymcatwincities/openy/issues/new</a></li>
</ul>
<h1 id=pull-requests>Pull Requests</h1>
<p>If you have some time to make a contribution to the project, here are the steps that will help you:</p>
<ul>
<li>Create fork of <a href=https://github.com/ymcatwincities/openy>main project</a>. <a href=https://help.github.com/articles/fork-a-repo/>How to create fork</a>.</li>
<li>Commit & push changes into your fork</li>
<li>Create new Pull Request. <a href=https://help.github.com/articles/creating-a-pull-request/>How to create Pull Request</a>.</li>
<li>Write steps for review. In this way maintainers can go through steps on build to verify your fix/feature.</li>
<li>Ensure steps for review added to README.md file in a module&rsquo;s/project&rsquo;s directory if it makes sence to check them on regular basis. Often this is needed for crucial parts of the system which is main business functionality of the component. Example of super simple steps for review <a href=https://github.com/ymcatwincities/openy/blob/8.x-1.x/modules/custom/location_finder/README.md#quickstart>see in Quickstart section of location_finder module</a>, plese.</li>
<li>Create Drupal tour module, based on steps for review and ship it with the module which provides a functionality.</li>
<li>Wait for a CI build and ask maintainers for review.</li>
</ul>
<p><strong>Important:</strong> make sure your git email is associated with account on drupal.org, otherwise you won&rsquo;t get commits there.</p>
<h1 id=drupalorg-credits>Drupal.org credits</h1>
<p>If you would like to get drupal.org credits for your contribution:</p>
<ul>
<li>Create issue on <a href="https://www.drupal.org/project/issues/openy?categories=All">drupal.org</a></li>
<li>Link drupal.org issue to GitHub Pull Request</li>
<li>Specify in GitHub Pull Request link to drupal.org issue</li>
<li>Once PR has been merged, reviewer will close drupal.org issue with appropriate credits.)</li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-815678a9b3989cb30d9431dae076e103>3.6 - Create View Modes</h1>
<h1 id=how-to-create-new-view-mode-and-use>How to Create new View mode and use</h1>
<p>As with any other entity in drupal, when it comes to render the rendering it in different contexts, you might want to have specific viewmodes.</p>
<p>Here you can find instructions how you can add new view modes into embedded entity form on Open Y distribution.</p>
<h2 id=how-to-create-new-view-mode>How-to create new View mode</h2>
<ol>
<li>Go to &lsquo;View modes&rsquo; page: Structure -> Display modes -> View modes (or visit the URL: /admin/structure/display-modes/view )
<img src=../assets/view_mode_in_menu.png alt="Configuration project add/update form"></li>
</ol>
<p><img src=../assets/view_mode_types.png alt="Configuration project add/update form"></p>
<ol start=2>
<li>Create new view mode: click &lsquo;Add view mode&rsquo; button and select entity type (or visit the URL: /admin/structure/display-modes/view/add )</li>
</ol>
<p><img src=../assets/view_mode_firt_way_to_create.png alt="Configuration project add/update form"></p>
<p>or after each entity type you can see &lsquo;Add new {Name} view mode&rsquo; and click on it
<img src=../assets/view_mode_seond_way.png alt="Configuration project add/update form"></p>
<ol start=3>
<li>Select &ldquo;Media&rdquo; and then give a name to your new viewmode (or visit the URL: /admin/structure/display-modes/view/add/media )
<img src=../assets/view_mode_creating.png alt="Configuration project add/update form"></li>
</ol>
<h2 id=how-to-use-new-view-mode>How-to use new View mode</h2>
<ol>
<li>Go to Configuration -> Text editor embed buttons (or visit the URL: /admin/config/content/embed )
<img src=../assets/view_mode_using.png alt="Configuration project add/update form"></li>
</ol>
<p><img src=../assets/view_mode_using_list.png alt="Configuration project add/update form"></p>
<ol start=2>
<li>Then make sure you enable the new viewmode in &ldquo;Allowed Entity Embed Display plugins&rdquo;, and at the bottom of the page click &ldquo;Save&rdquo;.
<img src=../assets/view_mode_enable.png alt="Configuration project add/update form">)</li>
</ol>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-992b93a807a2cdb5efb93976645bd2d9>3.7 - DataLayer</h1>
<p>See also the Data Layer module readme datalayer/README.md</p>
<p>The Data Layers module output data on the page in a json format. By default it will output properties (langcode, vid, name, uid, created, status, roles) and related taxonomy for any node, user, or any route based entity.</p>
<p>A limited set of properties are available via the Data Layers configuration form at /admin/config/search/datalayer (langcode, vid, name, uid, created, status, roles).</p>
<p>Adding additional properties can be done through use of hook_datalayer_meta().</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=color:#204a87;font-weight:700>function</span> <span style=color:#000>my_module_datalayer_meta</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
  <span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>array</span><span style=color:#000;font-weight:700>(</span>
    <span style=color:#4e9a06>&#39;property&#39;</span><span style=color:#000;font-weight:700>,</span>
  <span style=color:#000;font-weight:700>);</span>
<span style=color:#000;font-weight:700>}</span>
</code></pre></div><p>It will be added to the page as:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=color:#000;font-weight:700>{</span>
  <span style=color:#204a87;font-weight:700>&#34;entityProperty&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;whatever the value is&#34;</span>
<span style=color:#000;font-weight:700>}</span>
</code></pre></div><p>Altering which properties will be output can be done via hook_datalayer_meta_alter().</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=color:#204a87;font-weight:700>function</span> <span style=color:#000>my_module_datalayer_meta_alter</span><span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>&amp;</span><span style=color:#000>$properties</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
  <span style=color:#8f5902;font-style:italic>// Override module norm in all cases.
</span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#000>unset</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>$properties</span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#39;entityUid&#39;</span><span style=color:#000;font-weight:700>]);</span>

  <span style=color:#8f5902;font-style:italic>// Specific situation alteration...
</span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#000>$type</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>;</span>
  <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>$obj</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>_datalayer_menu_get_any_object</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>$type</span><span style=color:#000;font-weight:700>))</span> <span style=color:#000;font-weight:700>{</span>
    <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>$type</span> <span style=color:#ce5c00;font-weight:700>===</span> <span style=color:#4e9a06>&#39;node&#39;</span> <span style=color:#ce5c00;font-weight:700>&amp;&amp;</span> <span style=color:#000>in_array</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>array</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;my_bundle&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;my_nodetype&#39;</span><span style=color:#000;font-weight:700>),</span> <span style=color:#000>$obj</span><span style=color:#ce5c00;font-weight:700>-&gt;</span><span style=color:#c4a000>type</span><span style=color:#000;font-weight:700>))</span> <span style=color:#000;font-weight:700>{</span>
      <span style=color:#8f5902;font-style:italic>// Remove author names on some content type.
</span><span style=color:#8f5902;font-style:italic></span>      <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>$key</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>array_search</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;name&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>$properties</span><span style=color:#000;font-weight:700>))</span> <span style=color:#000;font-weight:700>{</span>
        <span style=color:#000>unset</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>$properties</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>$key</span><span style=color:#000;font-weight:700>]);</span>
      <span style=color:#000;font-weight:700>}</span>
    <span style=color:#000;font-weight:700>}</span>
    <span style=color:#204a87;font-weight:700>elseif</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>$type</span> <span style=color:#ce5c00;font-weight:700>===</span> <span style=color:#4e9a06>&#39;my_entity_type&#39;</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
      <span style=color:#8f5902;font-style:italic>// Remove some property on some entity type.
</span><span style=color:#8f5902;font-style:italic></span>      <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>$key</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>array_search</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;my_property&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>$properties</span><span style=color:#000;font-weight:700>))</span> <span style=color:#000;font-weight:700>{</span>
        <span style=color:#000>unset</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>$properties</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>$key</span><span style=color:#000;font-weight:700>]);</span>
      <span style=color:#000;font-weight:700>}</span>
    <span style=color:#000;font-weight:700>}</span>
  <span style=color:#000;font-weight:700>}</span>
<span style=color:#000;font-weight:700>}</span>
</code></pre></div><p>Adding additional data can be done using datalayer_add().</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=color:#204a87;font-weight:700>function</span> <span style=color:#000>_my_module_myevent_func</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>$argument</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>FALSE</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
  <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>$argument</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
    <span style=color:#000>datalayer_add</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>array</span><span style=color:#000;font-weight:700>(</span>
      <span style=color:#4e9a06>&#39;drupalMyProperty&#39;</span> <span style=color:#ce5c00;font-weight:700>=&gt;</span> <span style=color:#000>$argument</span><span style=color:#000;font-weight:700>,</span>
      <span style=color:#4e9a06>&#39;userAnotherProperty&#39;</span> <span style=color:#ce5c00;font-weight:700>=&gt;</span> <span style=color:#000>_my_module_other_funct</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>$argument</span><span style=color:#000;font-weight:700>),</span>
    <span style=color:#000;font-weight:700>));</span>
  <span style=color:#000;font-weight:700>}</span>
<span style=color:#000;font-weight:700>}</span>
</code></pre></div><p>To alter the data to be output use hook_datalayer_alter().</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=color:#204a87;font-weight:700>function</span> <span style=color:#000>my_module_datalayer_alter</span><span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>&amp;</span><span style=color:#000>$data_layer</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
  <span style=color:#8f5902;font-style:italic>// Make the title lowercase on some node type.
</span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>isset</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>$data_layer</span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#39;entityBundle&#39;</span><span style=color:#000;font-weight:700>])</span> <span style=color:#ce5c00;font-weight:700>&amp;&amp;</span> <span style=color:#000>$data_layer</span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#39;entityBundle&#39;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#4e9a06>&#39;mytype&#39;</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
    <span style=color:#000>$data_layer</span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#39;entityLabel&#39;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>strtolower</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>$data_layer</span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#39;entityLabel&#39;</span><span style=color:#000;font-weight:700>]);</span>
  <span style=color:#000;font-weight:700>}</span>
<span style=color:#000;font-weight:700>}</span>
<span style=color:#4e9a06>``</span><span style=color:#a40000>`</span><span style=color:#000;font-weight:700>)</span>
</code></pre></div>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-2183f8e7e804aeab9b106faf2b9b5cf0>3.8 - Daxko</h1>
<h1 id=daxko>Daxko</h1>
<p>Relates to: [Program Registration (Daxko)](../Paragraphs/Program Registration (Daxko).md)</p>
<p>Configuration setting at /admin/config/development/daxko</p>
<p>Account configuration must be setup before the Program Registration paragraph will work.)</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-ac9fe1438b6fece4084a918ef804fdef>3.9 - Fonts</h1>
<p>#Fonts</p>
<p>The majority of the fonts used by the Open Y distribution are freely available, except for Cachet.</p>
<p>Helvetica is used for paragraph text, with Verdana as a fallback. Page titles, headers, highlighted text, etc, use Cachet, with Ubuntu Condensed as a fallback.</p>
<p>The font definitions in the distribution&rsquo;s main theme, Open Y Rose, are set to use Cachet, but fallback to Ubuntu Condensed if the font is not present.</p>
<pre><code>font-family: &quot;Cachet W01 Bold&quot;, 'Ubuntu Condensed', sans-serif;
</code></pre>
<h2 id=ubuntu-condensed>Ubuntu Condensed</h2>
<p>Ubuntu Condensed is a free font available from Google Fonts, <a href=https://fonts.google.com/specimen/Ubuntu+Condensed>https://fonts.google.com/specimen/Ubuntu+Condensed</a> .</p>
<p>If you look at the openy_rose.libraries.yml file you can see Ubunutu Condensed is already linked as part of the theme.</p>
<pre><code>global-styling:
  css:
    base:
      //fonts.googleapis.com/css?family=Ubuntu+Condensed:400,700: {}
</code></pre>
<h2 id=cachet>Cachet</h2>
<p>Cachet, specifically &ldquo;Cachet W01 Medium&rdquo;, is part of the YMCA styleguide. It is a commercial font, and must be purchased for individual sites. It cannot be distributed as part of the Open Y distribution or hosted on Drupal.org.</p>
<p>The font can be purchased from fonts.com, <a href=https://www.fonts.com/font/monotype/cachet/book>https://www.fonts.com/font/monotype/cachet/book</a> .</p>
<h2 id=installing-cachet>Installing Cachet</h2>
<p>There are a number of ways to get Cachet setup on your site. As long as the font gets linked in the page it should get used, since it is already part of the font declarations.</p>
<p>If you purchase Cachet from fonts.com, add the URL you are provided to the global-styling library in openy_rose.libraries.yml, right where Ubuntu Condensed is linked.</p>
<pre><code>  css:
    base:
      //fast.fonts.net/cssapi/abcdef-12345-tuvwxyx-67890.css: {}
      //fonts.googleapis.com/css?family=Ubuntu+Condensed:400,700: {}
</code></pre>
<p>You may also need to add a JavaScript file provided by fonts.com. You can add that in the same global-styling library.</p>
<pre><code>js:
    //fast.fonts.net/jsapi/12345-abcdef-67890.js: {}
</code></pre>
<p>Another option is to use the @font-your-face Drupal module, <a href=https://www.drupal.org/project/fontyourface>https://www.drupal.org/project/fontyourface</a> .</p>
<p>Once installed you can connect your Drupal site to your font.com account, or one of the other font providers, and have the font automatically retrieved and added to your site. Follow the directions provided by the module to connect to your font provider account.)</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-d2740a1b582387655d445cb589514e8b>3.10 - Google_Analytics_Search</h1>
<h1 id=how-to-configure-search-tracking-in-google-analytics-account>How to configure search tracking in Google Analytics account</h1>
<p>##Prerequisites
Google Analitycs account to track you site should be created.
Google Analitycs contrib module should be enabled and configured to use existing GA account.</p>
<p>##Steps</p>
<ol>
<li>
<p>Log in to Google Analytics account that configured to track your Open Y site.</p>
</li>
<li>
<p>Click Admin button in bottom right corner of main screen
<img src=../assets/ga_search_1.png alt="Google Analytics Main Screen"></p>
</li>
<li>
<p>Click View Settings
<img src=../assets/ga_search_2.png alt="Google Analytics View Settings"></p>
</li>
<li>
<p>Scroll to “Site Search Settings” section and enable “Site Search Tracking” switch
<img src=../assets/ga_search_3.png alt="Google Analytics Site Search Settings"></p>
</li>
<li>
<p>Fill query parameter field with <code>q, query</code> values and click Save</p>
</li>
<li>
<p>Reports about the search tracking you can find at main screen in Behavior → Site Search Section</p>
</li>
</ol>
<p>Attention: Data processing latency for search tracking reports is 24-48 hours
(see <a href="https://support.google.com/analytics/answer/1070983?hl=en#DataProcessingLatency">https://support.google.com/analytics/answer/1070983?hl=en#DataProcessingLatency</a>))</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-4e445b1dc3b8e4a6fe7f40c7eea63d13>3.11 - GoogleCustomSearchConfiguration</h1>
<h1 id=google-custom-search-configuration>Google Custom Search configuration</h1>
<p>The Open Y release <strong>8.2.4</strong> introduces Google Custom Search for the website out of the box.</p>
<h2 id=enabling-the-module>Enabling the module</h2>
<h3 id=fresh-installations>Fresh installations</h3>
<p>The search feature is included in the <code>Extended</code> installation type.
For <code>Standard</code> see the <a href=#existing-websites>Existing websites</a> section.</p>
<p>If you are installing a fresh Open Y website and going through the installation process via the Web interface, on the 3rd party integration step you can specify Google Search ID. If you specify the Google Search ID in this form your site&rsquo;s search feature is up.</p>
<h3 id=existing-websites>Existing websites</h3>
<p>The search feature is not automatically enabled after upgrading an Open Y website. You have to manually enable it.</p>
<p>In order to do that:</p>
<ol>
<li>Log in as an admin (or a user with the <code>administrator</code> role).</li>
<li>Go to the Open Y package install page (Admin menu > Open Y > Extend > Install, or <code>/admin/openy/extend/list</code>)</li>
<li>Find the <code>SEARCH</code> package there, tick the checkbox and submit the form.</li>
</ol>
<p>Now the search modules are enabled and the header of the website should have a search field.
Upon installation, the modules create a Landing page for search results and point the header search form to the page.</p>
<h2 id=configuring-the-google-search-modules>Configuring the Google Search modules</h2>
<ol>
<li>Go to the Google Search settings form (Admin menu > Open Y > Settings > Google Search settings, or <code>/admin/openy/settings/google-search</code>).</li>
<li>Set the value of the <code>Google Search ID</code> field (see the following <a href=#obtaining-search-engine-id>section</a> for details) and submit the form.</li>
</ol>
<h2 id=obtaining-search-engine-id>Obtaining Search Engine ID</h2>
<ol>
<li>Go to <a href=https://cse.google.com/>https://cse.google.com/</a>, register if you haven&rsquo;t yet, log in if you aren&rsquo;t logged in.</li>
<li>Create the Search Engine (this process is explained in Google documentation <a href="https://support.google.com/customsearch/answer/4513882?hl=en&ref_topic=4513742)">https://support.google.com/customsearch/answer/4513882?hl=en&ref_topic=4513742)</a>:
<ol>
<li>Click &ldquo;New Search Engine&rdquo;.</li>
<li>Specify the domain of your website (e.g. <code>www.openymca.org</code>).</li>
<li>Specify the name of the Search Engine (e.g. <code>openymca.org</code>).</li>
<li>Click &ldquo;Create&rdquo;.</li>
</ol>
</li>
<li>On the newly created Search Engine page there is the <code>Search engine ID</code> field. Use this value in the Open Y Google Search configuration form.</li>
</ol>
<h2 id=configuring-the-search-engine-look-and-feel>Configuring the Search Engine look and feel</h2>
<ol>
<li>Go to <code>Look and feel</code> section of the Search Engine</li>
<li>In the <code>Layout</code> tab, select <code>Full width</code> option and click <code>Save</code></li>
</ol>
<p>If this change hasn&rsquo;t made, the search results on the website are shown in a popup window.</p>
<h2 id=dealing-with-ads>Dealing with ads</h2>
<p>By default, newly created Search engines use Free Edition (with ads) of the service. As YMCAs are non-profit organizations they have the option to switch to Non-profit Edition of the CSE, where it is possible to disable ads.</p>
<p>Take a look here <a href="https://support.google.com/customsearch/answer/4542102?hl=en&ctx=topic">https://support.google.com/customsearch/answer/4542102?hl=en&ctx=topic</a></p>
<p>If you are already registered as a Non-profit in Google:</p>
<ol>
<li>From the <a href=https://cse.google.com>CSE Control Panel</a>, select the search engine you want to change.</li>
<li>Click <strong>Setup</strong> then <strong>Make Money</strong></li>
<li>Toggle the <strong>Show Ads</strong> option to off.</li>
</ol>
<h2 id=advanced-setup>Advanced setup</h2>
<p>Official Google documentation <a href="https://support.google.com/customsearch/topic/4542213?hl=en&ref_topic=4513868">https://support.google.com/customsearch/topic/4542213?hl=en&ref_topic=4513868</a></p>
<h3 id=mutli-site-search>Mutli-site search</h3>
<p>You can add not only your website&rsquo;s domain but other domains as well if you have other websites dedicated to your Association but split from the main website.</p>
<p>You can also add not only the whole websites but their parts by specifying patterns like <code>example.com/blog/*</code>.</p>
<h3 id=refinements-and-facets>Refinements and facets</h3>
<p><a href="https://support.google.com/customsearch/answer/4542637?hl=en&ctx=topic&topic=2642564&visit_id=637166170019174137-3540762397&rd=1">https://support.google.com/customsearch/answer/4542637?hl=en&ctx=topic&topic=2642564&visit_id=637166170019174137-3540762397&rd=1</a></p>
<p>Refinements let users filter results according to categories you provide.</p>
<p>Refinements appear in the search results page as tabs. The content of each tab is configured in Search features > Refinement section of the Custom Search Control panel.</p>
<p>To set up a dedicated tab in search results for Blog posts do the following:</p>
<ol>
<li>In Control panel, go to <code>Search features</code> > <code>Refinements</code></li>
<li>Click <code>Add</code>
<ol>
<li>Set the name of the refinement to <code>Blog</code></li>
<li>Select <code>Search only the sites with this label</code> for <code>How to search sites with this label?</code></li>
<li>Click <code>Ok</code></li>
</ol>
</li>
<li>Go to <code>Setup</code></li>
<li>Find <code>Sites to search</code>, click <code>Add</code>
<ol>
<li>Add the <code>yourymcadomain.org/blog/*</code> in the text field</li>
<li>Select <code>Blog</code> in the Label dropdown</li>
<li>Select <code>Include just this specific page or URL pattern I have entered</code></li>
<li>Click <code>Save</code></li>
</ol>
</li>
</ol>
<p>The search results page now shows the <code>Blog</code> tab that only shows blog entries relevant to the search term.</p>
<h3 id=promotions>Promotions</h3>
<p>Official Google documentation <a href="https://support.google.com/customsearch/answer/4542640?hl=en&ref_topic=4542213">https://support.google.com/customsearch/answer/4542640?hl=en&ref_topic=4542213</a></p>
<h2 id=information-for-developers>Information for developers</h2>
<p><a href=https://developers.google.com/custom-search/docs/overview>Google Custom Search Developers documentation </a></p>
<h3 id=enabling-via-drush>Enabling via Drush</h3>
<p>Use the following snippet to enable the package on existing websites:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>drush en openy_google_search
</code></pre></div><h3 id=configuring-the-module-via-drush>Configuring the module via Drush</h3>
<p>Use the following snippet when you install Open Y via Drush to set the Search Engine ID:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>drush site-install openy \
   --account-pass=password \
   --db-url=&#34;mysql://user:pass@host:3306/db&#34; \
   --root=/var/www/docroot \
   openy_configure_profile.preset=extended \
   openy_theme_select.theme=openy_rose \
   openy_third_party_services.google_search_engine_id=&#34;01234567890123456789:abcedefgh&#34;
</code></pre></div><p>The <code>openy_third_party_services.google_search_engine_id</code> parameter sets the Search Engine ID (<code>01234567890123456789:abcedefgh</code> in the example).</p>
<p>Use the following snippet to set the Search Engine ID on already installed websites:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>drush config-set openy_google_search.settings google_engine_id &#34;01234567890123456789:abcedefgh&#34;
```)
</code></pre></div>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-dfadc0dc4b83c0702a8ab3496bb175b7>3.12 - InstallationWithDrush</h1>
<h3 id=site-installation-with-drush>Site installation with drush</h3>
<p>Use <a href=https://drushcommands.com/drush-8x/core/site-install/>drush site-install</a> command.</p>
<p>Basically you use something like this:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>drush site-install openy --account-pass=password --db-url=&#34;mysql://user:pass@host:3306/db&#34; --root=/var/www/docroot
</code></pre></div><p>Complete Open Y profile preset and Open Y Rose theme is used in this case.</p>
<p>You can set which preset must be installed by specifying it with <code>openy_configure_profile.preset</code> variable, and theme with
<code>openy_theme_select.theme</code>variable e.g.:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>drush site-install openy --account-pass=password --db-url=&#34;mysql://user:pass@host:3306/db&#34; --root=/var/www/docroot openy_configure_profile.preset=extended openy_theme_select.theme=openy_rose
```)
</code></pre></div>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-52713f92f14258afce6084b4bded4ac2>3.13 - Module Develompent</h1>
<h3 id=module-content-removal>Module content removal</h3>
<p>When deleting an entity, where plugins or services of removing module are used,
then content removal should be done in the hook_uninstall() of that module.
See openy_prgf_camp_menu.install as example.)</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-e7d7619da79e00b4a474600152ead1d8>3.14 - Patch OpenY</h1>
<p>Here you can find instructions how you can patch Open Y distribution used on
your project.</p>
<h1 id=when-you-need-to-patch-open-y>When you need to patch Open Y</h1>
<ul>
<li>In case you found a bug and prepared a patch for Open Y on github.</li>
<li>In case you developed a new feature that will be good to have in Open Y and
created Pull Request to Open Y repository</li>
<li>In case you want to add a feature that added to Open Y but not included yet to
Open Y release.</li>
</ul>
<h1 id=how-to-patch-open-y-via-composer>How to patch Open Y via composer?</h1>
<p>If you followed instructions <a href=https://github.com/ymcatwincities/openy/blob/8.x-1.x/docs/Development/Start%20new%20OpenY%20project.md>docs/Development/Start new Open Y project</a>
and you have configured <code>composer.json</code> you need just to do a few simple steps:</p>
<ol>
<li>Build a link to a patch using pull request ID
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>https://patch-diff.githubusercontent.com/raw/ymcatwincities/openy/pull/XXX.patch
</code></pre></div></li>
</ol>
<p>Where XXX is a number of pull request you want to use.</p>
<ol start=2>
<li>Add a new section <code>patches</code> to the section <code>extra</code> and add a patch to Open Y
repository, as on this example:
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>&#34;extra&#34;: {
    &#34;installer-paths&#34;: {
      ...
    },
    &#34;enable-patching&#34;: true,
    &#34;patches&#34;: {
        &#34;ymcatwincities/openy&#34;: {
            &#34;Patch description&#34;: &#34;https://patch-diff.githubusercontent.com/raw/ymcatwincities/openy/pull/XXX.patch&#34;
        }
    }
}
</code></pre></div></li>
<li>After adding a patch execute command <code>composer update</code></li>
<li>Verify you can see added changes in Open Y</li>
<li>Enjoy!)</li>
</ol>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-75b76d5f58b6888788723f7b0c0374f3>3.15 - Server Requirements</h1>
<p>If you need to prepare server for the Open Y instance, here below you should find all needed software to meet its requirements.</p>
<h3 id=list-of-requirements>List of requirements</h3>
<ol>
<li>
<p>Ubuntu LTS (14 or 16) is preferred. CentOS is ok as well. Or even any other Linux distribution, but was not tested by Open Y team so far.</p>
</li>
<li>
<p>(Drupal 8 server requirements should be met)[https://www.drupal.org/docs/system-requirements/php-requirements].</p>
</li>
<li>
<p>PHP 5.6+ (PHP 7 is better in terms of performance)</p>
</li>
</ol>
<h3 id=list-of-php-modules-server-should-have>List of PHP modules server should have:</h3>
<ul>
<li>php{{ php_version }}</li>
<li>php{{ php_version }}-mcrypt</li>
<li>php{{ php_version }}-cli</li>
<li>php{{ php_version }}-common</li>
<li>php{{ php_version }}-curl</li>
<li>php{{ php_version }}-dev</li>
<li>php{{ php_version }}-fpm</li>
<li>php{{ php_version }}-gd</li>
<li>php{{ php_version }}-mysql</li>
<li>php{{ php_version }}-memcached</li>
<li>php{{ php_version }}-imagick</li>
<li>php{{ php_version }}-xml</li>
<li>php{{ php_version }}-xdebug</li>
<li>php{{ php_version }}-mbstring</li>
<li>php{{ php_version }}-soap</li>
<li>php{{ php_version }}-zip</li>
</ul>
<ol start=4>
<li>MySQL 5.5+ . Here are the best settings <a href=https://github.com/cibox/cibox/blob/master/core/facade-mysql/defaults/main.yml>https://github.com/cibox/cibox/blob/master/core/facade-mysql/defaults/main.yml</a> to get it fast and furious</li>
<li>Apache 2 with mod-php (preffered for stability) or nginx with php-fpm (better for speed and scalability)</li>
</ol>
<ul>
<li>libapache2-mod-php{{ php_version }}</li>
</ul>
<ol start=6>
<li>
<p>Memcache server (optional)</p>
</li>
<li>
<p>Server tools</p>
</li>
</ol>
<ul>
<li>Ansible (optional)</li>
<li>Docker (optional)</li>
<li>SOLR 4.x (if there will be requirement for SOLR search support)</li>
<li>Varnish (optional))</li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-01d48e4d8306af3b3d644918cda7458b>3.16 - Start new OpenY project</h1>
<p>Here you can find instructions how you can start project based on Open Y distribution.</p>
<h1 id=new-project-from-scratch-based-on-open-y>New project from scratch based on Open Y</h1>
<p>In order to start new project from scratch, you can use <a href=https://github.com/ymcatwincities/openy-project#installation>installation instructions</a> that will build your project and even add development environment.</p>
<h1 id=add-open-y-to-existing-drupal-8-project>Add Open Y to existing Drupal 8 project</h1>
<p>Please take a look at the full <code>composer.json</code> file below that you should eventually get.</p>
<details>
 <summary><strong>Example composer.json (Drupal 8.3.2 + Open Y 1.2)</strong></summary>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>{
    &#34;name&#34;: &#34;drupal/drupal&#34;,
    &#34;description&#34;: &#34;Drupal is an open source content management platform powering millions of websites and applications.&#34;,
    &#34;type&#34;: &#34;project&#34;,
    &#34;license&#34;: &#34;GPL-2.0+&#34;,
    &#34;require&#34;: {
        &#34;composer/installers&#34;: &#34;^1.0.24&#34;,
        &#34;wikimedia/composer-merge-plugin&#34;: &#34;~1.4&#34;,
        &#34;ymcatwincities/openy&#34;: &#34;8.*.*&#34;,
        &#34;cweagans/composer-patches&#34;: &#34;~1.0&#34;
    },
    &#34;minimum-stability&#34;: &#34;dev&#34;,
    &#34;prefer-stable&#34;: true,
    &#34;config&#34;: {
        &#34;preferred-install&#34;: &#34;dist&#34;,
        &#34;autoloader-suffix&#34;: &#34;Drupal8&#34;,
        &#34;secure-http&#34;: false
    },
    &#34;extra&#34;: {
        &#34;_readme&#34;: [
            &#34;By default Drupal loads the autoloader from ./vendor/autoload.php.&#34;,
            &#34;To change the autoloader you can edit ./autoload.php.&#34;,
            &#34;This file specifies the packages.drupal.org repository.&#34;,
            &#34;You can read more about this composer repository at:&#34;,
            &#34;https://www.drupal.org/node/2718229&#34;
        ],
        &#34;merge-plugin&#34;: {
            &#34;include&#34;: [
                &#34;core/composer.json&#34;
            ],
            &#34;recurse&#34;: false,
            &#34;replace&#34;: false,
            &#34;merge-extra&#34;: false
        },
        &#34;installer-paths&#34;: {
          &#34;core&#34;: [&#34;type:drupal-core&#34;],
          &#34;libraries/{$name}&#34;: [&#34;type:drupal-library&#34;],
          &#34;modules/contrib/{$name}&#34;: [&#34;type:drupal-module&#34;],
          &#34;profiles/contrib/{$name}&#34;: [&#34;type:drupal-profile&#34;],
          &#34;themes/contrib/{$name}&#34;: [&#34;type:drupal-theme&#34;],
          &#34;drush/contrib/{$name}&#34;: [&#34;type:drupal-drush&#34;],
          &#34;modules/custom/{$name}&#34;: [&#34;type:drupal-custom-module&#34;],
          &#34;themes/custom/{$name}&#34;: [&#34;type:drupal-custom-theme&#34;]
        },
        &#34;enable-patching&#34;: true
    },
    &#34;autoload&#34;: {
        &#34;psr-4&#34;: {
            &#34;Drupal\Core\Composer\&#34;: &#34;core/lib/Drupal/Core/Composer&#34;
        }
    },
    &#34;scripts&#34;: {
        &#34;pre-autoload-dump&#34;: &#34;Drupal\Core\Composer\Composer::preAutoloadDump&#34;,
        &#34;post-autoload-dump&#34;: [
          &#34;Drupal\Core\Composer\Composer::ensureHtaccess&#34;
        ],
        &#34;post-package-install&#34;: &#34;Drupal\Core\Composer\Composer::vendorTestCodeCleanup&#34;,
        &#34;post-package-update&#34;: &#34;Drupal\Core\Composer\Composer::vendorTestCodeCleanup&#34;,
        &#34;post-install-cmd&#34;: [
            &#34;bash scripts/remove_vendor_git_folders.sh || :&#34;
        ],
        &#34;post-update-cmd&#34;: [
            &#34;bash scripts/remove_vendor_git_folders.sh || :&#34;
        ]
    },
    &#34;repositories&#34;: [
        {
            &#34;type&#34;: &#34;composer&#34;,
            &#34;url&#34;: &#34;https://packages.drupal.org/8&#34;
        },
        {
            &#34;type&#34;: &#34;package&#34;,
            &#34;package&#34;: {
                &#34;name&#34;: &#34;library-kenwheeler/slick&#34;,
                &#34;version&#34;: &#34;1.6.0&#34;,
                &#34;type&#34;: &#34;drupal-library&#34;,
                &#34;source&#34;: {
                    &#34;url&#34;: &#34;https://github.com/kenwheeler/slick&#34;,
                    &#34;type&#34;: &#34;git&#34;,
                    &#34;reference&#34;: &#34;1.6.0&#34;
                }
            }
        },
        {
            &#34;type&#34;: &#34;package&#34;,
            &#34;package&#34;: {
                &#34;name&#34;: &#34;library-dinbror/blazy&#34;,
                &#34;version&#34;: &#34;1.8.2&#34;,
                &#34;type&#34;: &#34;drupal-library&#34;,
                &#34;source&#34;: {
                    &#34;url&#34;: &#34;https://github.com/dinbror/blazy&#34;,
                    &#34;type&#34;: &#34;git&#34;,
                    &#34;reference&#34;: &#34;1.8.2&#34;
                }
            }
        },
        {
            &#34;type&#34;: &#34;package&#34;,
            &#34;package&#34;: {
                &#34;name&#34;: &#34;library-gdsmith/jquery.easing&#34;,
                &#34;version&#34;: &#34;1.4.1&#34;,
                &#34;type&#34;: &#34;drupal-library&#34;,
                &#34;source&#34;: {
                    &#34;url&#34;: &#34;https://github.com/gdsmith/jquery.easing&#34;,
                    &#34;type&#34;: &#34;git&#34;,
                    &#34;reference&#34;: &#34;1.4.1&#34;
                }
            }
        },
        {
            &#34;type&#34;: &#34;package&#34;,
            &#34;package&#34;: {
                &#34;name&#34;: &#34;library-enyo/dropzone&#34;,
                &#34;version&#34;: &#34;4.3.0&#34;,
                &#34;type&#34;: &#34;drupal-library&#34;,
                &#34;source&#34;: {
                    &#34;url&#34;: &#34;https://github.com/enyo/dropzone&#34;,
                    &#34;type&#34;: &#34;git&#34;,
                    &#34;reference&#34;: &#34;v4.3.0&#34;
                }
            }
        },
        {
            &#34;type&#34;: &#34;package&#34;,
            &#34;package&#34;: {
                &#34;name&#34;: &#34;library-jaypan/jquery_colorpicker&#34;,
                &#34;version&#34;: &#34;1.0.1&#34;,
                &#34;type&#34;: &#34;drupal-library&#34;,
                &#34;source&#34;: {
                    &#34;url&#34;: &#34;https://github.com/jaypan/jquery_colorpicker&#34;,
                    &#34;type&#34;: &#34;git&#34;,
                    &#34;reference&#34;: &#34;da978ae124c57817021b3166a31881876882f5f9&#34;
                }
            }
        },
        {
            &#34;type&#34;: &#34;package&#34;,
            &#34;package&#34;: {
                &#34;name&#34;: &#34;library-ckeditor/panelbutton&#34;,
                &#34;version&#34;: &#34;4.7.0&#34;,
                &#34;type&#34;: &#34;drupal-library&#34;,
                &#34;dist&#34;: {
                    &#34;url&#34;: &#34;http://download.ckeditor.com/panelbutton/releases/panelbutton_4.7.0.zip&#34;,
                    &#34;type&#34;: &#34;zip&#34;
                }
            }
        },
        {
            &#34;type&#34;: &#34;package&#34;,
            &#34;package&#34;: {
                &#34;name&#34;: &#34;library-ckeditor/colorbutton&#34;,
                &#34;version&#34;: &#34;4.7.0&#34;,
                &#34;type&#34;: &#34;drupal-library&#34;,
                &#34;dist&#34;: {
                    &#34;url&#34;: &#34;http://download.ckeditor.com/colorbutton/releases/colorbutton_4.7.0.zip&#34;,
                    &#34;type&#34;: &#34;zip&#34;
                }
            }
        },
        {
            &#34;type&#34;: &#34;package&#34;,
            &#34;package&#34;: {
                &#34;name&#34;: &#34;library-ckeditor/colordialog&#34;,
                &#34;version&#34;: &#34;4.7.0&#34;,
                &#34;type&#34;: &#34;drupal-library&#34;,
                &#34;dist&#34;: {
                    &#34;url&#34;: &#34;http://download.ckeditor.com/colordialog/releases/colordialog_4.7.0.zip&#34;,
                    &#34;type&#34;: &#34;zip&#34;
                }
            }
        },
        {
            &#34;type&#34;: &#34;package&#34;,
            &#34;package&#34;: {
                &#34;name&#34;: &#34;library-ckeditor/glyphicons&#34;,
                &#34;version&#34;: &#34;2.2&#34;,
                &#34;type&#34;: &#34;drupal-library&#34;,
                &#34;dist&#34;: {
                    &#34;url&#34;: &#34;http://download.ckeditor.com/glyphicons/releases/glyphicons_2.2.zip&#34;,
                    &#34;type&#34;: &#34;zip&#34;
                }
            }
        }
    ]
}
</code></pre></div></details>
<ol>
<li>
<p>Add <code>"ymcatwincities/openy": "8.*.*"</code> to the <code>require</code> section in your <code>composer.json</code>, like <a href=https://github.com/ymcatwincities/openy-project/blob/8.1.x/composer.json#L7>here</a></p>
</li>
<li>
<p>Add all required repositories that are <a href=https://github.com/ymcatwincities/openy-project/blob/8.1.x/composer.json#L31>listed here</a> to your <code>composer.json</code></p>
</li>
<li>
<p>Add installer path as here to your <code>composer json</code>. See <a href=https://github.com/ymcatwincities/openy-project/blob/8.1.x/composer.json#L165>example</a>.</p>
</li>
</ol>
<ul>
<li>
<p><code>composer.json</code> <strong>inside</strong> of docroot
Installer path will look like this:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>&#34;installer-paths&#34;: {
    &#34;core&#34;: [&#34;type:drupal-core&#34;],
    &#34;libraries/{$name}&#34;: [&#34;type:drupal-library&#34;],
    &#34;modules/contrib/{$name}&#34;: [&#34;type:drupal-module&#34;],
    &#34;profiles/contrib/{$name}&#34;: [&#34;type:drupal-profile&#34;],
    &#34;themes/contrib/{$name}&#34;: [&#34;type:drupal-theme&#34;],
    &#34;drush/contrib/{$name}&#34;: [&#34;type:drupal-drush&#34;],
    &#34;modules/custom/{$name}&#34;: [&#34;type:drupal-custom-module&#34;],
    &#34;themes/custom/{$name}&#34;: [&#34;type:drupal-custom-theme&#34;]
}
</code></pre></div></li>
<li>
<p><code>composer.json</code> <strong>outside</strong> of docroot
Installer path will look like this:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>&#34;installer-paths&#34;: {
    &#34;docroot/core&#34;: [&#34;type:drupal-core&#34;],
    &#34;docroot/libraries/{$name}&#34;: [&#34;type:drupal-library&#34;],
    &#34;docroot/modules/contrib/{$name}&#34;: [&#34;type:drupal-module&#34;],
    &#34;docroot/profiles/contrib/{$name}&#34;: [&#34;type:drupal-profile&#34;],
    &#34;docroot/themes/contrib/{$name}&#34;: [&#34;type:drupal-theme&#34;],
    &#34;drush/contrib/{$name}&#34;: [&#34;type:drupal-drush&#34;],
    &#34;docroot/modules/custom/{$name}&#34;: [&#34;type:drupal-custom-module&#34;],
    &#34;docroot/themes/custom/{$name}&#34;: [&#34;type:drupal-custom-theme&#34;]
}
</code></pre></div></li>
</ul>
<ol start=4>
<li>
<p>Add <code>"cweagans/composer-patches": "~1.0"</code> to the <code>require</code> section in you <code>composer.json</code>. See <a href=https://github.com/ymcatwincities/openy-project/blob/8.1.x/composer.json#L10>example</a>.</p>
</li>
<li>
<p>Add <code>"enable-patching": true</code> to the <code>extra</code> section in your <code>composer.json</code> See <a href=https://github.com/ymcatwincities/openy-project/blob/8.1.x/composer.json#L173>example</a>.</p>
</li>
<li>
<p>Add <code>"secure-http": false</code> to the <code>config</code> section in your <code>composer.json</code> See <a href=https://github.com/ymcatwincities/openy-project/blob/8.1.x/composer.json#L177>example</a>.</p>
</li>
<li>
<p>Remove <code>composer.lock</code> and <code>vendor</code> folder from the project if they are exist in your folder.</p>
</li>
<li>
<p>Remove <code>"replace"</code> section from your <code>composer.json</code></p>
</li>
<li>
<p>(Optional) If you keep <code>vendor</code> folder in your git repository, we recommend to clean up project from <code>.git</code> folder inside modules and libraries. To do so</p>
</li>
</ol>
<ul>
<li>
<p>Add cleaner script to your project from <a href=https://github.com/ymcatwincities/openy-project/blob/8.1.x/scripts/remove_vendor_git_folders.sh>Open Y composer package</a>. You can just copy it and paste onto your project.</p>
</li>
<li>
<p><a href=https://github.com/ymcatwincities/openy-project/blob/8.1.x/scripts/remove_vendor_git_folders.sh#L4>Adjust folders</a> that you would like to cleanup</p>
</li>
<li>
<p>Execute it in <code>post-install-cmd</code> and <code>post-update-cmd</code>:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>&#34;post-install-cmd&#34;: [
    &#34;bash scripts/remove_vendor_git_folders.sh || :&#34;
],
&#34;post-update-cmd&#34;: [
    &#34;bash scripts/remove_vendor_git_folders.sh || :&#34;
]
</code></pre></div></li>
</ul>
<ol start=9>
<li>Run <code>composer install</code></li>
</ol>
<h1 id=ciboxhttpsgithubcomciboxcibox><a href=https://github.com/cibox/cibox>CIBox</a></h1>
<p>In this section you can learn how to configure development environment and CI server using Open Source product <a href=https://github.com/cibox/cibox>CIBox</a>.</p>
<h3 id=create-project>Create project</h3>
<ol>
<li>
<p>Generate project based on <a href=http://docs.cibox.tools/en/latest/Quickstart/#prepare-github-project>this quickstart</a></p>
</li>
<li>
<p>Add Open Y to the project using (Add Open Y to already existing Drupal 8 project)</p>
</li>
<li>
<p>Init git and add initial commit</p>
</li>
</ol>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#204a87>cd</span> OPENY_PROJECT
git init
git commit -m <span style=color:#4e9a06>&#34;Init Open Y project&#34;</span>
git remote add origin git@github.com:NAMESPACE/PROJECT.git
git push -u origin master
</code></pre></div><ol start=4>
<li>Spin up your local vagrant machine</li>
</ol>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>vagrant up --provision
</code></pre></div><ol start=5>
<li>Setup CI server for new project based on <a href=https://github.com/cibox/cibox#provision-new-ci-server>CIBox documentation</a>.</li>
</ol>
<ul>
<li>Follow quick start starting from Jenkins Provisioning Step <a href=http://docs.cibox.tools/en/latest/Quickstart/#jenkins-provisioning>http://docs.cibox.tools/en/latest/Quickstart/#jenkins-provisioning</a> (Here we will get PR builds and DEMO site (DEV environment) with credentials to it )</li>
<li>Setup hosting STAGE environment (it should be a 1:1 copy of existing or expected hosting account for ability to provide performance testing there)</li>
<li>Setup deployment plans for CI by reusing DEMO builder job</li>
</ul>
<h1 id=install-open-y-on-digitaloceanhttpbitlycibox-digitalocean>Install Open Y on <a href=http://bit.ly/cibox-digitalocean>DigitalOcean</a></h1>
<ol>
<li>Create new Droplet using &ldquo;One-click apps&rdquo; image <code>Drupal 8.*.* on 14.04</code></li>
<li>Login to server <a href=https://www.digitalocean.com/community/tutorials/how-to-connect-to-your-droplet-with-ssh>via SSH</a> or <a href=https://www.digitalocean.com/community/tutorials/how-to-use-the-digitalocean-console-to-access-your-droplet>web console</a></li>
<li>Run command</li>
</ol>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>bash &lt;<span style=color:#ce5c00;font-weight:700>(</span>curl -s https://raw.githubusercontent.com/ymcatwincities/openy/8.x-1.x/build/openy-digital-ocean.sh<span style=color:#ce5c00;font-weight:700>)</span>
</code></pre></div><ol start=4>
<li>Open link(e.g. http://IP/core/install.php) from console output and finish Open Y installation</li>
</ol>
<h2 id=video-tutorial>Video tutorial</h2>
<p><a href=https://youtu.be/RCvsLANsbm8><img src=https://img.youtube.com/vi/RCvsLANsbm8/0.jpg alt="Open Y v1.0b - Install Tutorial"></a></p>
<h2 id=end-to-end-installation>End to end installation</h2>
<p><a href=https://youtu.be/RT6kC38zgvo><img src=https://img.youtube.com/vi/RT6kC38zgvo/0.jpg alt="Open Y install - in 16 minutes end to end, no tutorial"></a>)</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-46a42c95597cdf9bf22eb859dd5c4384>3.17 - Tests</h1>
<h1 id=running-tests>Running Tests</h1>
<p>These instructions explain how you can run tests.</p>
<h2 id=behat>Behat</h2>
<h3 id=requirements>Requirements</h3>
<ul>
<li>Ansible 1.9.4+ <a href=http://docs.ansible.com/ansible/intro_installation.html>http://docs.ansible.com/ansible/intro_installation.html</a></li>
<li>Docker <a href=https://docs.docker.com/engine/installation/>https://docs.docker.com/engine/installation/</a></li>
</ul>
<h3 id=run-full-test-suite>Run full test suite</h3>
<ol>
<li>
<p>Execute command</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>$ cd profiles/contrib/openy
$ sh runtests.sh
</code></pre></div></li>
<li>
<p>Open <a href=http://site.com/profiles/contrib/openy/build/reports/behat>http://site.com/profiles/contrib/openy/build/reports/behat</a> in browser.</p>
</li>
</ol>
<h3 id=run-selenium-container--behat-tests-in-usual-way>Run selenium container + Behat tests in usual way</h3>
<p>In order to run only selenium container + behat in usual way:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>$ cd profiles/contrib/openy
$ sh runtests.sh --tags run_selenium
$ bin/behat
</code></pre></div><h3 id=stop-selenium-container>Stop selenium container</h3>
<p>In order to stop selenium container:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>$ cd profiles/contrib/openy
$ sh runtests.sh --tags stop_selenium
</code></pre></div><p>If necessary, edit behat.local.yml to match your environment.</p>
<h3 id=visual-debugging---videohttpsyoutubeqytpia1clvc>Visual debugging - <a href=https://youtu.be/qYtpiA1ClVc>Video</a></h3>
<p>When you develop JS tests, it&rsquo;s important to see what&rsquo;s going on the Selenium screen. You can easily see this during development.</p>
<ol>
<li>Install <a href=https://www.realvnc.com/download/viewer>https://www.realvnc.com/download/viewer</a></li>
<li>Run selenium using command</li>
</ol>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>$ cd profiles/contrib/openy
$ sh runtests.sh --tags run_selenium
</code></pre></div><ol start=3>
<li>Open installed VNC Viewer and connect to the server with IP <code>192.168.56.132:5901</code></li>
</ol>
<ul>
<li>Password = secret</li>
</ul>
<ol start=4>
<li>Run tests and you should see everything that is performed by behat tests in VNC client</li>
</ol>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>$ bin/behat
</code></pre></div><p><a href=https://youtu.be/RSsQLVVhldc><img src=https://img.youtube.com/vi/RSsQLVVhldc/0.jpg alt="Debugging JavaScript Behat tests"></a></p>
<h3 id=custom-behat-functionality>Custom Behat functionality</h3>
<ul>
<li>Create entities in table forms, with key to use in reference and reference entities by key.
<ul>
<li>KEY is optional, and <strong>must be all CAPS</strong>.</li>
<li>Taxonomy
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>Given I create &#34;taxonomy_term&#34; of type &#34;color&#34; with key for reference:
  | KEY  | name  | field_color |
  | Blue | Blue  | 0000FF      |
  | Red  | Red   | FF0000      |
</code></pre></div></li>
<li>Paragraphs
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>Given I create &#34;paragraph&#34; of type &#34;small_banner&#34; with key for reference:
  | KEY     | field_prgf_headline | field_prgf_color |
  | banner1 | Headline 1          | Blue             |
  | banner2 | Headline 2          | Red              |
</code></pre></div></li>
<li>Media entities
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>Given I create &#34;media&#34; of type &#34;image&#34; with key for reference:
  | KEY       | name            | file         |
  | gallery_1 | Gallery image 1 | gallery.png  |
  | gallery_2 | Gallery image 2 | gallery2.png |
  | gallery_3 | Gallery image 3 | gallery3.png |
</code></pre></div></li>
</ul>
</li>
<li>Create nodes in table forms, with key to use in reference and reference entities by key.
<ul>
<li>KEY is optional, and <strong>must be all CAPS</strong>.</li>
<li>Basic create
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>Given I create &#34;landing_page&#34; content:
  | KEY       | title           | field_lp_layout | field_content |
  | landing_1 | Test Landing 01 | one_column      | banner1       |
  | landing_2 | Test Landing 02 | one_column      | banner2       |
</code></pre></div></li>
<li>Vertical field table
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>Given I create large &#34;landing_page&#34; content:
  | KEY             | landing_3       | landing_4       |
  | title           | Test Landing 03 | Test Landing 04 |
  | field_lp_layout | one_column      | one_column      |
  | field_content   | banner1         | banner2         |
</code></pre></div></li>
<li>Create & view immediately
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>Given I view a &#34;landing_page&#34; content:
  | KEY             | landing_5       |
  | title           | Test Landing 05 |
  | field_lp_layout | one_column      |
  | field_content   | banner1         |
</code></pre></div></li>
<li>Multiple referenced entities by key on a field.
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>Given I create &#34;landing_page&#34; content:
  | KEY       | title           | field_lp_layout | field_content    |
  | landing_6 | Test Landing 06 | one_column      | banner1, banner2 |
</code></pre></div></li>
</ul>
</li>
</ul>
<h4 id=example-address-and-latitude--longitude>Example Address and Latitude + Longitude</h4>
<p>Fields with sub field/columns:
The machine name and columns can be found in the form markup in the field name property.
<img src=../assets/complex_field_machine_names.png alt="Inspect form field name depicted">
The first portion, <code>field_location_address</code> represents the Drupal field machine name, while the second array key <code>address_line1</code> represents the column.</p>
<ul>
<li>Add Address
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>Given I view a &#34;branch&#34; content:
    | title                                | Branch Example  |
    | field_location_address:country_code  | US             |
    | :address_line1                       | Main road 10   |
    | :locality                            | Seattle        |
    | :administrative_area                 | WA             |
    | :postal_code                         | 98101          |
</code></pre></div></li>
<li>Add Latitude and Longitude
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>Given I view a &#34;branch&#34; content:
  | title                          | Branch Example 2 |
  | field_location_coordinates:lat | 47.293433        |
  | :lng                           | -122.238717      |
  | field_location_phone           | +1234567890      |
```)
</code></pre></div></li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-ca82c8889851559493511fc02340ca48>3.18 - Theming_and_Design</h1>
<p>Welcome to Open Y Theming and Design documentation.</p>
<h3 id=how-to-change-styles-on-content-type-level>How to change styles on content type level</h3>
<p><strong>Given:</strong>
As an Open Y site developer, I want to be able to easily change the CSS for a Camp page
independently from a Location page, so I can better customize the site to meet the needs of my customers.</p>
<p><strong>How to:</strong></p>
<ul>
<li>If you need to change CSS on some pages independently, you should enable Custom CSS functionality on
the theme configuration page - Custom CSS - check &ldquo;Enable or disable custom CSS&rdquo;.</li>
<li>Input CSS code into the textarea.</li>
</ul>
<p>In order to change CSS on each particular page you should use the following selectors:</p>
<ul>
<li>.page-node-type-{node type};</li>
<li>.node-id-{node ID};</li>
<li>.path-frontpage.</li>
</ul>
<p>The existing node types are: <em>activity</em>, <em>alert</em>, <em>blog</em>, <em>branch</em>, <em>camp</em>, <em>class</em>, <em>facility</em>, <em>landing-page</em>, <em>membership</em>, <em>news</em>, <em>program</em>, <em>program-subcategory</em>, <em>session</em>.)</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-979c1626d9f3498e9da9efb153df39e3>3.19 - Tour</h1>
<h1 id=how-to-use-tour-for-modules>How to use Tour for modules</h1>
<h3 id=how-to-use-open-y-tour-token-with-tour>How to use Open Y Tour Token with Tour</h3>
<p>In someone modules have tour tips and for more interactivity, you can add a token with a click to any selector.</p>
<ol>
<li>
<p>In the module open tour yml file.
<img src=../assets/openy_tour_place.png alt="Configuration project add/update form"></p>
</li>
<li>
<p>Select the tip for edit and in body add token like this [openy_tour:click:button_name:selector]
<img src=../assets/openy_tour_add_to_tip.png alt="Configuration project add/update form"></p>
</li>
<li>
<p>Create hook update for you changes and in command line run drush updb -y</p>
</li>
</ol>
<h4 id=token-components>Token components:</h4>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>[openy_tour:click:button_name:selector]*
</code></pre></div><p>openy_tour - token name;</p>
<p>click - command in the token;</p>
<p>button_name - name of button when show in a tip;</p>
<p>selector - selector to be clicked.</p>
<p>Please see and use <a href=https://www.w3schools.com/jquery/jquery_ref_selectors.asp>jQuery selectors</a>.)</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-d70d83351441d48c021acb48ec7dd49e>3.20 - Upgrade path</h1>
<h1 id=how-to-support-upgrade-path>How to support upgrade path</h1>
<p>All changes in configurations should be added to appropriate hook_update_N in order to update already existing environments. We suggest to use <a href=https://www.drupal.org/project/confi>https://www.drupal.org/project/confi</a> for working with hook_update_N.</p>
<h3 id=openyinstall-in-profile><code>openy.install</code> in profile</h3>
<p>In this file we should put updates that are related to the distribution in general and don&rsquo;t fit into any feature.</p>
<ul>
<li>Enable/Disable module</li>
<li>General configs</li>
</ul>
<h3 id=openy_install-in-modules><code>openy_*.install</code> in modules</h3>
<p>In case if you update some configuration for specific feature, make sure that you put updates into appropriate module.</p>
<h3 id=revert-only-specific-property-from-config>Revert only specific property from config</h3>
<p>With <a href=https://www.drupal.org/project/confi>config_import module</a> help we can update only part from full config.</p>
<p>For updating specific property in config (use service &lsquo;openy_upgrade_tool.param_updater&rsquo;):</p>
<ol>
<li>
<p>go to related to this config module</p>
</li>
<li>
<p>create new hook_update_N in openy_*.install file</p>
</li>
<li>
<p>in update add next code (this is example):</p>
</li>
</ol>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>$config = drupal_get_path(&#39;module&#39;, &#39;openy_media_image&#39;) . &#39;/config/install/views.view.images_library.yml&#39;;
$config_importer = \Drupal::service(&#39;openy_upgrade_tool.param_updater&#39;);
$config_importer-&gt;update($config, &#39;views.view.images_library&#39;, &#39;display.default.display_options.pager&#39;);
</code></pre></div><p>Where:</p>
<ul>
<li>$config variable contains path to config with config name</li>
<li>&ldquo;views.view.images_library&rdquo; - config name</li>
<li>&ldquo;display.default.display_options.pager&rdquo; - config specific property (you can set value from a nested array with variable depth)</li>
</ul>
<h3 id=revert-full-configs>Revert full configs</h3>
<p>For updating full config or several configs from directory use service &lsquo;openy_upgrade_tool.importer&rsquo;.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>$config_dir = drupal_get_path(&#39;module&#39;, &#39;openy_media_image&#39;) . &#39;/config/install&#39;;
$config_importer = \Drupal::service(&#39;openy_upgrade_tool.importer&#39;);
$config_importer-&gt;setDirectory($config_dir);
$config_importer-&gt;importConfigs([&#39;views.view.images_library&#39;]);
</code></pre></div><p>Where:</p>
<ul>
<li>$config_dir - path to directory with config</li>
<li>&ldquo;views.view.images_library&rdquo; - config name</li>
</ul>
<p>Also you can update several configs from directory:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>$config_importer-&gt;importConfigs([
  &#39;views.view.images_library&#39;,
  &#39;views.view.example_view&#39;,
]);
```)
</code></pre></div>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-cdffc9f7d521f997f2219e61d9598532>4 - Wiki</h1>
<p>This wiki is the primary location for developer documentation for <a href=https://openy.org/>Open Y</a> - a digital transformation platform for YMCAs.</p>
<h1 id=where-to-start>Where to Start</h1>
<h2 id=for-ymca-associations>For YMCA Associations</h2>
<ul>
<li><a href=/openy_docs/docs/wiki/open-y-release-schedule-and-guidelines/>OpenY Release Schedule</a></li>
</ul>
<h2 id=for-developers>For Developers</h2>
<ul>
<li><a href=/openy_docs/docs/wiki/open-y-technology-pipeline/>Development Processes</a></li>
<li><a href=/openy_docs/docs/wiki/openy-upgrade-how-to-for-developers/>Updating Open Y</a></li>
<li><a href=/openy_docs/docs/wiki/development-faq/>Development FAQ</a></li>
<li><a href=/openy_docs/docs/wiki/code-review-quality-best-practices/>Code review best practices</a></li>
</ul>
<h2 id=for-qa-engineers>For QA Engineers</h2>
<ul>
<li><a href=/openy_docs/docs/wiki/open-y-smoke-tests-index/>Open Y Smoke Tests Index</a></li>
</ul>
<hr>
<h1 id=table-of-contents>Table of Contents</h1>
<h2 id=community-guidelines>Community Guidelines</h2>
<h3 id=best-practices>Best Practices</h3>
<ul>
<li><a href=/openy_docs/docs/wiki/open-y-code-of-conduct-and-best-practices/>Code of Conduct</a></li>
<li><a href=/openy_docs/docs/wiki/code-review-quality-best-practices/>Coding Standards</a></li>
<li><a href=/openy_docs/docs/wiki/open-y-pull-requests-review-standard/>Pull Request Standards</a></li>
</ul>
<h3 id=legal>Legal</h3>
<ul>
<li><a href=/openy_docs/docs/wiki/open-y-participant-agreement/>Participant Agreement</a></li>
<li><a href=/openy_docs/docs/wiki/open-y-terms-of-use/>Terms of Use</a></li>
</ul>
<h2 id=getting-started-with-open-y-development>Getting Started with Open Y Development</h2>
<p>Whether you are just getting started with Open Y or need to test a feature in a stable environment, the Open Y Core Team maintains a number of <a href=/openy_docs/docs/wiki/sandboxes/>Sandboxes</a> that you can use.</p>
<h3 id=processes--components>Processes & Components</h3>
<ul>
<li><a href=/openy_docs/docs/wiki/open-y-technology-pipeline/>Development Processes</a></li>
<li><a href=/openy_docs/docs/wiki/development-faq/>Development-FAQ</a></li>
<li><a href=/openy_docs/docs/wiki/videos/>Videos</a></li>
<li><a href=/openy_docs/docs/wiki/openy-anti-spam-protection/>Spam Protection Strategies</a></li>
</ul>
<h3 id=environment-setup>Environment Setup</h3>
<ul>
<li><a href=/openy_docs/docs/wiki/open-y-3rd-party-dependencies/>Tech Stack</a></li>
<li><a href=/openy_docs/docs/wiki/open-y-one-click-install-how-to/>Open-Y-one-click-install-how-to</a></li>
<li><a href=/openy_docs/docs/wiki/install-solr-site-search-for-open-y/>Install-Solr-site-search-for-Open-Y</a></li>
<li><a href=/openy_docs/docs/wiki/install-ssl-certificate-for-the-openy-site/>Install-SSL-certificate-for-the-OpenY-site</a></li>
<li><a href=/openy_docs/docs/wiki/drupal-9-core-dependencies-version-flexibility/>Switching Drupal Core Versions</a></li>
</ul>
<h2 id=contributing-to-open-y>Contributing to Open Y</h2>
<h3 id=working-with-existing-functionality>Working with Existing Functionality</h3>
<ul>
<li><a href=/openy_docs/docs/wiki/how-to-develop-themes-in-open-y/>Working with Themes</a></li>
<li><a href=/openy_docs/docs/wiki/open-y-2.0-root-yaml-files/>Working with the Open Y Profile</a></li>
<li><a href=/openy_docs/docs/wiki/open-y-smoke-tests-index/>Smoke Tests for Validating Changes</a></li>
</ul>
<h3 id=adding-and-removing-functionality>Adding and Removing Functionality</h3>
<ul>
<li><a href=/openy_docs/docs/wiki/how-to-contribute-large-features-into-open-y-backporting-etc/>How to Contribute a New Component</a></li>
<li><a href=/openy_docs/docs/wiki/deprecate-and-remove-components-from-open-y/>How we Deprecate Components</a></li>
</ul>
<h3 id=dependency-management>Dependency Management</h3>
<ul>
<li><a href=/openy_docs/docs/wiki/composer-version-constraints-for-open-y/>Managing Composer Version Constraints</a></li>
<li><a href=/openy_docs/docs/wiki/secure-devops-for-composer-2-release/>Updating to Composer 2</a></li>
</ul>
<h3 id=decoupling-open-y>Decoupling Open Y</h3>
<ul>
<li><a href=/openy_docs/docs/wiki/decouple-component-from-open-y-as-independent-module-project/>Intro to Decoupling Open Y Components</a></li>
<li><a href=/openy_docs/docs/wiki/decoupled-external-projects-of-openy/>List of Decoupled Components</a></li>
<li><a href=/openy_docs/docs/wiki/dependencies-in-drupal-info.yml/>Managing Drupal Dependencies while Decoupling</a></li>
<li><a href=/openy_docs/docs/wiki/open-y-update-sunset-opt-out-tutorial/>Analytics Decoupling and Opt-out</a></li>
</ul>
<h2 id=ongoing-maintenance>Ongoing Maintenance</h2>
<h3 id=releases>Releases</h3>
<ul>
<li><a href=/openy_docs/docs/wiki/open-y-release-schedule-and-guidelines/>Open-Y-Release-Schedule-and-Guidelines</a></li>
<li><a href=/openy_docs/docs/wiki/how-we-release-openy-distribution-from-code-perspective/>How-we-release-OpenY-distribution-from-code-perspective</a></li>
</ul>
<h3 id=update-processes--notices>Update Processes & Notices</h3>
<ul>
<li><a href=/openy_docs/docs/wiki/openy-upgrade-how-to-for-developers/>Updating Open Y</a></li>
<li><a href=/openy_docs/docs/wiki/important-versions-for-upgrade-path/>Important-versions-for-upgrade-path</a></li>
</ul>
<p>These documents are for old versions of Open Y, but may contain useful information for troubleshooting future update issues.</p>
<ul>
<li><a href=/openy_docs/docs/wiki/openy-security-drupal-sa-core-2018-004/>SA-CORE-2018-004</a></li>
<li><a href=/openy_docs/docs/wiki/openy-security-update-how-to.-update-drupal-core-only/>SA-CORE-2018-002</a></li>
<li><a href=/openy_docs/docs/wiki/openy-upgrade-for-developers.-upgrade-to-old-openy-1.x-version/>Upgrade from 8.0.x to 8.1.x</a></li>
<li><a href=/openy_docs/docs/wiki/upgrade-openy-8.1.3-to-8.2.2.1/>Upgrade-OpenY-8.1.3-to-8.2.2.1</a></li>
<li><a href=/openy_docs/docs/wiki/upgrade-use-case-from-8.2.2.3-to-8.2.7.3/>Upgrade-use-case-from-8.2.2.3-to-8.2.7.3</a></li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-364371e04a81f9d52fbf48a65098a990>4.1 - Code-Review-Quality-Best-Practices</h1>
<p>This document serves as an addition to our <a href=/openy_docs/docs/wiki/open-y-code-of-conduct-and-best-practices/>Code of Conduct and Best Practices</a>. It is more technical and in-depth for specific cases that were discussed during code quality review processes the Open Y team has in place. During this process, all code should be reviewed by 1-2 developers before being merged into the Open Y codebase.</p>
<h1 id=general-rules>General Rules</h1>
<p>Components in Open Y (whether modules, themes, or other code structures) should be, as much as possible, reusable and atomic. All features, content types, settings, styles, etc. should be bundled together to create a cohesive component.</p>
<ol>
<li>General naming conventions
<ol>
<li>Features module naming
<ol>
<li><strong>openy_${entity_type|abbr}_${entity_bundle|abbr}_${feature|optional}</strong>
<ol>
<li>Example: <strong>openy_node_blog_feature</strong></li>
<li><strong>openy_prgf_sc_feature</strong> -> OpenY Paragraph Simple Content (name within yml)</li>
</ol>
</li>
</ol>
</li>
<li>Fields naming (&lt;=20 chars)
<ol>
<li><strong>field_${entity_type|abbr}_${entity_bundle|abbr}_{name|abbr}</strong>
<ol>
<li>Example: <strong>field_prgf_sc_body</strong></li>
</ol>
</li>
</ol>
</li>
<li><strong>All descriptions are mandatory!</strong></li>
</ol>
</li>
<li>Module naming conventions - Depending on the context we should choose the name from this list:
<ol>
<li><strong>${project_name|abbr}_${business_name|abbr</strong>} - when the code looks like legacy and has specifics that are not ready to be open-sourced</li>
<li><strong>openy_${business_name|abbr}</strong> - when the code is ready to be ejected to OpenY package</li>
<li><strong>${business_name}</strong> - when the code is so abstract that it has no connection to OpenY and is ready to be hosted on Drupal.org as an independent project.</li>
</ol>
</li>
</ol>
<h2 id=code-sharing>Code Sharing</h2>
<p>To support reuse by the community, the MODULE-NAME should relate to the business logic of the module. It is not good to create modules by abstracting them out of the business. All modules that have been shared to drupal.org from past projects were possible to share only because they represent some feature, tied to a business need. For example:</p>
<ul>
<li>personify - module for SOAP related methods for working with Personify API</li>
<li>acrypt - Asymmetric crypt algorithm</li>
</ul>
<p>and so on.</p>
<h1 id=php>PHP</h1>
<h2 id=return-early-pattern>Return early pattern</h2>
<p>To keep readability in functions and methods, it is wise to return early if simple conditions apply that can be checked at the beginning of a method:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=color:#ce5c00;font-weight:700>&lt;?</span><span style=color:#000>php</span>

<span style=color:#204a87;font-weight:700>function</span> <span style=color:#000>foo</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>$bar</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>$baz</span><span style=color:#000;font-weight:700>)</span>
<span style=color:#000;font-weight:700>{</span>
    <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>$foo</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
        <span style=color:#8f5902;font-style:italic>// logic goes here
</span><span style=color:#8f5902;font-style:italic></span>        <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>$calculated_value</span><span style=color:#000;font-weight:700>;</span>
    <span style=color:#000;font-weight:700>}</span> <span style=color:#204a87;font-weight:700>else</span> <span style=color:#000;font-weight:700>{</span>
        <span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>null</span><span style=color:#000;font-weight:700>;</span>
    <span style=color:#000;font-weight:700>}</span>
<span style=color:#000;font-weight:700>}</span>
<span style=color:#8f5902;font-style:italic>?&gt;</span><span style=color:#a40000>
</span></code></pre></div><p>It&rsquo;s better to return early, keeping indentation and brainpower needed to follow the code low.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=color:#ce5c00;font-weight:700>&lt;?</span><span style=color:#000>php</span>

<span style=color:#204a87;font-weight:700>function</span> <span style=color:#000>foo</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>$bar</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>$baz</span><span style=color:#000;font-weight:700>)</span>
<span style=color:#000;font-weight:700>{</span>
    <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>!</span><span style=color:#000>$foo</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
        <span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>null</span><span style=color:#000;font-weight:700>;</span>
    <span style=color:#000;font-weight:700>}</span>

    <span style=color:#8f5902;font-style:italic>// logic goes here
</span><span style=color:#8f5902;font-style:italic></span>    <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>$calculated_value</span><span style=color:#000;font-weight:700>;</span>
<span style=color:#000;font-weight:700>}</span>
<span style=color:#8f5902;font-style:italic>?&gt;</span><span style=color:#a40000>
</span></code></pre></div><h2 id=define-early-pattern>Define early pattern</h2>
<p>When you have a condition that aims to change the value of a variable without additional logic, get rid of <code>if else elseif</code> code and instead define your variable early and change it via conditions.</p>
<p>Before:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=color:#204a87;font-weight:700>if</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>$a</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#39;hello&#39;</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
 <span style=color:#000>$text</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#39;Welcome to site&#39;</span><span style=color:#000;font-weight:700>;</span>
<span style=color:#000;font-weight:700>}</span>
<span style=color:#204a87;font-weight:700>else</span> <span style=color:#000;font-weight:700>{</span>
 <span style=color:#000>$text</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#39;Register please&#39;</span><span style=color:#000;font-weight:700>;</span>
<span style=color:#000;font-weight:700>}</span>
</code></pre></div><p>After:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=color:#000>$text</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#39;Register please&#39;</span><span style=color:#000;font-weight:700>;</span>
<span style=color:#204a87;font-weight:700>if</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>$a</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#39;hello&#39;</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
 <span style=color:#000>$text</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#39;Welcome to site&#39;</span><span style=color:#000;font-weight:700>;</span>
<span style=color:#000;font-weight:700>}</span>
</code></pre></div><h2 id=null-checks-with-isset>Null Checks with <code>isset</code></h2>
<p><a href=https://www.php.net/manual/en/function.isset.php><code>isset()</code></a> verifies if set and not null. There is no need to do additional verification against NULL.</p>
<p>Before:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=color:#ce5c00;font-weight:700>...</span>
<span style=color:#4e9a06>&#39;video&#39;</span> <span style=color:#ce5c00;font-weight:700>=&gt;</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>isset</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>$feed</span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#39;profile_media_videos&#39;</span><span style=color:#000;font-weight:700>])</span> <span style=color:#ce5c00;font-weight:700>||</span> <span style=color:#000>$feed</span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#39;profile_media_videos&#39;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>!=</span> <span style=color:#204a87;font-weight:700>NULL</span><span style=color:#000;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>?</span> <span style=color:#000>$feed</span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#39;profile_media_videos&#39;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#39;&#39;</span><span style=color:#000;font-weight:700>,</span>
<span style=color:#ce5c00;font-weight:700>...</span>
</code></pre></div><p>After:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=color:#ce5c00;font-weight:700>...</span>
<span style=color:#4e9a06>&#39;video&#39;</span> <span style=color:#ce5c00;font-weight:700>=&gt;</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>isset</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>$feed</span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#39;profile_media_videos&#39;</span><span style=color:#000;font-weight:700>]))</span> <span style=color:#ce5c00;font-weight:700>?</span> <span style=color:#000>$feed</span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#39;profile_media_videos&#39;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#39;&#39;</span><span style=color:#000;font-weight:700>,</span>
<span style=color:#ce5c00;font-weight:700>...</span>
</code></pre></div><h2 id=dependency-injection>Dependency Injection</h2>
<p>For the decoupled and easier to upgrade code in Drupal 8+ Dependency injection should be used instead of calling methods from services statically.</p>
<p>See the Drupal API <a href=https://api.drupal.org/api/drupal/core%21core.api.php/group/container/9.3.x>Overview of the Dependency Injection Container and Services</a>.</p>
<p>Before:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=color:#ce5c00;font-weight:700>...</span>
<span style=color:#000>$node</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>Drupal</span><span style=color:#ce5c00;font-weight:700>::</span><span style=color:#c4a000>entityTypeManager</span><span style=color:#000;font-weight:700>()</span><span style=color:#ce5c00;font-weight:700>-&gt;</span><span style=color:#c4a000>getStorage</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;node&#39;</span><span style=color:#000;font-weight:700>)</span><span style=color:#ce5c00;font-weight:700>-&gt;</span><span style=color:#c4a000>load</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>$result</span><span style=color:#ce5c00;font-weight:700>-&gt;</span><span style=color:#c4a000>getField</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;nid&#39;</span><span style=color:#000;font-weight:700>)</span><span style=color:#ce5c00;font-weight:700>-&gt;</span><span style=color:#c4a000>getValues</span><span style=color:#000;font-weight:700>()[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>]);</span>
<span style=color:#ce5c00;font-weight:700>...</span>
</code></pre></div><p>After:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=color:#ce5c00;font-weight:700>...</span>

<span style=color:#000>$node</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>$this</span><span style=color:#ce5c00;font-weight:700>-&gt;</span><span style=color:#c4a000>entityTypeManager</span><span style=color:#ce5c00;font-weight:700>-&gt;</span><span style=color:#c4a000>getStorage</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;node&#39;</span><span style=color:#000;font-weight:700>)</span><span style=color:#ce5c00;font-weight:700>-&gt;</span><span style=color:#c4a000>load</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>$result</span><span style=color:#ce5c00;font-weight:700>-&gt;</span><span style=color:#c4a000>getField</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;nid&#39;</span><span style=color:#000;font-weight:700>)</span><span style=color:#ce5c00;font-weight:700>-&gt;</span><span style=color:#c4a000>getValues</span><span style=color:#000;font-weight:700>()[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>]);</span>
<span style=color:#ce5c00;font-weight:700>...</span>
</code></pre></div><h2 id=creating-meaningful-log-messages>Creating meaningful log messages</h2>
<p>To provide useful logging for site managers, we need to write meaningful log messages with a proper context.</p>
<p>Before:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=color:#ce5c00;font-weight:700>...</span>
        <span style=color:#204a87;font-weight:700>if</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>$type</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#4e9a06>&#39;program&#39;</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>

          <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>$feed</span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#39;profile_media_videos&#39;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>!=</span> <span style=color:#204a87;font-weight:700>NULL</span> <span style=color:#ce5c00;font-weight:700>||</span> <span style=color:#000>$feed</span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#39;profile_media_images&#39;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>!=</span> <span style=color:#204a87;font-weight:700>NULL</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
          <span style=color:#000>\Drupal</span><span style=color:#ce5c00;font-weight:700>::</span><span style=color:#c4a000>logger</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;272&#39;</span><span style=color:#000;font-weight:700>)</span><span style=color:#ce5c00;font-weight:700>-&gt;</span><span style=color:#c4a000>notice</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>$type</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#ce5c00;font-weight:700>...</span>
</code></pre></div><p>After:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=color:#ce5c00;font-weight:700>...</span>
        <span style=color:#204a87;font-weight:700>if</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>$type</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#4e9a06>&#39;program&#39;</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>

          <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>$feed</span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#39;profile_media_videos&#39;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>!=</span> <span style=color:#204a87;font-weight:700>NULL</span> <span style=color:#ce5c00;font-weight:700>||</span> <span style=color:#000>$feed</span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#39;profile_media_images&#39;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>!=</span> <span style=color:#204a87;font-weight:700>NULL</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
          <span style=color:#000>\Drupal</span><span style=color:#ce5c00;font-weight:700>::</span><span style=color:#c4a000>logger</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;form_import&#39;</span><span style=color:#000;font-weight:700>)</span><span style=color:#ce5c00;font-weight:700>-&gt;</span><span style=color:#c4a000>notice</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;FORM IMPORT: type is </span><span style=color:#4e9a06>$type</span><span style=color:#4e9a06>&#34;</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#ce5c00;font-weight:700>...</span>
</code></pre></div><h1 id=maintaining-an-upgrade-path>Maintaining an Upgrade Path</h1>
<p>All changes in configurations should be added to appropriate hook_update_N to update already existing environments. We suggest using the <a href=https://www.drupal.org/project/confi>Config Importer and Tools
</a> package for working with hook_update_N.</p>
<h2 id=install-files>Install files</h2>
<h3 id=openyinstall-in-profile><code>openy.install</code> in profile</h3>
<p>In this file, we should put updates that are related to the distribution in general and don&rsquo;t fit into any feature.</p>
<ul>
<li>Enable/Disable module</li>
<li>General configs</li>
</ul>
<h3 id=openy_install-in-modules><code>openy_*.install</code> in modules</h3>
<p>If you update some configuration for a specific feature, make sure that you put updates into this file in the appropriate module.</p>
<h2 id=config-management>Config Management</h2>
<h3 id=revert-only-specific-property-from-config>Revert only specific property from config</h3>
<p>This is the preferred method of updating configs as it will result in fewer conflicts for upgrading customized Open Y instances.</p>
<p>With <a href=https://www.drupal.org/project/confi>config_import module</a> we can update only part of the full config.</p>
<p>For updating specific property in config use the <code>openy_upgrade_tool.param_updater</code> service:</p>
<ol>
<li>Find the module where your config lives.</li>
<li>Create a new <code>hook_update_N</code> in the <code>openy_*.install</code> file.</li>
<li>In that hook add the update code (for example):</li>
</ol>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=color:#000>$config</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>drupal_get_path</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;module&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;openy_media_image&#39;</span><span style=color:#000;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>.</span> <span style=color:#4e9a06>&#39;/config/install/views.view.images_library.yml&#39;</span><span style=color:#000;font-weight:700>;</span>
<span style=color:#000>$config_importer</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>\Drupal</span><span style=color:#ce5c00;font-weight:700>::</span><span style=color:#c4a000>service</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;openy_upgrade_tool.param_updater&#39;</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000>$config_importer</span><span style=color:#ce5c00;font-weight:700>-&gt;</span><span style=color:#c4a000>update</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>$config</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;views.view.images_library&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;display.default.display_options.pager&#39;</span><span style=color:#000;font-weight:700>);</span>
</code></pre></div><p>Where:</p>
<ul>
<li><code>$config</code> variable contains path to config with config name, like:</li>
<li><code>views.view.images_library</code> - config name</li>
<li><code>display.default.display_options.pager</code> - config specific property (you can set value from a nested array with variable depth)</li>
</ul>
<h3 id=revert-full-configs>Revert full configs</h3>
<p>This variant uses extensive config file manipulation and increases the time for an upgrade.</p>
<p>For updating full config or several configs from directory use the <code>openy_upgrade_tool.importer</code> service:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=color:#000>$config_dir</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>drupal_get_path</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;module&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;openy_media_image&#39;</span><span style=color:#000;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>.</span> <span style=color:#4e9a06>&#39;/config/install&#39;</span><span style=color:#000;font-weight:700>;</span>
<span style=color:#000>$config_importer</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>\Drupal</span><span style=color:#ce5c00;font-weight:700>::</span><span style=color:#c4a000>service</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;openy_upgrade_tool.importer&#39;</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000>$config_importer</span><span style=color:#ce5c00;font-weight:700>-&gt;</span><span style=color:#c4a000>setDirectory</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>$config_dir</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000>$config_importer</span><span style=color:#ce5c00;font-weight:700>-&gt;</span><span style=color:#c4a000>importConfigs</span><span style=color:#000;font-weight:700>([</span><span style=color:#4e9a06>&#39;views.view.images_library&#39;</span><span style=color:#000;font-weight:700>]);</span>
</code></pre></div><p>Where:</p>
<ul>
<li><code>$config_dir</code> - path to directory with config</li>
<li><code>views.view.images_library</code> - config name</li>
</ul>
<p>Also you can update several configs from a directory:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=color:#000>$config_importer</span><span style=color:#ce5c00;font-weight:700>-&gt;</span><span style=color:#c4a000>importConfigs</span><span style=color:#000;font-weight:700>([</span>
  <span style=color:#4e9a06>&#39;views.view.images_library&#39;</span><span style=color:#000;font-weight:700>,</span>
  <span style=color:#4e9a06>&#39;views.view.example_view&#39;</span><span style=color:#000;font-weight:700>,</span>
<span style=color:#000;font-weight:700>]);</span>
</code></pre></div><h1 id=javascript-includes>JavaScript includes</h1>
<p><img src=https://user-images.githubusercontent.com/563412/122801945-6f28b700-d2cd-11eb-8d0c-694432e8cbf0.png alt=image></p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-272472a17a17e91f5f0339be0c9d7a6a>4.2 - Composer-version-constraints-for-Open-Y</h1>
<p>In 2020, due to changes in Drupal core release management and demand from Open Y customers to improve upgrade path flexibility and stability, the Open Y team added extended composer version constraints to our <code>composer.json</code>.</p>
<p>Examples from <a href=https://github.com/ymcatwincities/openy/blob/9.x-2.x/composer.json>composer.json</a>:</p>
<ul>
<li><code>"drupal/ckeditor_bootstrap_buttons": "^1.2 || ^2.0.0",</code> - this line means previous version was 1.2 or any 1.x starting from 1.2, and latest tested - 2.0.0 with allowed any stable 2.x starting from 2.0.0</li>
<li><code>"drupal/custom_formatters": "^3.0 || ^3.0@beta",</code> - tested with 3.0 beta of custom_formatters and allowed any 3.x starting from 3.0 (when it will be released)</li>
</ul>
<p>By having multiple OR (<code>||</code>) conditions we are providing information for developers on which versions could be used for upgrades. There are cases when the latest, even stable version of dependency could be incompatible with some other functionality and it makes sense to keep the version older while functionality is in the process of upgrading.</p>
<p>For example, if, for some reason, <code>custom_formatters</code> 3.0 won&rsquo;t be compatible with any of Open Y dependencies at the time of release, a developer can select an older beta version in order to proceed with the upgrade.</p>
<p>To select a specific version of a dependency when you do an upgrade of Open Y, add a dependency and its version alongside Open Y at the <code>composer require...</code> step.</p>
<p>For example:</p>
<p>from <a href=/openy_docs/docs/wiki/openy-upgrade-how-to-for-developers/>upgrade doc</a></p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>composer require ymcatwincities/openy:NEW_VERSION_HERE --no-update
composer update --prefer-dist --with-dependencies --prefer-stable --no-suggest
</code></pre></div><p>then change the dependency version</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>composer require ymcatwincities/openy:NEW_VERSION_HERE --no-update
composer require drupal/custom_formatters:3.0@beta1
</code></pre></div><p>You can change any of the dependency versions without upgrading Open Y by running only the <code>composer require...</code> command for specific dependencies and Drupal Update DB routines afterward.</p>
<p>Check <a href=https://getcomposer.org/doc/articles/versions.md>official Composer documentation about version constraints</a> and <a href=https://www.drupal.org/docs/updating-drupal/updating-modules-and-themes-using-composer>updating Drupal modules with Composer</a>.</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-c74658fdccabd94fcef0f10328404202>4.3 - Decouple-component-from-Open-Y-as-independent-module-project</h1>
<h2 id=history>History</h2>
<p>In 2019 the Open Y team started decoupling major components to streamline the distribution and simplify support.</p>
<p>Communication started in the <a href=https://community.openymca.org/t/ejecting-modules-from-openy-distro-as-independent-projects/513>Community Board - Ejecting modules from OpenY distro as independent projects</a>.</p>
<p>The decoupling process is ongoing. See <a href=/openy_docs/docs/wiki/decoupled-external-projects-of-openy/>the index of decoupled projects</a>.</p>
<p>In 2021 the Open Y core team faced coupling blockers in the distribution during <a href=https://github.com/ymcatwincities/openy/milestone/21>the upgrade from Drupal 8 to Drupal 9</a></p>
<p>To formalize the ongoing development and maintenance strategy, the Open Y core team <a href="https://docs.google.com/presentation/d/1H09GsUsSdt3RoN7rbKpNv4eihCNos74Y2KCbJBJXRqc/edit?usp=sharing">shared its decoupling plan with the wider community</a> in mid-2021.</p>
<p>This document elaborates on those processes.</p>
<h2 id=policy>Policy</h2>
<ul>
<li>Every new component or sub-project of Open Y should be developed in its own repository - either on GitHub or Drupal.org.
<ul>
<li>Drupal.org example: <a href=https://www.drupal.org/project/paragraph_skins>paragraph_skins</a></li>
<li>GitHub Example: <a href=https://github.com/ymcatwincities/openy_activity_finder>openy_activity_finder</a></li>
</ul>
</li>
<li>The decoupled project could be
<ul>
<li><strong>part of Open Y core</strong> - e.g. <a href=https://github.com/ymcatwincities/openy_activity_finder>Activity Finder</a> and <a href=https://github.com/ymcatwincities/openy/blob/9.2.8.0/composer.json#L112>added to Open Y profile by default</a>, or</li>
<li><strong>not part of the core</strong>, e.g. <a href=https://github.com/ymcatwincities/openy_memberships>Open Y Membership Framework</a> which could be <a href=https://github.com/ymcatwincities/openy_memberships/blob/master/README.md#installation>installed later</a>.</li>
</ul>
</li>
<li><strong>GitHub</strong> should be used when there is no strategy to make a component or project available for the wider Drupal community - that is, when it is tied to YMCA business and unlikely to be leveraged by somebody else.</li>
<li><strong>Drupal.org</strong> should be used when the component could be useful to projects outside of Open Y.</li>
</ul>
<h2 id=process>Process</h2>
<h3 id=for-creating-a-new-decoupled-component>for creating a new decoupled component</h3>
<ol>
<li>Create a new GitHub/Drupal.org repository.</li>
<li>Work on getting an initial release with at least <code>beta</code> version stability.</li>
<li>Create a composer.json file for the component in order to be able to start using it via <code>composer</code>. See <a href=https://github.com/ymcatwincities/openy_gated_content/blob/master/composer.json>Virtual Y</a> for an example.</li>
<li>Make it available for the public via packagist.org or drupal.org as a release. Ensure <code>podarok</code> is added as a co-maintainer to the respective system.</li>
<li>Suggest adding to Open Y by <a href=https://github.com/ymcatwincities/openy/issues>opening an issue</a>.</li>
<li>If approved, create a Pull Request adding it as a dependency in <a href=https://github.com/ymcatwincities/openy/blob/9.x-2.x/composer.json>composer.json</a>.</li>
<li>Ensure this component is enabled in any of the packages maintained in the <a href=https://github.com/ymcatwincities/openy/blob/9.x-2.x/openy.packages.yml>Open Y profile installation</a></li>
<li>Ask for review and release, according to the <a href=/openy_docs/docs/wiki/how-we-release-openy-distribution-from-code-perspective/>release plan</a>.</li>
</ol>
<h3 id=for-decoupling-an-existing-component-of-open-y>for decoupling an existing component of Open Y</h3>
<p>Follow the steps above, but:</p>
<ul>
<li>After creating the repo, filter the selected component by running <code>git filter-branch --subdirectory-filter ...</code> from the latest development branch of the Open Y profile. This keeps credits of work done for this component as a part of the <a href=/openy_docs/docs/wiki/open-y-code-of-conduct-and-best-practices/>Code of Conduct</a>.</li>
<li>After separating the code, ensure the ejected code is not duplicated in the Open Y profile. Remove duplicated code in the same Pull Request in which you add the new dependency.</li>
</ul>
<h2 id=examples>Examples</h2>
<h3 id=how-to-update-module-on-drupalorg>How to update module on Drupal.org</h3>
<ul>
<li>Git filter-branch to get a history of changes.</li>
<li>Change git origin to Drupal.org project.</li>
<li>Create a new branch and push the code to Drupal.org.</li>
<li>Create and push tag to Drupal.org. Create a release on drupal.org.</li>
<li>Update composer.json in this distribution with a new tag.</li>
</ul>
<h3 id=how-to-decouple-module-from-yn-to-drupalorg>How to decouple module from YN to Drupal.org</h3>
<p>Example: <a href=https://www.drupal.org/project/paragraph_skins>paragraph_skins</a></p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>git clone git@github.com:ymcatwincities/openy.git decouple
rm -rf decouple_copy <span style=color:#ce5c00;font-weight:700>&amp;&amp;</span> cp -a decouple decouple_copy
<span style=color:#204a87>cd</span> decouple_copy
git filter-branch --subdirectory-filter docroot/modules/contrib/paragraph_skins
git clean -dfx
git remote remove origin <span style=color:#ce5c00;font-weight:700>&amp;&amp;</span> git remote add origin git@git.drupal.org:project/paragraph_skins.git
git pull origin 8.x-1.x --allow-unrelated-histories
<span style=color:#8f5902;font-style:italic># Resolve conflicts if applicable.</span>
git push origin production:8.x-1.x
<span style=color:#8f5902;font-style:italic># Create tags and release on Drupal.org</span>
</code></pre></div><h3 id=how-to-decouple-module-from-open-y-to-open-y-subprojectshttpsgithubcomopen-y-subprojects>How to decouple module from Open Y to <a href=https://github.com/Open-Y-subprojects>Open Y Subprojects</a></h3>
<p>Request a repository for the module. Example: <a href=https://github.com/Open-Y-subprojects/shared_content_server>shared_content_server</a></p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>git clone git@github.com:ymcatwincities/openy.git decouple
rm -rf decouple_copy <span style=color:#ce5c00;font-weight:700>&amp;&amp;</span> cp -a decouple decouple_copy
<span style=color:#204a87>cd</span> decouple_copy
git filter-branch --subdirectory-filter docroot/profiles/contrib/openy/modules/custom/SOME_MODULE_HERE
git clean -dfx
git remote remove origin <span style=color:#ce5c00;font-weight:700>&amp;&amp;</span> git remote add origin git@github.com:Open-Y-subprojects/SOME_MODULE_HERE.git
git push origin production
<span style=color:#8f5902;font-style:italic># Create composer.json on the decoupled repository. Example: https://github.com/ymcatwincities/openy_activity_finder/blob/4.x/composer.json</span>
git clone git@github.com:ynorth-projects/distribution.git yn-distribution
<span style=color:#8f5902;font-style:italic># Update composer json for distrubution. See below</span>
</code></pre></div><p><a href=https://github.com/ymcatwincities/openy/pull/2288/files#diff-d2ab9925cad7eac58e0ff4cc0d251a937ecf49e4b6bf57f8b95aab76648a9d34R111>Example for Activity Finder</a></p>
<h1 id=references>References</h1>
<ul>
<li>A useful article for future decoupling - <a href=https://medium.com/@ayushya/move-directory-from-one-repository-to-another-preserving-git-history-d210fa049d4b>Move files from one repository to another, preserving git history</a></li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-a8c7778315c85d0ababc0319f3c4487f>4.4 - Decoupled-(-external-)-projects-of-OpenY</h1>
<h1 id=inventory-of-external-modules-available-via-composer>Inventory of external modules available via Composer</h1>
<p>Check all GitHub for the tag <a href=https://github.com/topics/openy-decoupled><code>openy-decoupled</code></a></p>
<h2 id=github-hosted>GitHub hosted</h2>
<ol>
<li><a href=https://github.com/ymcatwincities/openy_block_modal><code>ymcatwincities/openy_block_modal</code></a> - Implements a simple block with a body and title that will be used to display modal windows.</li>
<li><a href=https://github.com/ymcatwincities/openy_memberships><code>ymcatwincities/openy_memberships</code></a> - Membership Framework for OpenY and Drupal.</li>
<li><a href=https://github.com/ymcatwincities/openy_prgf_sidebar_menu><code>ymcatwincities/openy_prgf_sidebar_menu</code></a> - SideBar menu for referencing menu blocks and using in SideBars across different pages.</li>
<li><a href=https://github.com/ymcatwincities/openy_loc_filter><code>ymcatwincities/openy_loc_finder</code></a> - Extended Location Finder</li>
<li><a href=https://github.com/Open-Y-subprojects/reqclique_gxp_sync><code>Open-Y-subprojects/reqclique_gxp_sync</code></a> - Reqclique Group Exercise Sync</li>
<li><a href=https://github.com/open-y-subprojects/virtual_y_signaling_server><code>open-y-subprojects/virtual_y_signaling_server</code></a> - Signalling server for Virtual Y</li>
<li><a href=https://github.com/open-y-subprojects/openy_daxko_gxp_syncer><code>open-y-subprojects/openy_daxko_gxp_syncer</code></a> - Daxko GroupEx PRO v1 API Syncer into Program Event Framework</li>
<li><a href=https://github.com/open-y-subprojects/ynorth_gxp_spots_proxy><code>open-y-subprojects/ynorth_gxp_spots_proxy</code></a> - Availability Spots Cache Proxy for Groupex PRO embed API Syncer into PEF</li>
<li><a href=https://github.com/open-y-subprojects/openy_node_alert><code>open-y-subprojects/openy_node_alert</code></a> - Alerts APP for Open Y</li>
<li><a href=https://github.com/open-y-subprojects/openy_focal_point><code>open-y-subprojects/openy_focal_point</code></a> - Open Y Focal Point routines</li>
<li><a href=https://github.com/open-y-subprojects/shared_content_server><code>open-y-subprojects/shared_content_server</code></a> - Shared Content Server</li>
<li><a href=https://github.com/ynorth-projects/openy_node_session><code>ynorth-projects/openy_node_session</code></a> - Open Y Node Session</li>
<li><a href=https://github.com/ynorth-projects/openy_repeat><code>ynorth-projects/openy_repeat</code></a> - Repeat API for PEF. Schedules APP built in Vue.js</li>
<li><a href=https://github.com/ynorth-projects/openy_pef_gxp_sync><code>ynorth-projects/openy_pef_gxp_sync</code></a> - Groupex Pro Embed/OpenY Syncer into PEF</li>
<li><a href=https://github.com/ymcatwincities/ymca_sync><code>ymcatwincities/ymca_sync</code></a> - Syncer backend core</li>
<li><a href=https://github.com/ymcatwincities/openy_activity_finder><code>ymcatwincities/openy_activity_finder</code></a> - Activity Finder app</li>
<li><a href=https://github.com/ymcatwincities/media_entity_document><code>ymcatwincities/media_entity_document</code></a> - Media Entity Document</li>
<li><a href=https://github.com/ynorth-projects/openy_prgf_session_table><code>ynorth-projects/openy_prgf_session_table</code></a> - if you need to present couple of Sessions in a table view without using any complex app like Schedules or Activity Finder</li>
</ol>
<h2 id=drupalorg-hosted>Drupal.org hosted</h2>
<ol>
<li><a href=https://www.drupal.org/project/upgrade_tool><code>drupal/upgrade_tool</code></a> - Open Y Upgrade Tool</li>
<li><a href=https://github.com/ymcatwincities/paragraph_skins><code>ymcatwincities/paragraph_skins</code></a> - Skins component from OpenY. Decoupled to <a href=https://www.drupal.org/project/paragraph_skins><code>drupal/paragraph_skins</code></a></li>
<li><a href=https://www.drupal.org/project/openy_autocomplete_path><code>drupal/openy_autocomplete_path</code></a> - Open Y Autocomplete Path. Works in Drupal 8 only. Removed from <code>9.*</code> Open Y releases.</li>
</ol>
<h2 id=decoupling-mind-map>Decoupling mind-map</h2>
<p><img src=https://user-images.githubusercontent.com/563412/123959435-d540c880-d9b6-11eb-89ed-8af3f21095dd.png alt="Open Y decoupling"></p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-f279bf516b9e5ebfd4d500ad30505c44>4.5 - Dependencies-in-drupal-info.yml</h1>
<p>In order to generate <code>composer.json</code>, Drupal.org defines specific rules in the modules <code>info.yml</code> file</p>
<p>If you need to add a dependency to the Drupal.org module you should provide a format:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=color:#204a87;font-weight:700>dependencies</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#000>drupal:webform</span><span style=color:#f8f8f8;text-decoration:underline>
</span></code></pre></div><p>In this case, your module will have composer dependency to <a href=https://dgo.to/webform>drupal/webform</a></p>
<p>If you make it:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=color:#204a87;font-weight:700>dependencies</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#000>whatevernameyouwish:webform</span><span style=color:#f8f8f8;text-decoration:underline>
</span></code></pre></div><p>the Drupal.org packaging routine will replace it with <code>drupal:webform</code> on the fly.</p>
<p>In order to break the dependency on composer level but still tell Drupal core to have module dependency while resolving dependencies during the process of enabling the module, you should use the simplified format:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=color:#204a87;font-weight:700>dependencies</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#000>webform</span><span style=color:#f8f8f8;text-decoration:underline>
</span></code></pre></div><p>In the above case, composer won&rsquo;t have any dependencies, but your module will require that the webform module be available in the codebase in order to be enabled by Drupal core.</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-21d131922f81a2244f4cba1b96a1bb9f>4.6 - Deprecate-and-remove-components-from-Open-Y</h1>
<p>Occasionally old code is deprecated from the Open Y codebase. In order to minimize disruption to existing sites, we use the following process:</p>
<ol>
<li><strong>Decide</strong> - Before removing components from the distribution we gather feedback from the community to protect active projects from having components accidentally removed. This is accomplished via messaging in the Open Y Slack and discussion on Monthly calls.</li>
<li><strong>Deprecate</strong> - Once a decision is made, we notify users that the feature will be removed soon. The deprecated component is moved from the <code>Open Y</code> package group to the <code>Open Y ( Deprecated )</code> package group. For example: <a href=https://github.com/open-y-subprojects/openy_features/pull/15/files>Deprecate Daxko Program Registration Paragraph</a>. Deprecation notices are posted in point and quarterly releases of Open Y.</li>
<li><strong>Uninstall</strong> - Before removing code, components should be uninstalled via an update hook in the distribution and any hard dependencies should be removed. Uninstalls must occur <em>at least one point (fix) release</em> after the deprecation notice.</li>
<li><strong>Remove</strong> - Complete removal of the component from the codebase or <code>composer.json</code> should happen <em>at least one quarterly (feature) release</em> after the deprecation notice.</li>
</ol>
<p>Additionally, the following housekeeping steps should be taken when deprecating a component:</p>
<ol>
<li>The release where the deprecated component has been uninstalled should be added to the <a href=https://github.com/ymcatwincities/openy/wiki/Important-versions-for-upgrade-path>important versions document</a> in the Wiki.</li>
<li>Code should be decoupled to external GitHub repositories with all history of commits, marked as <code>openy-decoupled</code>, and archived.</li>
</ol>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-79557a8453b5bf370c199da55518bedc>4.7 - Development-FAQ</h1>
<h1 id=open-y-developer-faq>Open Y Developer FAQ</h1>
<h2 id=local-development>Local Development</h2>
<h3 id=getting-started-with-a-local-environment>Getting started with a local environment</h3>
<p>To start developing you need to obtain the latest Open Y codebase. See the <a href=https://github.com/ymcatwincities/openy-project#latest-development-version-drupal-9-2x><code>openy-project</code> repository</a> for the full process.</p>
<p><a href="https://www.youtube.com/watch?v=jRlinjpTl0c">This video tutorial</a> will walk you through how to initiate a local development environment.</p>
<p>The Open Y team has pre-built environments and walkthroughs using either <a href=https://github.com/ymcatwincities/openy-cibox-vm#drupal-vagrant-dev-box-for-openy-support>Vagrant and VirtualBox</a> or <a href=https://github.com/ymcatwincities/openy-docksal#get-started>Docker and Docksal</a>. Choose the method that you&rsquo;re most comfortable with and get started!</p>
<h3 id=gathering-information-about-your-local-environment>Gathering information about your local environment</h3>
<p>To best troubleshoot issues, it&rsquo;s helpful for the Open Y team to have as much information about your environment as possible. Before you ask for help, watch this tutorial on <a href="https://www.youtube.com/watch?v=01y617maeBE">how to gather that information</a>.</p>
<h3 id=debugging-with-xdebug-in-your-local>Debugging with Xdebug in your local</h3>
<p>The Docksal project maintains detailed information for <a href=https://docs.docksal.io/tools/xdebug/>using Xdebug with VSCode, PHPStorm, and more</a>.</p>
<h2 id=contributing>Contributing</h2>
<h3 id=who-should-i-specify-for-review>Who should I specify for review?</h3>
<p>We have a best practice to get at least 2 independent reviews before merging code. Please request a review from the Open Y Lead Technical Architect (Andrii Podanenko, <code>@podarok</code>) and somebody else (from your team or another Open Y partner).</p>
<h3 id=who-is-responsible-for-merging>Who is responsible for merging?</h3>
<p>The Open Y Lead Technical Architect (Andrii Podanenko, <code>@podarok</code>) is responsible for final approval, merging, and release management on the Open Y project.</p>
<h3 id=what-labels-in-prs-should-i-use>What labels in PRs should I use?</h3>
<h3 id=what-milestone-should-i-specify>What milestone should I specify?</h3>
<h3 id=why-i-cant-add-labels-or-specify-milestones>Why I can&rsquo;t add labels or specify milestones?</h3>
<p>All of these require you to be granted Contributor access to the Open Y GitHub repository. Contact the Open Y Lead Technical Architect (Andrii Podanenko, <code>@podarok</code>) to get access. Labels are usually set by the Open Y Core Team.</p>
<h3 id=why-are-the-steps-for-review-in-pull-requests-so-important>Why are the steps for review in Pull Requests so important?</h3>
<p>When you send your code for review our team must know both how to review the code and what to test to verify the functionality. You are the only source of truth for how to check functionality. Adding steps for review will help the reviewer and QA team to verify that the issue is resolved.</p>
<h3 id=why-should-i-add-a-reference-to-the-github-issue-in-my-pr-description>Why should I add a reference to the GitHub issue in my PR description?</h3>
<p>As we are a community-led project, there may be a long time between creating an issue and resolving it in a Pull Request. The reviewer should be able to understand the context and possible discussion around the issue to be resolved with your PR. The more context we have, the better and faster we can review the request.</p>
<h3 id=in-what-format-should-i-add-commits-should-i-add-internal-jira-task-id-or-github-issue>In what format should I add commits, should I add internal Jira task ID or GitHub issue?</h3>
<p>It is important to make commit messages with some sort of sense for the human to read them when digging back in history. Adding any task identifications from the project management system is allowed.</p>
<h3 id=what-is-the-deepcode-bot>What is the &ldquo;DeepCode&rdquo; bot?</h3>
<p>DeepCode bot is the automated, machine learning code review system that analyses huge amounts of GitHub repositories and is sometimes useful to find common issues before humans do reviews. It is helpful, but not always necessary to fix issues found by the DeepCode bot because sometimes it fails. If you see a comment be sure to read the report. If the report makes sense, then fix the issue suggested by the bot.</p>
<h2 id=build-automation--ci>Build Automation & CI</h2>
<h3 id=what-ci-processes-does-open-y-have-in-place>What CI processes does Open Y have in place?</h3>
<p>To get a fully working Open Y site for the code change you are about to push for review there is a build generating system installed for the Open Y GitHub repository that automatically generates a dedicated temporary website with your changes applied.</p>
<h2 id=why-are-some-builds-created-automatically-and-some-not>Why are some builds created automatically and some not?</h2>
<p>By default, builds are configured for trusted users, so if you are getting a message from the bot like</p>
<blockquote>
<p>&ldquo;Can one of the admins verify this patch? Use &ldquo;o+k to test&rdquo; or &lsquo;&rsquo;t+est this please&rdquo; for manual build execution."</p>
</blockquote>
<p>then your username is not in the allowlist and somebody from the Open Y Core Team can comment to initiate a build for you. Contact <code>@podarok</code> to get your build generated or your name added to the allowlist.</p>
<h3 id=how-do-i-create-a-build-for-my-pr>How do I create a build for my PR?</h3>
<p>If you are on the allowlist then simply create a Pull Request from your fork to the Open Y repository. After up to 30 minutes you&rsquo;ll receive comments with links to the generated site builds.</p>
<h3 id=when-are-builds-deleted-from-the-server>When are builds deleted from the server?</h3>
<p>Usually, you have a day for the build to be wiped out from the server. If there is an upcoming deadline and many PRs are coming in, the lifetime could be significantly shorter, down to a couple of hours.</p>
<h3 id=who-should-i-contact-to-get-logs-from-the-build-server>Who should I contact to get logs from the build server?</h3>
<p>Andrii Podanenko <code>@podarok</code> or Dima Danylevskyi <code>@danylevskyi</code></p>
<h3 id=what-should-i-do-if-tests-fail>What should I do if tests fail?</h3>
<p>If you have any concerns with reports generated by the code checkers that are used in Open Y ask Open Y Lead Technical Architect Andrii Podanenko to get them resolved. The majority of these systems are works-in-progress and it is helpful to have feedback on them.</p>
<h2 id=how-do-i-install-open-y-on-pantheon-hosting>How do I install Open Y on Pantheon hosting</h2>
<p>See <a href=https://github.com/ymcatwincities/openy/issues/2004>request from a community</a>. The solution is described in <a href=https://pantheon.io/docs/nested-docroot>Pantheon&rsquo;s documentation on nested docroots</a>. We suggest that you maintain your own <code>composer.json</code> with the specified web-root directory, as described in the <a href=https://github.com/pantheon-systems/example-drops-8-composer/blob/master/composer.json#L94>Pantheon examples</a>.</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-79aa184c79066ff5eb7f27c9a94dfeba>4.8 - Drupal-9-core-dependencies-version-flexibility</h1>
<p>This document is no longer updated.</p>
<p>To update the version of Drupal being used on your site independent of Open Y see <a href=https://www.drupal.org/docs/updating-drupal/updating-drupal-core-via-composer>Updating Drupal Core via Composer</a>. Be aware that <code>openy/composer.json</code> may set <a href="https://github.com/ymcatwincities/openy/blob/9.x-2.x/composer.json#:~:text=%22drupal/-,core%2Drecommended,-%22%3A%20%22%3E%3D9.1%2C%20%3C9.3%22%2C">Drupal core version constraints</a>.</p>
<hr>
<p>February 2021 release tagged Drupal core both 9.0.x and 9.1.x as allowed to be used.</p>
<p>Composer by default is installing the latest stable version, so a command</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>composer create-project ymcatwincities/openy-project:dev-9.2.x-development OPENY --no-interaction
</code></pre></div><p>will install Open Y on latest 9.1.x Drupal core.</p>
<p>If there is a need to stay on Drupal 9.0.x stable core please use</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>composer create-project ymcatwincities/openy-project:dev-9.2.x-development OPENY --no-interaction
<span style=color:#204a87>cd</span> OPENY
composer require drupal/core:~9.0.7
</code></pre></div><p>where 9.0.7 - is a needed version for your Open Y instance</p>
<p>For modules see <a href=/openy_docs/docs/wiki/composer-version-constraints-for-open-y/>Composer-version-constraints-for-Open-Y</a></p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-a7d7264cf3a419728d2c9ef5e325a66d>4.9 - GroupEx-PRO-quick-start</h1>
<p>This document has been moved to <a href=https://github.com/ynorth-projects/openy_pef_gxp_sync#readme>ynorth-projects/openy_pef_gxp_sync</a>.</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-0cd844e1218c3c54e9f2ab542495c500>4.10 - How-to-contribute-large-features-into-Open-Y-(backporting,-etc)</h1>
<p>Our best practices for backporting large features into Open Y, contributing code for others to use, can be found on <a href=https://community.openymca.org/t/i-made-some-customizations-to-my-site-that-i-want-to-contribute-back-to-open-y-what-are-the-best-practices-for-backporting-my-features/435>this Open Y message board post</a>.</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-27a63ef46372246d7079540d6487c8bf>4.11 - How-to-develop-themes-in-Open-Y</h1>
<h1 id=working-with-themes>Working with Themes</h1>
<p>Each Open Y theme was developed independently, either by the Open Y Core Team or by a partner for one specific Y and then contributed back. You can see demos of each theme on the <a href=/openy_docs/docs/wiki/sandboxes/>Sandboxes</a>.</p>
<p>Each theme has its own dependencies and build processes. Please read the steps in each <code>README</code> for details.</p>
<h2 id=inventory-of-themes>Inventory of themes</h2>
<p>As of December 2021, themes <a href=https://github.com/ymcatwincities/openy/pull/2595>have been decoupled</a> from the Open Y profile to independent projects on Drupal.org.</p>
<h3 id=carnation>Carnation</h3>
<ul>
<li><a href=https://www.drupal.org/project/openy_carnation>openy_carnation project</a> on Drupal.org</li>
<li><a href=https://git.drupalcode.org/project/openy_carnation>README</a> for getting started with development</li>
</ul>
<h3 id=lily>Lily</h3>
<ul>
<li><a href=https://www.drupal.org/project/openy_lily>openy_lily project</a> on Drupal.org</li>
<li><a href=https://git.drupalcode.org/project/openy_lily>README</a> for getting started with development</li>
</ul>
<h3 id=rose>Rose</h3>
<ul>
<li><a href=https://www.drupal.org/project/openy_rose>openy_rose project</a> on Drupal.org</li>
<li><a href=https://git.drupalcode.org/project/openy_rose>README</a> for getting started with development</li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-b2622706904d7a01c7cba1054dfdf552>4.12 - How-we-release-OpenY-distribution-from-code-perspective</h1>
<h3 id=repos-involved-in-releases>Repos involved in releases</h3>
<ol>
<li>Open Y Drupal Profile Distribution <a href=https://github.com/ymcatwincities/openy>ymcatwincities/openy</a></li>
<li>Open Y Project for initiating an Open Y instance - <a href=https://github.com/ymcatwincities/openy-project>ymcatwincities/openy-project</a></li>
<li>Continuous Integration/DevOps for rebuilding/installing Open Y - <a href=https://github.com/ymcatwincities/openy-cibox-build>ymcatwincities/openy-cibox-build</a></li>
<li>CIBox development environment (Virtualbox, Docker, Vagrant) <a href=https://github.com/ymcatwincities/openy-cibox-vm>ymcatwincities/openy-cibox-vm</a></li>
<li>Docksal development environment (Docker, VirtualBox) - <a href=https://github.com/ymcatwincities/openy-docksal>ymcatwincities/openy-docksal</a></li>
</ol>
<h3 id=release-management>Release Management</h3>
<p>When tagging a new release of Open Y, the Lead Architect takes the following steps:</p>
<ol>
<li>Review/Merge/Update <a href=https://github.com/ymcatwincities/openy-project>ymcatwincities/openy-project</a> (usually composer.json or/and oneline script install) and tag a new release there.</li>
<li>Review/Merge all Pull Requests in <a href=https://github.com/ymcatwincities/openy>ymcatwincities/openy</a> that were planned for release.</li>
<li>Change the Open Y version in <a href=https://github.com/ymcatwincities/openy/blob/9.x-2.x/openy.info.yml#L5><code>openy.info.yml</code></a>.</li>
<li>Change the Open Y version in major modules if there were changes to them (Activity Finder, PEF, etc).</li>
<li>Create Changelog release notes as a draft and include Contributors as well as major issues fixed/introduced.</li>
<li>Spin up a copy of an Open Y site and check top priority functionality for regressions.</li>
<li>Send for review to Core Team (Craig Paulnock, Paige Kiecker), get approval.</li>
<li>Change the Open Y version to next with -dev suffix for developers in <a href=https://github.com/ymcatwincities/openy/blob/8.x-2.x/openy.info.yml#L5><code>openy.info.yml</code></a>.</li>
<li>Refresh the Open Y private mirror on the <code>openy.cibox.tools</code> CI server.</li>
<li>Check that the <a href=https://github.com/ymcatwincities/openy-project/blob/8.2.x/scripts/openyonclickinstall.sh>one-click install</a> is working on a fresh DigitalOcean instance ($10: 1CPU 2Gb RAM). Ensure the version of Open Y is the proper one in site info (<code>admin/reports/status</code>).</li>
<li>Publish announcement in #developers Open Y Slack channel.</li>
<li>Publish announcement in #general Open Y Slack channel.</li>
</ol>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-21722c602ec0e5568f09af92c9e735ee>4.13 - Important-versions-for-upgrade-path</h1>
<p>Open Y development moves quickly and in this document, we flag important versions that should not be skipped while you upgrade your sites.</p>
<h2 id=determining-your-upgrade-path>Determining your upgrade path</h2>
<p>For example: If you are on Open Y 8.1.2 and want to upgrade to Open Y 8.2.8.5 you should make it in a couple of steps</p>
<ol>
<li>Upgrade 8.1.2 to 8.1.13.1</li>
<li>Upgrade 8.1.13.1 to 8.2.2.1</li>
<li>Upgrade 8.2.2.1 to 8.2.7.3</li>
<li>Upgrade 8.2.7.3 &mldr;</li>
</ol>
<p>These supplemental documents elaborate on a few specific cases:</p>
<ul>
<li><a href=/openy_docs/docs/wiki/openy-upgrade-for-developers.-upgrade-to-old-openy-1.x-version/>Upgrade from Open Y &lt;8.1.3</a></li>
<li><a href=/openy_docs/docs/wiki/upgrade-openy-8.1.3-to-8.2.2.1/>Upgrade from 8.1.3 to 8.2.2.1</a></li>
<li><a href=/openy_docs/docs/wiki/upgrade-use-case-from-8.2.2.3-to-8.2.7.3/>Upgrade from 8.2.2.3 to 8.2.7.3</a></li>
</ul>
<h3 id=important-versions>Important versions</h3>
<ul>
<li><code>8.1.13.1</code> - Optional, when you have a lot of customized code and 8.2.2.1 is failing in most places.</li>
<li><code>8.2.2.1</code> - This is a very important step everyone should have. After this version, <code>drush entup</code> stops working. In this version, we finally migrated to the core media subsystem, and before going further it is important to upgrade media by upgrading your site to this version first.</li>
<li><code>8.2.7.3</code> - This is a very stable Drupal 8 based Open Y with a bunch of contrib module updates. This is one of the last Drupal 8 based Open Y versions before the upgrade to Drupal 9 core. Also, in 8.2.7.0 and 8.2.7.1 we started to introduce multiple version constraints in <code>composer.json</code> to allow developers to choose between the minimum or latest dependency versions. This is for securing the upgrade path as well as adding flexibility for version selection if needed.</li>
<li><code>9.2.8.0</code> - Drupal 9 version which must be used in the upgrade path before going to 9.2.8.1+. This version added 9.0-9.1 Drupal Core and disabled deprecated components.</li>
<li><code>9.2.10.0</code> - Removed a bunch of unused modules from distribution.</li>
</ul>
<p>See <a href=/openy_docs/docs/wiki/composer-version-constraints-for-open-y/>Version Constraints practices for Open Y</a></p>
<h2 id=known-issues>Known issues</h2>
<p>If you are faced with an issue when <code>composer</code> installs an improper version of <code>drupal/core</code> for the chosen version of Open Y from the list above, please use this trick in order to downgrade:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>composer require drupal/core-recommended:9.2.8
</code></pre></div><p>Run the above command where your <code>docroot</code> is. Use the current core version instead of <code>9.2.8</code>.</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-d3b768eeef436c0fee1bdf4f26981e03>4.14 - Install-Solr-site-search-for-Open-Y</h1>
<p>Open Y leverages <a href=https://solr.apache.org/>Apache Solr</a> for a few features:</p>
<ul>
<li><a href=https://github.com/ymcatwincities/openy_activity_finder/wiki>Activity Finder</a> requires Solr</li>
<li>Site search can <em>optionally</em> use Solr as per <a href=https://github.com/ymcatwincities/openy/pull/1967>this Pull Request</a></li>
</ul>
<h2 id=quick-start--upgrade-path>Quick Start / Upgrade path</h2>
<ul>
<li>Log in as admin.</li>
<li>Go to <code>admin/modules</code> and enable the Open Y Search API module.</li>
</ul>
<p><img src=https://user-images.githubusercontent.com/563412/142628630-b412aa4b-8f2b-42f6-ba06-c5bb6a78469c.png alt=image></p>
<ul>
<li>Approve the next step for enabling Database Search.</li>
</ul>
<p><img src=https://user-images.githubusercontent.com/563412/142628735-6aa409bd-5ff5-4305-a0f0-7f6bc96d0740.png alt=image></p>
<ul>
<li>Go to the Search API configuration page <code>admin/config/search/search-api</code>.</li>
<li>Verify that the &ldquo;OpenY Database Search&rdquo; server is enabled.</li>
<li>Visit &ldquo;Search content&rdquo; index.</li>
</ul>
<p><img src=https://user-images.githubusercontent.com/563412/142629065-e13c8bb4-cad8-436f-93c6-30fa6ac6fdf7.png alt=image></p>
<p>tip: Admins can enable and the Solr search and switch the index between servers.</p>
<ul>
<li>Index content by clicking &ldquo;Index now&rdquo;.</li>
</ul>
<p><img src=https://user-images.githubusercontent.com/563412/142629227-8607eeca-4022-47c4-b5fd-6e38ccfb7bab.png alt=image></p>
<ul>
<li>Go to the homepage and search for any keyword.</li>
</ul>
<p><img src=https://user-images.githubusercontent.com/563412/142629467-e275b536-2505-4ddf-8d78-7c6f4ae0e716.png alt=image></p>
<ul>
<li>Verify search results are displayed correctly.</li>
</ul>
<h2 id=starting-from-the-open-y-installer>Starting from the Open Y installer</h2>
<ul>
<li>Find the <code>Select search service</code> step displayed during the Open Y installation.</li>
<li>Choose from one of these options during installation:
<ul>
<li><strong>None</strong>
<ul>
<li>Nothing happens if the user chooses this option, search modules are displayed after installation.</li>
</ul>
</li>
<li><strong>Open Y Google Custom Search</strong>
<ul>
<li>Google Custom Search configuration form is displayed if the user chooses this option.</li>
<li>The Open Y Google Search module is enabled after installation and ready to use.</li>
</ul>
</li>
<li><strong>Open Y Search API</strong>
<ul>
<li>Search API backend options are displayed in this case with the following options:
<ul>
<li><em>Database</em>
<ul>
<li>The Open Y Search API module is enabled after installation. The database search API server is enabled. The search is ready to use after content indexation.</li>
</ul>
</li>
<li><em>Solr</em>
<ul>
<li>Additional installation step with Solr configuration form is displayed in this case and user can specify all params for Solr connection. The Open Y Search API module is enabled after installation, Solr search API server is enabled. The search is ready to use after content indexing (if the correct Solr settings were used).</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id=switch-from-database-search-backend-to-solr-backend>Switch from database search backend to Solr backend</h2>
<p>Watch a <a href=https://youtu.be/-Sq3uZb5K_U>video tutorial</a> on how to switch an existing site from the database backend to a Solr server. This requires a Solr server to be configured in your environment.</p>
<ul>
<li>Edit the &ldquo;Solr search&rdquo; server from the Search API configuration <code>admin/config/search/search-api</code>.</li>
<li>Add the configuration information for your Solr server. Refer to Drupal&rsquo;s <a href=https://www.drupal.org/project/search_api_solr>Search API Solr project</a> for troubleshooting connection information.</li>
<li>Save the server and observe that Search API has successfully connected to your server.</li>
<li>Edit the &ldquo;Search content&rdquo; index and change the &ldquo;Server&rdquo; field to the newly configured &ldquo;Solr Search&rdquo; index.</li>
<li>Visit the &ldquo;Search content&rdquo; index and click &ldquo;Index now&rdquo; to re-index the content.</li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-fe7f101aa30d8661a2ecd3ccac43b716>4.15 - Install-SSL-certificate-for-the-OpenY-site</h1>
<h2 id=web-security-and-open-y>Web Security and Open Y</h2>
<p>As many parties have moved to <a href=https://www.eff.org/encrypt-the-web>Encrypt the Web</a>, <code>https</code> sites and SSL certificates have shifted from &ldquo;nice to have&rdquo; to necessities.</p>
<p>If you&rsquo;re running Open Y on a managed platform you most likely have SSL already configured. If you choose to manage Open Y on your own, you&rsquo;ll have to install a certificate.</p>
<p><a href=https://letsencrypt.org/>Let&rsquo;s Encrypt</a> is &ldquo;a free, automated, and open certificate authority (CA), run for the public’s benefit. It is a service provided by the <a href=https://www.abetterinternet.org/>Internet Security Research Group (ISRG)</a>.&rdquo; <a href=https://certbot.eff.org/>Certbot</a> is &ldquo;a free, open source software tool for automatically using Let’s Encrypt certificates on manually-administrated websites to enable HTTPS.&rdquo;</p>
<p>Certbot maintains detailed documentation for installing SSL certificates on a variety of systems. Simply <a href=https://certbot.eff.org/instructions>visit Certbot&rsquo;s instructions wizard</a> and follow the instructions to configure your server.</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-81646fbeae499e421f744411a8b53ea8>4.16 - Open-Y-2.0-root-YAML-files</h1>
<p>There are plenty of <a href=http://en.wikipedia.org/wiki/YAML>YAML</a> configuration files at the root of the profile. Some of them are standard Drupal configuration and others are Open Y specific.</p>
<h2 id=basic-yml-files>Basic .yml files</h2>
<p>The following ones are very common and can be found in many Drupal modules:</p>
<ul>
<li><code>openy.info.yml</code> (<a href=https://www.drupal.org/docs/8/creating-custom-modules/let-drupal-8-know-about-your-module-with-an-infoyml-file>documentation</a>) - defines Open Y as a profile and defines its name and dependencies</li>
<li><code>openy.libraries.yml</code> (<a href=https://www.drupal.org/docs/8/creating-custom-modules/adding-stylesheets-css-and-javascript-js-to-a-drupal-8-module>documentation</a>) - defines global Open Y drupal asset libraries</li>
<li><code>openy.permissions.yml</code> - defines global Open Y permissions</li>
<li><code>openy.services.yml</code> (<a href=https://www.drupal.org/docs/8/api/services-and-dependency-injection/structure-of-a-service-file>documentation</a>) - if you are introducing a service that is needed by all (or the majority of) Open Y modules add it here and store the service class file in the <code>openy/src</code> directory</li>
</ul>
<h2 id=open-y-specific-yml-files>Open Y specific .yml files</h2>
<p>There are also a few configurations related to the Open Y installation process and the Open Y package system:</p>
<ul>
<li><code>openy.installation_types.yml</code></li>
<li><code>openy.themes.yml</code></li>
<li><code>openy.packages.yml</code></li>
</ul>
<h3 id=open-y-packages>Open Y packages</h3>
<p>The Open Y package system introduces a new level of abstraction, shifting from the Drupal standard module level to packages. Packages represent complete Open Y features, which could include multiple modules. A package is a declaration of a group of several modules. You can enable and disable a package, which means the whole set of the associated Drupal modules are enabled or disabled.</p>
<p>This approach provides a convenient way of managing Open Y features.</p>
<p>The Open Y system module provides a page where the enabled and available packages are listed and can be installed/uninstalled. See the Open Y Extend page (at <code>/admin/openy/extend</code>).</p>
<h3 id=open-y-installation-types>Open Y Installation types</h3>
<p>When an Open Y site is installed there is also another abstraction level - the installation type - which groups packages.</p>
<p>The hierarchy is as follows:</p>
<ul>
<li>installation type
<ul>
<li>package
<ul>
<li>module</li>
<li>module</li>
</ul>
</li>
<li>package
<ul>
<li>module</li>
<li>module</li>
<li>module</li>
</ul>
</li>
<li>package
<ul>
<li>module</li>
</ul>
</li>
</ul>
</li>
<li>installation type
<ul>
<li>package
<ul>
<li>module</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id=openyinstallation_typesyml>openy.installation_types.yml</h3>
<p><code>openy.installation_types.yml</code> defines the high-level presets available during website installation.</p>
<p>File structure:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>standard:
  name: Standard
  packages:
    - alerts
    - editorial
    - news
    - seo
    - webform

extended:
  name: Extended
  packages:
    - alerts
    - analytics
    - ...

complete:
  name: Complete/Developer
  hidden: true
  packages:
    - activenet
    - ...
</code></pre></div><p>Each installation type has a machine name which is a key of the top-level items.</p>
<h4 id=properties-of-installation-types>Properties of installation types:</h4>
<ul>
<li><strong>name</strong> (required) - a human-friendly name of the installation type</li>
<li><strong>packages</strong> (required) - a list of Open Y packages that are associated with the installation type. The packages are listed when a website is installed via the web-interface</li>
<li><strong>hidden</strong> (optional) - if the installation type must be hidden when a website is installed via the web interface</li>
</ul>
<p>If an Open Y site is installed using the web interface there is a step where the installation type can be selected.</p>
<p>If an Open Y site is installed using Drush then the installation type can be specified by an optional argument for the <code>drush site-install</code> command (<a href=https://github.com/ymcatwincities/openy/blob/8.x-2.x/docs/Development/InstallationWithDrush.md>Installation with Drush</a>):</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>  drush site-install openy \
     --db-url=&#34;mysql://user:pass@host:3306/db&#34; \
     --root=/docroot \
     openy_configure_profile.preset=extended
</code></pre></div><h3 id=openypackagesyml>openy.packages.yml</h3>
<p>Packages are defined in <code>openy.packages.yml</code>. This file is placed in the root of the profile, it&rsquo;s automatically detected and used by the Open Y installation process.</p>
<p>File structure</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#000>blog</span><span style=color:#000;font-weight:700>:</span>
  <span style=color:#000>name</span><span style=color:#000;font-weight:700>:</span> <span style=color:#a40000>&#39;</span><span style=color:#000>Blog</span><span style=color:#a40000>&#39;</span>
  <span style=color:#000>description</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;Blog package provides a set of modules to maintain and create different blog post listings.&#34;</span>
  <span style=color:#000>help</span><span style=color:#000;font-weight:700>:</span> <span style=color:#a40000>&#39;</span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#000>p</span><span style=color:#000;font-weight:700>&gt;</span><span style=color:#000>Using</span> <span style=color:#000>Blog</span> <span style=color:#204a87;font-weight:700>package</span> <span style=color:#000>you</span> <span style=color:#000>can</span> <span style=color:#000>create</span> <span style=color:#000>and</span> <span style=color:#000>maintain</span> <span style=color:#000>blog</span> <span style=color:#000>posts</span> <span style=color:#000>and</span> <span style=color:#000>create</span> <span style=color:#000>flexible</span> <span style=color:#000>listings</span> <span style=color:#000>of</span> <span style=color:#000>blog</span> <span style=color:#000>posts</span><span style=color:#000;font-weight:700>.</span> <span style=color:#000>Watch</span> <span style=color:#000>a</span> <span style=color:#000>video</span> <span style=color:#000>below</span> <span style=color:#000>to</span> <span style=color:#000>learn</span> <span style=color:#000>more</span> <span style=color:#000>about</span> <span style=color:#000>blog</span> <span style=color:#000>anatomy</span><span style=color:#000;font-weight:700>.&lt;</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#000>p</span><span style=color:#000;font-weight:700>&gt;</span>
  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#000>iframe</span> <span style=color:#000>width</span><span style=color:#000;font-weight:700>=</span><span style=color:#4e9a06>&#34;560&#34;</span> <span style=color:#000>height</span><span style=color:#000;font-weight:700>=</span><span style=color:#4e9a06>&#34;315&#34;</span>
               <span style=color:#000>src</span><span style=color:#000;font-weight:700>=</span><span style=color:#4e9a06>&#34;https://www.youtube.com/embed/PTZkgOb8CFE&#34;</span>
               <span style=color:#000>frameborder</span><span style=color:#000;font-weight:700>=</span><span style=color:#4e9a06>&#34;0&#34;</span> <span style=color:#000>allow</span><span style=color:#000;font-weight:700>=</span><span style=color:#4e9a06>&#34;autoplay; encrypted-media&#34;</span>
               <span style=color:#000>allowfullscreen</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#000>iframe</span><span style=color:#000;font-weight:700>&gt;</span><span style=color:#a40000>&#39;</span>
  <span style=color:#000>modules</span><span style=color:#000;font-weight:700>:</span>
    <span style=color:#ce5c00;font-weight:700>-</span> <span style=color:#000>openy_node_blog</span>
    <span style=color:#ce5c00;font-weight:700>-</span> <span style=color:#000>openy_prgf_blog_listing</span>
    <span style=color:#ce5c00;font-weight:700>-</span> <span style=color:#000>openy_prgf_featured_blogs</span>
    <span style=color:#ce5c00;font-weight:700>-</span> <span style=color:#000>openy_prgf_blog_branch</span>
    <span style=color:#ce5c00;font-weight:700>-</span> <span style=color:#000>openy_prgf_blog_camp</span>
    <span style=color:#ce5c00;font-weight:700>-</span> <span style=color:#000>openy_prgf_blog_latest</span>
    <span style=color:#ce5c00;font-weight:700>-</span> <span style=color:#000>openy_txnm_blog_category</span>

<span style=color:#000>camps</span><span style=color:#000;font-weight:700>:</span>
  <span style=color:#000>name</span><span style=color:#000;font-weight:700>:</span> <span style=color:#a40000>&#39;</span><span style=color:#000>Camps</span><span style=color:#a40000>&#39;</span>
  <span style=color:#000>description</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;Camps package provides a set of modules to maintain camps and add them to the location finder page.&#34;</span>
  <span style=color:#000>help</span><span style=color:#000;font-weight:700>:</span> <span style=color:#a40000>&#39;</span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#000>p</span><span style=color:#000;font-weight:700>&gt;</span><span style=color:#000>Using</span> <span style=color:#000>Camps</span> <span style=color:#204a87;font-weight:700>package</span> <span style=color:#000>you</span> <span style=color:#000>can</span> <span style=color:#000>create</span> <span style=color:#000>and</span> <span style=color:#000>maintain</span> <span style=color:#000>Camps</span> <span style=color:#000>and</span> <span style=color:#000>extend</span> <span style=color:#000>location</span> <span style=color:#000>finder</span> <span style=color:#000>page</span> <span style=color:#000>to</span> <span style=color:#000>include</span> <span style=color:#000>them</span><span style=color:#000;font-weight:700>.&lt;</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#000>p</span><span style=color:#000;font-weight:700>&gt;</span><span style=color:#a40000>&#39;</span>
  <span style=color:#000>modules</span><span style=color:#000;font-weight:700>:</span>
    <span style=color:#ce5c00;font-weight:700>-</span> <span style=color:#000>openy_prgf_camp_menu</span>
    <span style=color:#ce5c00;font-weight:700>-</span> <span style=color:#000>openy_loc_camp</span>
</code></pre></div><p>Each package has a machine name which is a key of the top-level items.</p>
<h4 id=properties-of-packages>Properties of packages:</h4>
<ul>
<li><strong>name</strong> (required) - a human-friendly name of the package.</li>
<li><strong>description</strong> (required) - a short description of the package features to show up on the Open Y Extend page.</li>
<li><strong>help</strong> (required) - an HTML markup for the installation via web interface. It contains a help message that pops up when the package name is clicked on the <code>Select installation type</code> step.</li>
<li><strong>modules</strong> (required) - a list of Drupal modules that are associated with the package. When the package is installed/uninstalled the associated modules are installed/uninstalled respectively. When a website is installed via web interface all the available packages are listed there but split into two groups - the ones that are to be installed (associated with the selected package) and all the rest.</li>
</ul>
<h3 id=openythemeyml>openy.theme.yml</h3>
<p>The file defines which Open Y themes are available for installation when a website is being installed.</p>
<p>If an Open Y site is installed using Drush then the theme can be specified by an optional argument for the <code>drush site-install</code> command (<a href=https://github.com/ymcatwincities/openy/blob/8.x-2.x/docs/Development/InstallationWithDrush.md>Installation with Drush</a>):</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>  drush site-install openy \
    --db-url=&#34;mysql://user:pass@host:3306/db&#34; \
    --root=/docroot \
    openy_configure_profile.preset=extended \
    openy_theme_select.theme=openy_rose
</code></pre></div>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-90491a4be2d717843e7cb23dc723043e>4.17 - Open-Y-3rd-party-dependencies</h1>
<p>Open Y&rsquo;s system requirements generally track <a href=https://www.drupal.org/docs/system-requirements>those of Drupal</a> with some occasional more opinionated recommendations.</p>
<h2 id=general-requirements>General Requirements</h2>
<p>Supported versions may differ based on your Drupal version.</p>
<ul>
<li>A <a href=https://www.drupal.org/docs/system-requirements/web-server-requirements>supported web server</a> like Apache or Nginx</li>
<li>A <a href=https://www.drupal.org/docs/system-requirements/database-server-requirements>supported database server</a> like MySQL or MariaDB</li>
<li>A <a href=https://www.drupal.org/docs/system-requirements/php-requirements>supported version of PHP</a></li>
<li>A Linux-based operating system
<ul>
<li><a href=https://ubuntu.com/>Ubuntu</a> 16, 18, and 20 are supported.</li>
<li>CentOS or similar may work as well.</li>
</ul>
</li>
</ul>
<p>Recommended for advanced functionality, but not required:</p>
<ul>
<li><a href=https://lucene.apache.org/solr/>Apache SOLR</a> search server
<ul>
<li>Version 4.9.1 and version 8 have been tested for Activity Finder. Other versions are works in progress.</li>
</ul>
</li>
</ul>
<h3 id=for-high-loadperformance-sites>For high load/performance sites</h3>
<ul>
<li>A memory-based key-value store
<ul>
<li><a href=http://memcached.org/>Memcache</a></li>
<li><a href=https://redis.io>Redis</a></li>
</ul>
</li>
<li>A reverse proxy/HTTP cache
<ul>
<li><a href=https://varnish-cache.org/>Varnish</a></li>
<li><a href=https://docs.nginx.com/nginx/admin-guide/web-server/reverse-proxy/>Nginx reverse proxy</a></li>
</ul>
</li>
</ul>
<p>See also Drupal&rsquo;s recommendations for <a href=https://www.drupal.org/docs/managing-site-performance-and-scalability>managing site performance and scalability</a>.</p>
<h3 id=for-development>For development</h3>
<ul>
<li><a href=https://www.virtualbox.org/>Oracle VM Virtualbox</a></li>
<li><a href=https://www.vagrantup.com/>Vagrant configuration manager</a></li>
<li><a href=https://www.ansible.com/>Ansible configuration manager and automation</a></li>
<li><a href=https://getcomposer.org/>Composer package manager</a></li>
<li><a href=https://www.docker.com/>Docker virtual environments</a></li>
</ul>
<p>See our <a href=https://github.com/ymcatwincities/openy-project#installation>installation instructions</a> for a full walkthrough of these tools.</p>
<h2 id=software-libraries-and-frameworks>Software libraries and frameworks</h2>
<p>Open Y leverages many other open source frameworks including, but not limited to:</p>
<ul>
<li><a href=https://drupal.org/project/drupal>Drupal</a></li>
<li><a href=https://symfony.com/>Symfony</a></li>
<li><a href=https://reactjs.org/>ReactJS</a></li>
<li><a href=https://vuejs.org/>Vue.js</a></li>
<li><a href=https://www.google.com/recaptcha/intro/v3.html>Google reCAPTCHA</a></li>
<li><a href=https://nodejs.org/en/>NodeJS</a></li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-24f39da4a2f7d25ab56cabf53984c7a7>4.18 - Open-Y-Code-of-Conduct-and-Best-Practices</h1>
<p>The Open Y community aims to build from the methods and best practices of other open-source projects, such as the <a href=https://drupal.org>Drupal community</a> and the <a href=http://drupal.ua>Drupal Ukrainian community</a>.</p>
<h1 id=bylaws>Bylaws</h1>
<p>For the OpenY distribution we have <a href=/openy_docs/docs/wiki/open-y-terms-of-use/>Terms of Use</a> and <a href=/openy_docs/docs/wiki/open-y-participant-agreement/>Participant Agreement</a>.</p>
<h1 id=development>Development</h1>
<p>To understand how we use and develop technologies, refer to the documents below:</p>
<ul>
<li><a href=https://www.drupal.org/dcoc>Drupal Code of Conduct</a></li>
<li><a href=https://www.conventionalcommits.org/en/v1.0.0/>Conventional commits policy</a></li>
<li><a href=https://www.drupal.org/docs/develop/standards>Drupal Coding Standards</a></li>
<li><a href=/openy_docs/docs/wiki/development-faq/>Open Y Development FAQ</a></li>
<li><a href=/openy_docs/docs/wiki/code-review-quality-best-practices/>Open Y Development Best Practices</a></li>
</ul>
<p>JavaScript Code Standards</p>
<ul>
<li><a href=https://github.com/airbnb/javascript/tree/master/react>Airbnb React/JSX Style Guide</a> (for reviewing JavaScript ES5/ES6)</li>
<li><a href=https://vuejs.org/v2/style-guide/>Vue.js code style guide</a> (for Vue.js components)</li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-919d14ca7e4fd8775863abcee92540f3>4.19 - Open-Y-one-click-install-how-to</h1>
<p>This walk-through is outdated and is in the process of being updated. Instead, try:</p>
<ul>
<li>A <a href="https://www.youtube.com/watch?v=nGyMJCwMsqM">video walk-through of installing Open Y for tech novices</a></li>
<li>An overview of the <a href=/openy_docs/docs/wiki/sandboxes/>Open Y Sandboxes</a></li>
</ul>
<h3 id=installing-open-y-on-digitalocean-droplet>Installing Open Y on DigitalOcean droplet</h3>
<ol>
<li>Create Ubuntu 16.04 LTS x64 droplet in area close to your location
<img src=https://user-images.githubusercontent.com/563412/44273919-6ffd8c80-a249-11e8-958b-3d7fbee6108d.png alt=image></li>
</ol>
<p>Use 2Gb droplet or more powerful if you need. Do not use 1Gb option - Open Y will fail on it.</p>
<ol start=2>
<li>Login to the SSH console of the droplet</li>
<li>Follow the comment from <a href=https://github.com/ymcatwincities/openy-project/blob/8.1.x/scripts/openyonclickinstall.sh>https://github.com/ymcatwincities/openy-project/blob/8.1.x/scripts/openyonclickinstall.sh</a>
Basically - run a command under root</li>
</ol>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>curl -Ls http://bit.ly/initopeny <span style=color:#000;font-weight:700>|</span> bash -s
</code></pre></div><p>The command above will run approximately 10 minutes.
4. In the end you should see a message similar to</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>Open http://127.0.0.1/core/install.php to proceed with OpenY installation.
</code></pre></div><ol start=5>
<li>Open the link from the above message(from your console, not from this document) with your browser and proceed with Open Y installation.</li>
</ol>
<p>Enjoy.</p>
<hr>
<p>In order to install the latest beta release of Open Y 2.0 change the command on step 3:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>curl -Ls http://bit.ly/initopeny <span style=color:#000;font-weight:700>|</span> bash -s beta
</code></pre></div><hr>
<p>If you find any issues please post a message to the issue queue <a href=https://github.com/ymcatwincities/openy/issues>https://github.com/ymcatwincities/openy/issues</a></p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-eb068ad56aaa3a20015ece094ec54be7>4.20 - Open-Y-Participant-Agreement</h1>
<p><strong>OPEN Y PARTICIPATION AGREEMENT</strong></p>
<p>This Open Y Participation Agreement (this “<strong>Agreement</strong>”) is between Open Y, LLC, and participating YMCA member associations in the United States (“<strong>Member Associations</strong>”). Open Y, LLC has received license rights from the National Council of Young Men’s Christian Associations of the United States of America, an Illinois not-for-profit corporation (“<strong>YUSA</strong>”) to provide the Platform (as defined below) to you. Open Y is not a part of YUSA; Open Y is a part of the YMCA of the Greater Twin Cities.</p>
<p>The purpose of the Open Y community is to collectively advance YMCA web and online experiences to better serve the YMCA mission. The terms of this Agreement govern your use of Open Y’s open-source digital content management system, which facilitates the sharing of YUSA brand-compliant website templates, tools, applications, and related digital assets (“<strong>Platform</strong>”). The community provides a collaborative environment for individuals to positively interact and participate in the Platform. These guidelines address the standards and expectations of those contributing to and participating in the Open Y community and are meant to help our YMCA community grow and thrive. Your participation in Open Y means that you agree to the following guidelines and to the Open Y Terms of Use.</p>
<p><strong>YMCA BRAND ASSETS</strong></p>
<p>No right is granted by this Agreement to use or license the YUSA brand assets. YMCA brand assets, which include, but are not limited to YMCA trademarks, trade dress, logos and other indicia of origin, are owned and controlled by YUSA. <em>Open Y, LLC provides the Platform to you under license from YUSA. Accordingly, neither Open Y, LLC nor any Member Association shall, either directly or indirectly, at any time do any act or thing contesting the validity of YUSA’s trademarks or its rights thereto.</em></p>
<p>Only Member Associations in the United States will have access to use any YUSA brand assets included in Open Y. All use by Member Associations must be in compliance with YUSA brand standards and guidelines as established by the National Board. YUSA is a third party beneficiary to this Agreement, with the right to enforce each of the terms of this Agreement with respect to Open Y and you. Open Y shall send copies of all notices due to you under this Agreement to each of you and YUSA.</p>
<p><strong>BEING A MEMBER OF OUR COMMUNITY</strong></p>
<p><em>Participation</em>: Open Y will be at its best if each member participates in the community. There are many different ways you can participate, including through using the platform, presentations, forums, summits, emails, calls, etc. We encourage your active participation to the extent you feel you are able and willing. Open Y, LLC may publicly disclose your participation in the project.</p>
<p><em>Contribution</em>: Open Y encourages Members to contribute to the enhancement, editing, and building of Open Y. To ensure valuable contributions to the community, Open Y encourages Members to stay familiar and up-to-date with the Open Y roadmap, as well as new features in active development. When you make changes that improve Open Y features, please contribute those back to the community by ensuring they are re-useable and decoupled.</p>
<p><em>Collaboration</em>: Open Y encourages Members to collaborate across the YMCA community to share costs and efforts on building new capabilities.</p>
<p><em>Transparency</em>: Customizations of code provided by Open Y for your website will likely increase the initial fees, support, and upgrade costs for your website. When modifying or redistributing code, you must include a notice giving credit to Open Y for the portion of the Open Y code you use.</p>
<p><em>Promotion</em>: Open Y encourages Members to share their expertise and Open Y experience to expand its reach and accessibility to experienced and new members alike. There will be many opportunities for members to support Open Y and its marketing and messaging initiatives.</p>
<p><strong>Reporting Problems</strong></p>
<p>If you believe someone has violated the Open Y Community Guidelines, or have any questions or concerns, please contact Open Y, LLC at <a href=http://openy.org>http://openy.org</a>.</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-df87543250ea96dd0fffc37925f5d115>4.21 - Open-Y-Pull-Requests-review-standard</h1>
<p>Check more <a href=/openy_docs/docs/wiki/code-review-quality-best-practices/>technical guidelines about our best practices for code quality</a>.</p>
<h1 id=adherence-to-standards>Adherence to Standards</h1>
<p>The Open Y Core Team will adhere to the same standards we set for the community for all areas of development and technologies as per the Open Y documentation.</p>
<p>The Open Y Core Team reserves the right to break these standards only in the following scenarios:</p>
<ul>
<li>Emergency - a major defect or security risk has been discovered that requires extreme measures to resolve.</li>
<li>When the standards are broken, it is the responsibility of the Open Y Core Team to explain why the standards needed to be broken, and what the new standards will be moving forward.</li>
<li>This communication will be posted to the Open Y message board, Slack, and the documentation on GitHub will be updated to reflect the new standards.</li>
</ul>
<h2 id=requirements-for-pull-requests>Requirements for Pull Requests</h2>
<ul>
<li>Code in Pull Requests should follow our established <a href=/openy_docs/docs/wiki/code-review-quality-best-practices/>best practices</a></li>
<li>Submitters' profiles on GitHub or Drupal.org should be up to date and contain at least a name and organization.</li>
</ul>
<h2 id=template-for-the-pr>Template for the PR</h2>
<p>In order to create a good quality Pull Request, we prepared a <a href=https://github.com/ymcatwincities/openy/blob/8.x-2.x/.github/PULL_REQUEST_TEMPLATE.md>PR template</a> which is automatically added to new Pull Requests on GitHub.</p>
<p>List of requirements from the template:</p>
<ul>
<li>Provide a link to the original issue, which is going to be fixed by the PR you are creating.</li>
<li>All coding styles are fulfilled and there are no issues reported by CodeSniffer. See <a href=/openy_docs/docs/wiki/open-y-code-of-conduct-and-best-practices/>Code of Conduct</a>.</li>
<li><a href=https://github.com/ymcatwincities/openy/tree/9.x-2.x/docs>Documentation</a> have been updated according to PR changes.</li>
<li><a href=https://github.com/ymcatwincities/openy/pull/94#issue-204580200>Steps for review</a> have been provided according to PR changes. <br><img src=https://raw.githubusercontent.com/ymcatwincities/openy/8.x-1.x/.github/assets/steps-for-review.png width=200 alt="Steps for review"></li>
<li>Make sure you&rsquo;ve provided all necessary hook_update_N to <a href=https://github.com/ymcatwincities/openy/blob/9.x-2.x/docs/Development/Upgrade%20path.md>support upgrade path</a>.</li>
<li>Make sure your git email is associated with an account on drupal.org, otherwise you won&rsquo;t get commits there. <br><img src=https://raw.githubusercontent.com/ymcatwincities/openy/8.x-1.x/.github/assets/drupalorg-email.png width=200 alt="drupal.org email"></li>
<li>If you would like to get credits on drupal.org, <a href=https://github.com/ymcatwincities/openy/blob/9.x-2.x/docs/Development/Contributing.md#drupalorg-credits>check documentation</a>.</li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-1783513e22a28847a02a7da4c1266cbf>4.22 - Open-Y-Release-Schedule-and-Guidelines</h1>
<h2 id=open-y-release-guidelines>Open Y Release Guidelines</h2>
<p>Open Y releases major releases of the base project <a href=https://github.com/ymcatwincities/openy>Open Y</a> and <a href=https://github.com/ymcatwincities/openy_gated_content>Virtual Y</a> quarterly. Minor releases and sub-project releases occur as needed.</p>
<h3 id=major-releases-quarterly>Major releases (Quarterly)</h3>
<p>Major releases are scheduled for the second Tuesday of the second month of each quarter (February, May, August, November). They are numbered <code>2.x</code> and consist of:</p>
<ul>
<li>New Features</li>
<li>New Enhancements</li>
<li>New Bugfixes</li>
</ul>
<h3 id=minor-releases>Minor Releases</h3>
<p>Minor releases are numbered <code>2.x.x</code> and consist of</p>
<ul>
<li>Only bugfixes</li>
<li>Never have new features or major enhancements</li>
</ul>
<h3 id=release-schedule>Release schedule</h3>
<h4 id=2021>2021</h4>
<p><img src=https://user-images.githubusercontent.com/563412/104428684-6fd65800-558d-11eb-93b3-5c63e92ccd56.png alt="OpenY/VirtualY Releases for 2021"></p>
<h4 id=prior-years>Prior years</h4>
<ul>
<li><a href=https://user-images.githubusercontent.com/238201/146017405-10f28823-5af7-4498-9384-5502cbf5adaf.png>Open Y releases for 2018-2019</a></li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-2919b8ef3833f4a3787164af03ae9ded>4.23 - Open-Y-Smoke-Tests-Index</h1>
<h2 id=smoke-tests-in-core-and-dependencies>Smoke tests in core and dependencies</h2>
<ul>
<li><a href=https://github.com/ymcatwincities/openy/blob/9.x-2.x/SMOKE_TESTS.md>Open Y core tests and dependencies</a></li>
<li><a href=https://github.com/open-y-subprojects/openy_node_alert/blob/main/SMOKE_TESTS.md>Alert Application</a></li>
<li><a href=https://github.com/ymcatwincities/openy_gated_content/blob/master/SMOKE_TESTS.md>Virtual Y Application</a></li>
<li><a href=https://github.com/ymcatwincities/openy_activity_finder/blob/4.x/openy_af_vue_app/SMOKE_TESTS.md>Activity Finder v3</a></li>
</ul>
<h2 id=open-y-features>Open Y Features</h2>
<ul>
<li><a href=https://github.com/open-y-subprojects/openy_features/blob/main/openy_prgf/modules/openy_prgf_loc_finder/SMOKE_TESTS.md>Location Finder Application</a></li>
<li><a href=https://github.com/open-y-subprojects/openy_features/blob/main/openy_prgf/modules/openy_prgf_small_banner/SMOKE_TESTS.md>Small Banner</a></li>
<li><a href=https://github.com/open-y-subprojects/openy_features/blob/main/openy_prgf/modules/openy_prgf_banner/SMOKE_TESTS.md>Banner</a></li>
<li><a href=https://github.com/open-y-subprojects/openy_features/blob/main/openy_prgf/modules/openy_prgf_simple_content/SMOKE_TESTS.md>Simple Content</a></li>
<li><a href=https://github.com/open-y-subprojects/openy_features/blob/main/openy_prgf/modules/openy_prgf_grid_content/SMOKE_TESTS.md>Grid Content</a></li>
<li><a href=https://git.drupalcode.org/project/groupexpro/-/blob/main/modules/embedded_groupexpro_schedule/SMOKE_TESTS.md>Embedded GroupEx Pro Schedule</a></li>
<li><a href=https://github.com/ymcatwincities/openy/blob/9.x-2.x/modules/custom/openy_search/SMOKE_TESTS.md>Open Y Search</a></li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-9330b67f3e60357fefd1efea11a303ec>4.24 - Open-Y-technology-pipeline</h1>
<p>To deliver the best technologies for the YMCA movement, the Open Y development community maintains the following documents and best practices:</p>
<ol>
<li><a href=/openy_docs/docs/wiki/development-faq/>Development FAQ</a></li>
<li><a href=/openy_docs/docs/wiki/code-review-quality-best-practices/>Open Y Coding Standards</a></li>
<li><a href=https://community.openymca.org/t/i-made-some-customizations-to-my-site-that-i-want-to-co%5B%E2%80%A6%5Dat-are-the-best-practices-for-backporting-my-features/435>How new technologies and features are added to Open Y</a></li>
<li><a href=/openy_docs/docs/wiki/sandboxes/>Sandboxes</a></li>
<li>Smoke Tests
<ul>
<li><a href="https://www.youtube.com/watch?v=MH4BwMowlic&list=PL_QVggMcFfKYfV1cnistny2L-Sp55SoMg">Smoke Tests YouTube Playlist</a></li>
<li><a href=/openy_docs/docs/wiki/open-y-smoke-tests-index/>Open-Y-Smoke-Tests-Index</a></li>
</ul>
</li>
<li>A Slack Team <a href=https://openy.org/contact/slack_access_request>by invite</a> with an #architects_support channel where we discuss technical issues with our partners and YUSA.</li>
<li>A <a href="https://www.youtube.com/watch?v=RSsQLVVhldc&list=PL_QVggMcFfKZp05THV3dYlYOG3MsJ8xSf">YouTube playlist for Developers</a></li>
<li>A list of <a href=/openy_docs/docs/wiki/open-y-3rd-party-dependencies/>3rd party dependencies</a> which are reviewed periodically for new features and deprecations.</li>
</ol>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-64f5a0333d77015ff4b380305a76e98b>4.25 - Open-Y-Terms-of-Use</h1>
<p>Version 2.0, May 2018</p>
<p>This is a free service provided by Open Y, LLC (“<strong>we</strong>,” “<strong>us</strong>,” and “<strong>our</strong>”) for users in the YMCA community (“<strong>users</strong>,” “<strong>you</strong>,” and “<strong>your</strong>”). <strong>By using the Open Y repository, you agree to these Terms of Use.</strong></p>
<p>We reserve the right to modify or discontinue, temporarily or permanently any services or the Terms of Use at any time, with or without prior notice to users. Open Y, LLC is not liable for any damage to any user or other third party that may result from any such modification, suspension or discontinuance of the service or of the Terms of Use.</p>
<p><strong>Downloading</strong></p>
<p>Open Y, LLC is not responsible for the content maintained in the repository. Any material downloaded or otherwise obtained through your use of our services is done at your own discretion and risk, and you will be solely responsible for any damage to your computer system or loss of data that results from the download of any such material. You agree that we have no responsibility or liability for the deletion of or the failure to store or to transmit, any content or communication maintained by the service. We retain the right to create limits on use and storage at our sole discretion at any time with or without notice.</p>
<p>We are not responsible for the content, data, or actions of third parties, and you release Open Y, LLC, our directors, officers, employees, and agents from any claims and damages, known and unknown, arising out of or in any way connected with any claim you have against any such third parties. No advice or information, whether oral or written, obtained by you from us or through or from our services creates any warranty not expressly stated in these Terms of Use.</p>
<p>All code downloaded from Open Y is based on the Drupal® code base, which is subject to the terms of the Drupal license (<a href=www.drupal.org>www.drupal.org</a>). Open Y code is a derivative work of Drupal and any distribution must be under the terms of the <a href=http://www.gnu.org/licenses/old-licenses/gpl-2.0.html>GNU General Public License</a> version 2 or later versions.</p>
<p>Unless otherwise stated, all content (excluding code), including user-generated content, such as comments and discussions on the Open Y web site, is licensed under <a href=https://creativecommons.org/licenses/by-sa/2.0/>Creative Commons License, Attribution-ShareAlike 2.0</a>.</p>
<p><strong>Contributing</strong></p>
<p>The term “contribution” means any source code, object code, patch, tool, sample, graphic, specification, manual, documentation, comments or any other content posted or submitted by you to Open Y. We welcome proposed contributions, however, all contributions are subject to review and approval, and potential modification, before inclusion in a release as part of Open Y.</p>
<p>It is your responsibility to obtain appropriate licensing and attribution for content that you submit to Open Y. Content without appropriate licensing or attribution will be removed.</p>
<p>You represent and warrant that:</p>
<ul>
<li>
<p>Each contribution that you submit is an original work of authorship and you can legally grant the rights set out in these Terms of Use;</p>
</li>
<li>
<p>To the best of your knowledge, each contribution will not violate any third party&rsquo;s copyrights, trademarks, patents, or other intellectual property rights;</p>
</li>
<li>
<p>Each contribution shall be in compliance with U.S. export control laws and other applicable export and import laws.</p>
</li>
</ul>
<p>You agree to notify us if you become aware of any circumstance which would make any of the foregoing representations inaccurate in any respect.</p>
<p>All code must comply with the reasonable standards issued by Open Y, including architecture and security protocols. All code submitted to the repository that is a derivative work must be <a href=https://www.gnu.org/licenses/license-list.en.html#GPLCompatibleLicenses>GPLv2+ compatible</a> and will automatically be redistributed as GPLv2+.</p>
<p>Open Y, LLC in its sole discretion will review, modify and determine whether to include code in its next release. We can refuse or remove any contributions at our discretion and without prior notice.</p>
<p><strong>Disclaimer</strong></p>
<p><strong>All content is provided “as is,” without any warranty of any kind, either expressed or implied, including, but not limited to, the implied warranties of merchantability, fitness for a particular purpose and non-infringement; (ii) Open Y, LLC makes no other warranty that its services will meet your requirements, be safe, secure, uninterrupted, timely, accurate, or error-free, or that your information will be secure; and (iii) the entire risk as to the quality and performance of the content is with you.</strong></p>
<p><strong>Limit of Liability</strong></p>
<p><strong>In no event will Open Y, LLC, its affiliates or their licensors, service providers, employees, agents, officers, or directors be liable for any indirect, special, incidental, consequential or punitive damages, including but not limited to loss of revenue, loss of profits, loss of business or anticipated savings, loss of goodwill, and whether caused by tort (including negligence), breach of contract or otherwise, even if foreseeable. The foregoing does not affect any liability which cannot be excluded or limited under applicable law.</strong></p>
<p><strong>Copyright DMCA Notice</strong></p>
<p>If a user or other third party believes that its content has been copied in a way that constitutes copyright infringement, that user or third party should provide Open Y, LLC with the following information: (a) an electronic or physical signature of the person authorized to act on behalf of the owner of the copyright</p>
<p>interest; (b) a description of the copyrighted work that has been infringed; (c) a description of where the allegedly infringing material is located; (d) the affected user or third party&rsquo;s address, telephone number and email address; (e) a statement by the affected user or third party that he or she has a good faith belief that the disputed use is not authorized by the copyright owner, its agent or the law; and (f) a statement by the affected user or third party, under penalty of perjury, that the above information is accurate and that such user or third party is the copyright owner or is otherwise authorized to act on the copyright owner&rsquo;s behalf. Please report any alleged copyright infringements to <a href=http://openy.org>http://openy.org</a>.</p>
<p><strong>Venue and Governing Law</strong>
This Agreement shall be governed by, and construed in accordance with, the laws of the State of Minnesota, without reference to conflicts of laws principles. The parties agree that the federal and state courts in the county of Hennepin, Minnesota will have exclusive jurisdiction and venue under this Agreement, and each party hereby agrees to submit to such jurisdiction exclusively.</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-d3581e80cbbce0b7a4d08dff19e6062c>4.26 - Open-Y-update-sunset---opt-out-tutorial</h1>
<h2 id=preamble>Preamble</h2>
<p>Back on 28 Jan 2020 Open Y decided to add an anonymous analytics module <a href=https://github.com/ymcatwincities/openy/tree/9.x-2.x/modules/custom/openy_analytics><code>openy_analytics</code></a> which was a free opt-in/opt-out solution for the Core team to gather stats from Open Y sites about the frequency of components used.</p>
<p>The idea behind this was to gather data in order to understand the demand for the components in Open Y and use the data to make better decisions.</p>
<p>Recently, the Open Y Core Team decided to sunset this functionality and remove <code>openy_analytics</code> as well as <code>openy_update</code> modules from the Open Y Distribution, as this feature was rarely used. By sunsetting this functionality, we reduced server load from Open Y instances and archive the analytics server.</p>
<h2 id=how-to-opt-out-from-analytics-subsystem>How to opt-out from analytics subsystem</h2>
<p>Visit Open Y -> Terms and Conditions in your Open Y site instance and uncheck the Optional Permissions checkbox</p>
<p><img src=https://user-images.githubusercontent.com/563412/130236284-5979a4fe-289c-4ccc-9c18-059d17d143e8.png alt=image></p>
<p>After submitting this form your site will stop sending anonymous data.</p>
<p>If the checkbox was not enabled just disregard it, you didn&rsquo;t opt-in earlier.</p>
<h2 id=deprecation-action>Deprecation action</h2>
<p>Uninstall and deprecation was done in <a href=https://github.com/ymcatwincities/openy/pull/2537>#2537</a></p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-d8244040aa32ccb67a5a4bb5609336d7>4.27 - OpenY-anti-spam-protection</h1>
<p>In order to protect Open Y customers, we have added anti-spam protection based on CAPTCHA and Google reCAPTCHA out of the box in Open Y core</p>
<p>You can check <a href="https://www.youtube.com/watch?v=nHo2uL-bPyM">the tutorial for how to install and configure reCaptcha on your site</a>.</p>
<p>In the majority of cases having the above configuration in place will protect you from 99% of spam, unless there is human-entered spam that has no protection. To overcome some human-based spam you should use blacklist logic for blocking email domains, used in spam messages.</p>
<p>For that, you can use <a href=https://www.drupal.org/project/protected_submissions>the Protected Submissions module</a> module, which allows you to harden all submissions on a site with a list of stop words as well as per-language settings.</p>
<h2 id=virtual-y-use-case>Virtual Y use case</h2>
<p>In order to overcome caching issues, Virtual Y uses the <a href=https://www.drupal.org/project/simple_recaptcha>simple_recaptcha</a> module which could be used in similar cases.</p>
<p>The CAPTCHA + reCAPTCHA module solution has presented some reliability issues. The most recent <a href=https://www.drupal.org/project/captcha/issues/3089263>discussion and fix from drupal.org</a> has also not reliably resolved issues for some clients.</p>
<p>At some point, the “Simple reCaptcha” module was used on a project and had no issues, so we’ve started to replace the “CAPTCHA” + “reCAPTCHA” modules with “Simple reCAPTCHA”.</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-e7539c80e915adf10aebfab5f1c72921>4.28 - OpenY-security---Drupal-SA-CORE-2018-004</h1>
<p>This document is archived but may contain useful information for troubleshooting future updates. For updated update steps, visit <a href=/openy_docs/docs/wiki/openy-upgrade-how-to-for-developers/>How to upgrade Open Y</a>.</p>
<hr>
<p>To update your OpenY site with security fix from Drupal core <a href=https://www.drupal.org/SA-CORE-2018-004>https://www.drupal.org/SA-CORE-2018-004</a>
OpenY team is suggesting 2 options- via patch and via Drupal core upgrade(or OpenY upgrade).
Drupal core upgrade or OpenY upgrade is not always possible, but security issue should be fixed asap.
So consider to apply patch and plan OpenY upgrade later.</p>
<h3 id=how-to-apply-the-patch>How to apply the patch</h3>
<h3 id=patching-openy-releases-801---8110-drupal-cores-82x-83x-84x>Patching OpenY releases 8.0.1 - 8.1.10 (Drupal cores 8.2.x, 8.3.x, 8.4.x)</h3>
<p>For patching your OpenY release, follow steps below:</p>
<ul>
<li>Login to your production server environment via SSH and find <code>docroot</code> folder of your site codebase. If you installed OpenY by following a tutorial <a href="https://www.youtube.com/watch?v=V3K4-RLjxQo">https://www.youtube.com/watch?v=V3K4-RLjxQo</a> - you should:
if your site is located in /var/www/html</li>
</ul>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>ssh -l root YOUR_SERVER_DOMAIN_NAME
<span style=color:#204a87>cd</span> /var/www/html

wget https://raw.githubusercontent.com/ymcatwincities/openy-project/8.1.x/scripts/patches/SA-CORE-2018-004.patch
</code></pre></div><p>if your site is located in /var/www/openy</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>ssh -l root YOUR_SERVER_DOMAIN_NAME
<span style=color:#204a87>cd</span> /var/www/openy

wget https://raw.githubusercontent.com/ymcatwincities/openy-project/8.1.x/scripts/patches/SA-CORE-2018-004.patch
</code></pre></div><p>Now you are ready to patch your site. But before patching - make a backup of the file which is about to be patched</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>sudo cp docroot/core/lib/Drupal/Core/Security/RequestSanitizer.php /var/backups/RequestSanitizer.php
sudo cp docroot/core/modules/file/src/Element/ManagedFile.php /var/backups/ManagedFile.php
</code></pre></div><p>To patch your site run the command to test if the patch can be applied:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>patch -p1 --dry-run &lt; SA-CORE-2018-004.patch
</code></pre></div><p>You should see a result</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=color:#8f5902;font-style:italic># patch -p1 --dry-run &lt; SA-CORE-2018-004.patch</span>
checking file core/lib/Drupal/Core/Security/RequestSanitizer.php
checking file core/modules/file/src/Element/ManagedFile.php
</code></pre></div><p>In case if result different - stop on this step and let us know you have issue.
In case if all good proceed with a command below, which will patch your site:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>patch -p1 &lt; SA-CORE-2018-004.patch
</code></pre></div><p>You should see the same output as previously, but now your site is patched.</p>
<p>TIP: In case if you are using git repository for your site run</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>git add docroot/core/modules/file/src/Element/ManagedFile.php docroot/core/lib/Drupal/Core/Security <span style=color:#ce5c00;font-weight:700>&amp;&amp;</span> git commit -m <span style=color:#4e9a06>&#34;Patching OpenY core&#34;</span> <span style=color:#ce5c00;font-weight:700>&amp;&amp;</span> git push
</code></pre></div><p>to store your patched core into your own repository.</p>
<p>==========================</p>
<h3 id=how-to-patch-your-digitalocean-openy-install>How to patch your Digitalocean OpenY install</h3>
<p>In case if you have followed tutorial <a href="https://www.youtube.com/watch?v=V3K4-RLjxQo">https://www.youtube.com/watch?v=V3K4-RLjxQo</a> you should have your OPenY installed on you DigitalOcean server(droplet) in a predictable for current document folder. That&rsquo;s why we prepared a short how to patch your OpenY site in a most simple way if you are not a Tech Guru, but just a user</p>
<ol>
<li>Log in as an admin user to your site admin UI by visiting <code>/user/login</code> URI page.</li>
<li>Login to your DigitalOcean cloud console at digitalocean.com and find Access Console in the dropdown for the droplet you are using for the OpenY <img src=https://user-images.githubusercontent.com/563412/38104705-b2ebf8fe-3392-11e8-8c27-55db3ed032ff.png alt=image></li>
<li>You should see a popup window with a black screen where console asks you for the login. Use <code>root</code> user and a password generated for you upon droplet creation.</li>
<li>After login to a console run the command below, respectively to the version of your Drupal core.</li>
</ol>
<h3 id=one-line-script-to-patch-drupal-core-for-openy>One line script to patch Drupal core for OpenY</h3>
<p>Type manually exact line</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>bash &lt; &lt;<span style=color:#ce5c00;font-weight:700>(</span>curl -s https://raw.githubusercontent.com/ymcatwincities/openy-project/8.1.x/scripts/patches/runSA-CORE-2018-004.sh<span style=color:#ce5c00;font-weight:700>)</span>
</code></pre></div><p>and hit Enter.
You should see <code>OpenY was patched</code> message.</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-448b5d40a1380ae865b82bbbad5d918e>4.29 - OpenY-security-update-how-to.-Update-Drupal-core-only</h1>
<p>This document is archived but may contain useful information for troubleshooting future updates. For updated update steps, visit <a href=/openy_docs/docs/wiki/openy-upgrade-how-to-for-developers/>How to upgrade Open Y</a>.</p>
<hr>
<p>To update your OpenY site with security fix from Drupal core <a href=https://www.drupal.org/sa-core-2018-002>https://www.drupal.org/sa-core-2018-002</a>
OpenY team is suggesting 2 options- via patch and via Drupal core upgrade(or OpenY upgrade).
Drupal core upgrade or OpenY upgrade is not always possible, but security issue should be fixed asap.
So consider to apply patch and plan OpenY upgrade later.</p>
<h3 id=how-to-apply-patch>How to apply patch</h3>
<h3 id=patching-openy-releases-801---810-drupal-core-82x>Patching OpenY releases 8.0.1 - 8.1.0 (Drupal core 8.2.x)</h3>
<p>For patching your very old OpenY release it is highly recommended to upgrade OpenY to latest version or at least to one of the 8.1.1-8.1.6 (Drupal core 8.3.x) with Drupal core upgrade to 8.3.9 <a href=https://www.drupal.org/project/drupal/releases/8.3.9>https://www.drupal.org/project/drupal/releases/8.3.9</a> . In case if it is not possible right now, follow steps below:</p>
<ul>
<li>Login to your production server environment via SSH and find <code>docroot</code> folder of your site codebase. If you installed OpenY by following a tutorial <a href="https://www.youtube.com/watch?v=V3K4-RLjxQo">https://www.youtube.com/watch?v=V3K4-RLjxQo</a> - you should:</li>
</ul>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>ssh -l root YOUR_SERVER_DOMAIN_NAME
<span style=color:#204a87>cd</span> /var/www/html
wget https://raw.githubusercontent.com/ymcatwincities/openy-project/8.1.x/scripts/patches/8.2.x.patch
</code></pre></div><p>Now you are ready to patch your site. But before patching - make a backup of the file which is about to be patched</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>cp docroot/core/lib/Drupal/Core/DrupalKernel.php /var/backups/DrupalKernel.php
</code></pre></div><p>To patch your site run the command to test if the patch can be applied:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>patch -p1 --dry-run &lt; 8.2.x.patch
</code></pre></div><p>You should see a result</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=color:#8f5902;font-style:italic># patch -p1 --dry-run &lt; 8.2.x.patch</span>
checking file docroot/core/lib/Drupal/Core/DrupalKernel.php
checking file docroot/core/lib/Drupal/Core/Security/RequestSanitizer.php
</code></pre></div><p>In case if result different - stop on this step and let us know you have issue.
In case if all good proceed with a command below, which will patch your site:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>patch -p1 &lt; 8.2.x.patch
</code></pre></div><p>You should see the same output as previously, but now your site is patched.</p>
<p>TIP: In case if you are using git repository for your site run</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>git add docroot/core/lib/Drupal/Core/DrupalKernel.php docroot/core/lib/Drupal/Core/Security <span style=color:#ce5c00;font-weight:700>&amp;&amp;</span> git commit -m <span style=color:#4e9a06>&#34;Patching OpenY core&#34;</span> <span style=color:#ce5c00;font-weight:700>&amp;&amp;</span> git push
</code></pre></div><p>to store your patched core into your own repository.</p>
<h3 id=patching-openy-releases-811---816-drupal-core-83x>Patching OpenY releases 8.1.1 - 8.1.6 (Drupal core 8.3.x)</h3>
<p>For patching your relatively old OpenY release it is highly recommended to upgrade OpenY to latest version or at least to one of the 8.1.7-8.1.10 (Drupal core 8.4.x) with Drupal core upgrade to 8.4.6 <a href=https://www.drupal.org/project/drupal/releases/8.4.6>https://www.drupal.org/project/drupal/releases/8.4.6</a> . In case if it is not possible right now, follow steps below:</p>
<ul>
<li>Login to your production server environment via SSH and find <code>docroot</code> folder of your site codebase. If you installed OpenY by following a tutorial <a href="https://www.youtube.com/watch?v=V3K4-RLjxQo">https://www.youtube.com/watch?v=V3K4-RLjxQo</a> - you should:</li>
</ul>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>ssh -l root YOUR_SERVER_DOMAIN_NAME
<span style=color:#204a87>cd</span> /var/www/html
wget https://raw.githubusercontent.com/ymcatwincities/openy-project/8.1.x/scripts/patches/8.3.x.patch
</code></pre></div><p>Now you are ready to patch your site. But before patching - make a backup of the file which is about to be patched</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>cp docroot/core/lib/Drupal/Core/DrupalKernel.php /var/backups/DrupalKernel.php
</code></pre></div><p>To patch your site run the command to test if the patch can be applied:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>patch -p1 --dry-run &lt; 8.3.x.patch
</code></pre></div><p>You should see a result</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=color:#8f5902;font-style:italic># patch -p1 --dry-run &lt; 8.3.x.patch</span>
checking file docroot/core/lib/Drupal/Core/DrupalKernel.php
checking file docroot/core/lib/Drupal/Core/Security/RequestSanitizer.php
</code></pre></div><p>In case if result different - stop on this step and let us know you have issue.
In case if all good proceed with a command below, which will patch your site:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>patch -p1 &lt; 8.3.x.patch
</code></pre></div><p>You should see the same output as previously, but now your site is patched.</p>
<p>TIP: In case if you are using git repository for your site run</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>git add docroot/core/lib/Drupal/Core/DrupalKernel.php docroot/core/lib/Drupal/Core/Security <span style=color:#ce5c00;font-weight:700>&amp;&amp;</span> git commit -m <span style=color:#4e9a06>&#34;Patching OpenY core&#34;</span> <span style=color:#ce5c00;font-weight:700>&amp;&amp;</span> git push
</code></pre></div><p>to store your patched core into your own repository.</p>
<h3 id=patching-openy-releases-817---819-drupal-core-84x>Patching OpenY releases 8.1.7 - 8.1.9 (Drupal core 8.4.x)</h3>
<p>For patching your OpenY release it is highly recommended to upgrade OpenY to latest version (8.1.10 or never) or at least to one of the 8.1.10 (Drupal core 8.4.x) with Drupal core upgrade to 8.4.6 <a href=https://www.drupal.org/project/drupal/releases/8.4.6>https://www.drupal.org/project/drupal/releases/8.4.6</a> . In case if it is not possible right now, follow steps below:</p>
<ul>
<li>Login to your production server environment via SSH and find <code>docroot</code> folder of your site codebase. If you installed OpenY by following a tutorial <a href="https://www.youtube.com/watch?v=V3K4-RLjxQo">https://www.youtube.com/watch?v=V3K4-RLjxQo</a> - you should:</li>
</ul>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>ssh -l root YOUR_SERVER_DOMAIN_NAME
<span style=color:#204a87>cd</span> /var/www/html
wget https://raw.githubusercontent.com/ymcatwincities/openy-project/8.1.x/scripts/patches/8.4.x.patch
</code></pre></div><p>Now you are ready to patch your site. But before patching - make a backup of the file which is about to be patched</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>cp docroot/core/lib/Drupal/Core/DrupalKernel.php /var/backups/DrupalKernel.php
</code></pre></div><p>To patch your site run the command to test if the patch can be applied:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>patch -p1 --dry-run &lt; 8.4.x.patch
</code></pre></div><p>You should see a result</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=color:#8f5902;font-style:italic># patch -p1 --dry-run &lt; 8.4.x.patch</span>
checking file docroot/core/lib/Drupal/Core/DrupalKernel.php
checking file docroot/core/lib/Drupal/Core/Security/RequestSanitizer.php
</code></pre></div><p>In case if result different - stop on this step and let us know you have issue.
In case if all good proceed with a command below, which will patch your site:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>patch -p1 &lt; 8.4.x.patch
</code></pre></div><p>You should see the same output as previously, but now your site is patched.</p>
<p>TIP: In case if you are using git repository for your site run</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>git add docroot/core/lib/Drupal/Core/DrupalKernel.php docroot/core/lib/Drupal/Core/Security <span style=color:#ce5c00;font-weight:700>&amp;&amp;</span> git commit -m <span style=color:#4e9a06>&#34;Patching OpenY core&#34;</span> <span style=color:#ce5c00;font-weight:700>&amp;&amp;</span> git push
</code></pre></div><p>to store your patched core into your own repository.</p>
<p>==========================</p>
<h3 id=how-to-patch-your-digitalocean-openy-install>How to patch your Digitalocean OpenY install</h3>
<p>In case if you have followed tutorial <a href="https://www.youtube.com/watch?v=V3K4-RLjxQo">https://www.youtube.com/watch?v=V3K4-RLjxQo</a> you should have your OPenY installed on you DigitalOcean server(droplet) in a predictable for current document folder. That&rsquo;s why we prepared a short how to patch your OpenY site in a most simple way if you are not a Tech Guru, but just a user</p>
<ol>
<li>Log in as an admin user to your site admin UI by visiting <code>/user/login</code> URI page.</li>
<li>Go to <code>/admin/reports/status</code> after login and search for Drupal Version string. It should be something like 8.2.x, 8.3.x or 8.4.x (x - some number too, like 8.4.2, for example). Based on your finding follow the steps below to your version</li>
<li>Login to your ВigitalOcean cloud console at digitalocean.com and find Access Console in the dropdown for the droplet you are using for the OpenY <img src=https://user-images.githubusercontent.com/563412/38104705-b2ebf8fe-3392-11e8-8c27-55db3ed032ff.png alt=image></li>
<li>You should see a popup window with a black screen where console asks you for the login. Use <code>root</code> user and a password generated for you upon droplet creation.</li>
<li>After login to a console run the command below, respectively to the version of your Drupal core.</li>
</ol>
<h3 id=one-line-script-to-patch-82x-drupal-core-for-openy>One line script to patch 8.2.x Drupal core for OpenY</h3>
<p>Type manually exact line</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>bash &lt; &lt;<span style=color:#ce5c00;font-weight:700>(</span>curl -s https://raw.githubusercontent.com/ymcatwincities/openy-project/8.1.x/scripts/patches/run8.2.x.sh<span style=color:#ce5c00;font-weight:700>)</span>
</code></pre></div><p>and hit Enter.
You should see <code>OpenY was patched</code> message.</p>
<h3 id=one-line-script-to-patch-83x-drupal-core-for-openy>One line script to patch 8.3.x Drupal core for OpenY</h3>
<p>Type manually exact line</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>bash &lt; &lt;<span style=color:#ce5c00;font-weight:700>(</span>curl -s https://raw.githubusercontent.com/ymcatwincities/openy-project/8.1.x/scripts/patches/run8.3.x.sh<span style=color:#ce5c00;font-weight:700>)</span>
</code></pre></div><p>and hit Enter.
You should see <code>OpenY was patched</code> message.</p>
<h3 id=one-line-script-to-patch-84x-drupal-core-for-openy>One line script to patch 8.4.x Drupal core for OpenY</h3>
<p>Type manually exact line</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>bash &lt; &lt;<span style=color:#ce5c00;font-weight:700>(</span>curl -s https://raw.githubusercontent.com/ymcatwincities/openy-project/8.1.x/scripts/patches/run8.2.x.sh<span style=color:#ce5c00;font-weight:700>)</span>
</code></pre></div><p>and hit Enter.
You should see <code>OpenY was patched</code> message.</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-b6a58c65aaf47d99271374408b87f2cf>4.30 - OpenY-upgrade-for-developers.-Upgrade-to-old-OpenY-1.x-version</h1>
<p>This document is archived but may contain useful information for troubleshooting future updates. For updated update steps, visit <a href=/openy_docs/docs/wiki/openy-upgrade-how-to-for-developers/>How to upgrade Open Y</a>.</p>
<hr>
<h1 id=upgrade-to-old-open-y-1x-version--tested-on-upgrading-802-to-81114->Upgrade to old, Open Y 1.x version ( tested on upgrading 8.0.2 to 8.1.1.14 )</h1>
<p>See <a href=/openy_docs/docs/wiki/upgrade-openy-8.1.3-to-8.2.2.1/>upgrade from 8.1.3 to 8.2.2.1</a></p>
<p>We found the oldest OpenY instance working on 8.0.2 version of OpenY so this document should cover all the way of updating it to the latest version.</p>
<h3 id=prepare-dedicated-environment-for-upgrade-testing>Prepare dedicated environment for upgrade testing</h3>
<p>Ensure you have working computer or virtual machine with</p>
<ul>
<li>Ubuntu 14.04(16.04 or any decent Ubuntu LTS versions) 64 bit</li>
<li>MySQL 5.5+</li>
<li>Apache 2.4</li>
<li>PHP 5.6-7.1 (7.2 is not supported yet)</li>
</ul>
<p>OpenY team maintains <a href=https://github.com/ymcatwincities/openy-cibox-vm>Vagrant preconfigured Virtualbox based virtual machine with OpenY</a>. Feel free to use it to get working virtual environment.
Your own OpenY instance should have Virtual machine injected into your site codebase. Just find <code>Vagrantfile</code> and proceed with <code>vagrant up</code> <a href=https://github.com/ymcatwincities/openy-cibox-vm/blob/master/README.md>accordingly to the documentation</a>.</p>
<h3 id=obtain-local-copy-of-your-production-site>Obtain local copy of your production site</h3>
<p>You have to create local copy of your site locally to be able to proceed with the upgrade.
For that</p>
<ul>
<li>Make a backup of your production database and copy it to your local machine</li>
<li>Make a copy of your production site codebase and copy it to your local machine</li>
</ul>
<p>&mldr;</p>
<ol>
<li>
<h3 id=detect-version-of-your-openy>Detect version of your OpenY</h3>
</li>
</ol>
<p>Starting from OpenY 1.10 release you should see a version of OpenY in your site reports dashboard.
For previous versions the best way to check your version is to analyze creation date of index.php pr README.txt file in the docroot folder of your site and compare it to the release date from <a href=https://github.com/ymcatwincities/openy/releases>https://github.com/ymcatwincities/openy/releases</a> . Your OpenY version should be the one which is older than creation date of the files.</p>
<ol start=2>
<li>
<h3 id=run-command-with-next-never-version>Run command with next never version</h3>
</li>
</ol>
<p>In a same folder where is your <code>docroot</code> folder run</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>mv composer.json composer.json.bak <span style=color:#ce5c00;font-weight:700>||</span> <span style=color:#204a87>true</span>
wget https://raw.githubusercontent.com/ymcatwincities/openy-project/8.1.x/composer.json
<span style=color:#204a87>cd</span> docroot/profiles/contrib/openy/
rm -f yparse*
wget https://raw.githubusercontent.com/ymcatwincities/openy-project/8.1.x/scripts/yparse.sh
drush cr
sh yparse.sh <span style=color:#000;font-weight:700>|</span> xargs drush en -y
<span style=color:#204a87>cd</span> ../../../../
composer require ymcatwincities/openy:NEW_VERSION_HERE --no-update
composer update --prefer-dist --with-dependencies --prefer-stable --update-with-all-dependencies --no-suggest

</code></pre></div><ol start=3>
<li>
<h3 id=update-the-site>Update the site</h3>
</li>
</ol>
<p>Go to docroot folder of your codebase and run</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>drush updatedb
drush entup
</code></pre></div><p>Sometimes, when <code>updatedb</code> fails, it is important to get stable version of some modules we found causing problems</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>drush dl -y plugin-8.x-2.5 contribute-8.x-1.0-beta7 scheduler-8.x-1.0 views_block_filter_block datalayer simple_menu_icons rabbit_hole metatag simple_sitemap-8.x-2.9 easy_breadcrumb-8.x-1.6
drush en -y plugin contribute scheduler views_block_filter_block datalayer simple_menu_icons rabbit_hole metatag simple_sitemap <span style=color:#ce5c00;font-weight:700>||</span> <span style=color:#204a87>true</span>
drush ev <span style=color:#4e9a06>&#34;Drupal::service(&#39;module_installer&#39;)-&gt;install([&#39;content_moderation&#39;,&#39;openy&#39;]);&#34;</span>
</code></pre></div><p>Ensure commands above finished with no error messages. Best way to check it - run them one more time. If next run shows</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>$ drush updatedb
No database updates required                                                                                    <span style=color:#ce5c00;font-weight:700>[</span>success<span style=color:#ce5c00;font-weight:700>]</span>
$ drush entup
No entity schema updates required                                                                               <span style=color:#ce5c00;font-weight:700>[</span>success<span style=color:#ce5c00;font-weight:700>]</span>
</code></pre></div><p>You almost 100% proved updated were executed correctly.</p>
<ol start=4>
<li>
<h3 id=check-for-regressions>Check for regressions</h3>
</li>
</ol>
<p>&mldr;</p>
<ol start=5>
<li>
<h3 id=backup-current-state-of-the-updated-site>Backup current state of the updated site</h3>
</li>
</ol>
<p>&mldr;</p>
<ol start=6>
<li>
<h3 id=proceed-with-an-update-to-next-version-until-succeeded-start-from-item-1>Proceed with an update to next version until succeeded (Start from item 1)</h3>
</li>
</ol>
<p>&mldr;</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-8a92c81de27ac0587d27dabc9e35e167>4.31 - OpenY-upgrade-how-to-for-Developers</h1>
<p>Review a <a href=https://youtu.be/RGfYLjYpi4Q>video about this document</a>.</p>
<p>Before upgrading, please review these <a href=/openy_docs/docs/wiki/important-versions-for-upgrade-path/>required version steps for your upgrade path</a>.</p>
<h2 id=overview>Overview</h2>
<ul>
<li><a href=#prepare-dedicated-environment-for-upgrade-testing>Prepare a dedicated environment for upgrade testing</a></li>
<li><a href=#obtain-local-copy-of-your-production-site>Obtain a local copy of your production site</a></li>
<li><a href=#run-command-with-next-never-version-replace-new_version_here-with-the-version-you-are-upgrading-to-eg-8207>Run command with next newer version (replace NEW_VERSION_HERE with the version you are upgrading to, e.g 8.2.0.7 )</a></li>
<li><a href=#enable-openy-introduced-modules-in-case-if-you-are-updating-from-very-old-version-or-if-they-are-disabled-intentionally>Enable Open Y introduced modules in case if you are updating from very old version or if they are disabled intentionally</a></li>
<li><a href=#verify-if-the-media-entity-to-media-in-core-migration-is-possible>Verify if the Media Entity to Media in Core migration is possible</a></li>
<li><a href=#update-the-site>Update the site</a></li>
<li><a href=#visit-openy-upgrade-tool-dashboard>Visit the Open Y upgrade tool dashboard</a></li>
<li><a href=#check-for-regressions>Check for regressions/Smoke tests</a></li>
<li><a href=#backup-current-state-of-the-updated-site>Backup current state of the updated site</a></li>
<li><a href=#proceed-with-an-update-to-next-version-until-succeeded-start-from-item-1>Proceed with an update to next version until succeeded (Start from item 1)</a></li>
</ul>
<h2 id=upgrade-to-open-y-2x>Upgrade to Open Y 2.x</h2>
<h3 id=prepare-dedicated-environment-for-upgrade-testing>Prepare dedicated environment for upgrade testing</h3>
<p>Ensure you have a working computer or virtual machine with:</p>
<ul>
<li>Ubuntu 20.04 (16.04, 18.04, or any decent Ubuntu LTS version) 64 bit</li>
<li>MySQL 5.5+ (5.7 is preferred because of the performance improvements)</li>
<li>Apache 2.4 (or Nginx + php-fpm in case if you are fine with htaccess issues down the road)</li>
<li>PHP 7.3 (7.4+ could be an issue with some contrib modules)</li>
<li>Drush 8.1.17 version (for Open Y pre 8.2 ). <strong>No support for Drush 9.x in Drupal 8 branches. Only in Drupal 9</strong>. <strong>Use Drush 8.3+ for OpenY 8.2+</strong></li>
</ul>
<p>The Open Y team maintains <a href=https://github.com/ymcatwincities/openy-cibox-vm>Vagrant preconfigured Virtualbox based virtual machine with OpenY</a>. Feel free to use it to get a working virtual environment.</p>
<p>Your own Open Y instance should have a virtual machine injected into your site codebase. Just find <code>Vagrantfile</code> and proceed with <code>vagrant up</code> <a href=https://github.com/ymcatwincities/openy-cibox-vm/blob/master/README.md>accordingly to the documentation</a>.</p>
<h3 id=obtain-local-copy-of-your-production-site>Obtain local copy of your production site</h3>
<p>You have to create a local copy of your site locally to be able to proceed with the upgrade.</p>
<p>For that:</p>
<ul>
<li>Make a backup of your production database and copy it to your local machine</li>
<li>Make a copy of your production site codebase and copy it to your local machine</li>
<li><strong>Ensure you have not manually removed Drupal modules in your database without the uninstallation step being executed!</strong> In this case you&rsquo;ll need to return the module back to the codebase and uninstall it via Drupal Extend UI or Drush before running the next steps to upgrade Open Y.</li>
</ul>
<h3 id=run-command-with-next-never-version--replace-new_version_here-with-the-version-you-are-upgrading-to-eg-8207->Run command with next never version ( replace NEW_VERSION_HERE with the version you are upgrading to, e.g 8.2.0.7 )</h3>
<p>In the same folder where your <code>docroot</code> is, run:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>mv composer.json composer.json.bak <span style=color:#ce5c00;font-weight:700>||</span> <span style=color:#204a87>true</span>
wget https://raw.githubusercontent.com/ymcatwincities/openy-project/8.2.x/composer.json
<span style=color:#204a87>cd</span> docroot/profiles/contrib/openy/
rm -f yparse*
wget https://raw.githubusercontent.com/ymcatwincities/openy-project/8.2.x/scripts/yparse.sh
drush cr
sh yparse.sh <span style=color:#000;font-weight:700>|</span> xargs drush en -y
<span style=color:#204a87>cd</span> ../../../../
composer require ymcatwincities/openy:NEW_VERSION_HERE --no-update
composer update --prefer-dist --with-dependencies --prefer-stable --no-suggest
</code></pre></div><p>The script above <em>replaces</em> your <code>composer.json</code> file, so it&rsquo;s only applicable to websites that have the file unmodified.</p>
<p>If your <code>composer.json</code> file is modified, merge the changes manually. Essentially, the <code>repositories</code> section of the file is updated.</p>
<h3 id=enable-openy-introduced-modules-in-case-if-you-are-updating-from-very-old-version-or-if-they-are-disabled-intentionally>Enable OpenY introduced modules in case if you are updating from very old version or if they are disabled intentionally.</h3>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=color:#204a87>cd</span> docroot
drush en openy_upgrade_tool openy_er openy_prgf_loc_finder openy_map openy_data_wrapper openy_loc_branch openy_focal_point media_directories_ui
</code></pre></div><p>Sometimes it is important to get the latest <a href=https://github.com/ymcatwincities/openy/tree/8.x-2.x/modules/custom/openy_upgrade_tool>openy_upgrade_tool</a> from the repository even if you are not updating to the latest version of Open Y. You&rsquo;ll be able to disable them in the end once all updates are executed successfully.</p>
<h3 id=verify-if-the-media-entity-to-media-in-core-migration-is-possible--only-for-upgrades-from-openy-1x-to-2x->Verify if the Media Entity to Media in Core migration is possible ( only for upgrades from OpenY 1.x to 2.x )</h3>
<p>Go to the <code>docroot</code> directory of your codebase and execute:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>drush mecu
</code></pre></div><p>If the output looks like the following lines, you are good to proceed with database updates.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>✓ SUCCESS: All upgrade requirements are met and                      [ok]
you can proceed with the DB updates.
Drupal core is the correct version (&gt;= 8.6.0). [8.6.10 detected]     [ok]
The contributed &#34;Media&#34; module is not installed.                     [ok]
All provider plugins and modules depending on media_entity are       [ok]
up-to-date.
Site uses EXIF handling and the &#34;Media Entity Image EXIF&#34; module is  [ok]
available.
</code></pre></div><p>Follow the instructions of the output messages if they contain warnings or errors. Take a look at the <a href=https://www.drupal.org/node/2863992>detailed guide</a> if you have any troubles.</p>
<h3 id=update-the-site>Update the site</h3>
<p>Go to the <code>docroot</code> folder of your codebase and run:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>drush updatedb
drush entup
</code></pre></div><p>We found, in some instances, because of the complexity of the database you&rsquo;d need to run this command above up to 6 times to get all entities and updates run to the end. You may ignore errors of the commands until there are no errors after the final run. So:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>drush updatedb
drush entup
drush updatedb
drush entup
drush updatedb
drush entup
drush updatedb
drush entup
drush updatedb
drush entup
</code></pre></div><p>Please any log errors as issues for the QA team investigate.</p>
<p>If you have issues, the only way to avoid errors is to use Drupal&rsquo;s <code>hook_update_dependencies</code> API to change the order of running updates to eliminate issues. <a href=https://github.com/ymcatwincities/openy/pull/1560/files>See this example</a>.</p>
<p>Ensure commands above have finished with no error messages. The best way to check it is to run them one more time. If the next run shows:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>$ drush updatedb
No database updates required                                                                                    <span style=color:#ce5c00;font-weight:700>[</span>success<span style=color:#ce5c00;font-weight:700>]</span>
$ drush entup
No entity schema updates required                                                                               <span style=color:#ce5c00;font-weight:700>[</span>success<span style=color:#ce5c00;font-weight:700>]</span>
</code></pre></div><p>You have almost 100% proven updates were executed correctly.</p>
<p>Sometimes, you could face an error like:</p>
<blockquote>
<p>openy.terms_and_conditions.schema depends on the Open Y module that will not be installed after import.</p>
</blockquote>
<p>In this case, please, ensure that the module connected with this config is enabled.</p>
<p>To make it happen, please execute this command:</p>
<p><code>drush ev "Drupal::service('module_installer')->install(['module_with_problem']);"</code></p>
<h3 id=visit-openy-upgrade-tool-dashboard>Visit OpenY upgrade tool dashboard</h3>
<p>Review and revert or apply an updated version of the configs after the upgrade.</p>
<p><img src=https://user-images.githubusercontent.com/563412/55151463-01759b00-5157-11e9-878e-dc744698a021.png alt=image></p>
<h3 id=check-for-regressions>Check for regressions</h3>
<p>In order to check for regressions during the upgrade, it is best to work with smoke tests. Open Y maintains the <a href="https://docs.google.com/spreadsheets/d/1yLUkMgJKK94hABy107_V-1AcJbRSSEf2s4wsQto1wfI/edit?usp=sharing">smoke tests database document</a> you should use for the process.</p>
<h3 id=backup-current-state-of-the-updated-site>Backup current state of the updated site</h3>
<p>Use <a href=https://www.drush.org/latest/commands/sql_dump/><code>drush sql-dump</code></a> or another backup tool to take a backup of the site in its current state.</p>
<h3 id=proceed-with-an-update-to-next-version-until-succeeded-start-from-item-1>Proceed with an update to next version until succeeded (Start from item 1)</h3>
<p>DISCLAIMER: If you have an old 1.x version it makes sense to update to the latest 1.x before going OpenY 2.0 upgrade
See <a href=/openy_docs/docs/wiki/openy-upgrade-for-developers.-upgrade-to-old-openy-1.x-version/>OpenY-upgrade-for-developers.-Upgrade-to-old-OpenY-1.x-version</a></p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-abe9ee2ecd1e1af7b6b584d4a1998bcd>4.32 - Sandboxes</h1>
<h1 id=open-y-sandboxes-for-evaluation-and-qa>Open Y Sandboxes for Evaluation and QA</h1>
<p>The Open Y core team manages sandboxes for stable and development versions of Open Y to facilitate the evaluation of the product, to help with QA, and enable investigation of issues.</p>
<p>To learn more:</p>
<ul>
<li>Watch a <a href="https://www.youtube.com/watch?v=dS-8-t0WJgo">detailed video about the process of building the sandboxes</a></li>
<li>Read a <a href=https://www.drupal.org/case-study/open-y-sandboxes>case study on Drupal.org</a></li>
</ul>
<h2 id=stable-sandboxes>Stable Sandboxes</h2>
<p><a href=https://sandboxes.openy.org/>https://sandboxes.openy.org/</a></p>
<p>These sandboxes are set to rebuild completely overnight and clear their database and files every 2 hours. To get access visit <a href=https://community.openymca.org/t/how-can-i-try-or-get-a-demo-of-open-y/318>How can I try or get a demo of Open Y?</a></p>
<p>These sandboxes contain 3 profile variations:</p>
<ul>
<li>Standard</li>
<li>Extended</li>
<li>Custom</li>
</ul>
<p>based on the latest stable release of Open Y.</p>
<p>These sandboxes are built on CI by running:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>composer create-project ymcatwincities/openy-project buildnew --no-interaction --prefer-dist

ansible-playbook docroot/reinstall.yml -i /tmp/inventory5068801741271597001.ini -f <span style=color:#0000cf;font-weight:700>5</span> -e <span style=color:#000>php_env_vars</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>APP_ENV</span><span style=color:#ce5c00;font-weight:700>=</span>dev -e <span style=color:#000>mysql_user</span><span style=color:#ce5c00;font-weight:700>=</span>*** -e <span style=color:#000>mysql_password</span><span style=color:#ce5c00;font-weight:700>=</span>*** -e <span style=color:#000>mysql_db</span><span style=color:#ce5c00;font-weight:700>=</span>sandbox_carnation_custom -e <span style=color:#000>drupal_folder</span><span style=color:#ce5c00;font-weight:700>=</span>/var/www/sandbox_carnation_custom -e <span style=color:#000>site_url</span><span style=color:#ce5c00;font-weight:700>=</span>https://sandbox-carnation-cus.openy.org -e <span style=color:#000>pp_environment</span><span style=color:#ce5c00;font-weight:700>=</span>demo -e <span style=color:#000>run_reinstall</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87>true</span> -e <span style=color:#4e9a06>&#34;openy_profile_install_settings=&#39;openy_configure_profile.preset=complete openy_theme_select.theme=openy_carnation&#39;&#34;</span> -e <span style=color:#000>use_solr</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87>false</span> -i localhost, --connection<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87>local</span> -vvvv
</code></pre></div><h2 id=development-sandboxes>Development Sandboxes</h2>
<p><a href=https://sandboxes-dev.openy.org/>https://sandboxes-dev.openy.org/</a></p>
<p>These usually contain the latest development version of Open Y (the master branch of <a href=https://github.com/ymcatwincities/openy>openy</a>.</p>
<p>These sandboxes are built on CI by running:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>composer create-project ymcatwincities/openy-project:dev-9.2.x-development buildnew --no-interaction --prefer-dist

ansible-playbook docroot/reinstall.yml -i /tmp/inventory5068801741271597001.ini -f <span style=color:#0000cf;font-weight:700>5</span> -e <span style=color:#000>php_env_vars</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>APP_ENV</span><span style=color:#ce5c00;font-weight:700>=</span>dev -e <span style=color:#000>mysql_user</span><span style=color:#ce5c00;font-weight:700>=</span>*** -e <span style=color:#000>mysql_password</span><span style=color:#ce5c00;font-weight:700>=</span>*** -e <span style=color:#000>mysql_db</span><span style=color:#ce5c00;font-weight:700>=</span>sandbox_carnation_custom -e <span style=color:#000>drupal_folder</span><span style=color:#ce5c00;font-weight:700>=</span>/var/www/sandbox_carnation_custom -e <span style=color:#000>site_url</span><span style=color:#ce5c00;font-weight:700>=</span>https://sandbox-carnation-cus.openy.org -e <span style=color:#000>pp_environment</span><span style=color:#ce5c00;font-weight:700>=</span>demo -e <span style=color:#000>run_reinstall</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87>true</span> -e <span style=color:#4e9a06>&#34;openy_profile_install_settings=&#39;openy_configure_profile.preset=complete openy_theme_select.theme=openy_carnation&#39;&#34;</span> -e <span style=color:#000>use_solr</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87>false</span> -i localhost, --connection<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87>local</span> -vvvv
</code></pre></div><h2 id=membership-framework-sandboxes>Membership Framework Sandboxes</h2>
<p><a href=https://membership-framework-sandboxes-d9.openy.org/>https://membership-framework-sandboxes-d9.openy.org/</a></p>
<p>These are based on the Open Y stable Standard profile and the development version of the <a href=https://github.com/ymcatwincities/openy_memberships>Membership Framework</a>.</p>
<p>To rebuild the sandbox, CI is running:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>composer create-project ymcatwincities/openy-project buildnew --no-interaction --prefer-dist
<span style=color:#204a87>cd</span> buildnew
composer config minimum-stability dev
composer require <span style=color:#4e9a06>&#34;openy/openy_memberships&#34;</span>:<span style=color:#4e9a06>&#34;dev-master as 1.0.0&#34;</span>
ansible-playbook docroot/reinstall.yml -i /tmp/inventory13097841656330601319.ini -f <span style=color:#0000cf;font-weight:700>5</span> -e <span style=color:#000>php_env_vars</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>APP_ENV</span><span style=color:#ce5c00;font-weight:700>=</span>dev -e <span style=color:#000>mysql_user</span><span style=color:#ce5c00;font-weight:700>=</span>*** -e <span style=color:#000>mysql_password</span><span style=color:#ce5c00;font-weight:700>=</span>*** -e <span style=color:#000>mysql_db</span><span style=color:#ce5c00;font-weight:700>=</span>d9_sandbox_carnation_std_membership_framework -e <span style=color:#000>drupal_folder</span><span style=color:#ce5c00;font-weight:700>=</span>/var/www/d9_sandbox_carnation_std_membership_framework -e <span style=color:#000>site_url</span><span style=color:#ce5c00;font-weight:700>=</span>https://sandbox-carnation-std-membership-framework-d9.openy.org -e <span style=color:#000>pp_environment</span><span style=color:#ce5c00;font-weight:700>=</span>membership_framework -e <span style=color:#000>run_reinstall</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87>true</span> -e <span style=color:#4e9a06>&#34;openy_profile_install_settings=&#39;openy_configure_profile.preset=standard openy_theme_select.theme=openy_carnation openy_select_content.content=0&#39;&#34;</span> -e <span style=color:#000>use_solr</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87>false</span> -i localhost, --connection<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87>local</span> -vvvv
</code></pre></div><h2 id=activity-finder-sandboxes---development-version>Activity Finder Sandboxes - development version</h2>
<table>
<thead>
<tr>
<th>Theme</th>
<th>Link</th>
<th>Open Y</th>
<th>Profile</th>
<th>Activity Finder</th>
<th>Theme</th>
<th>Bootstrap</th>
</tr>
</thead>
<tbody>
<tr>
<td>Carnation</td>
<td><a href=https://sandbox-carnation-cus-d9.openy.org/activity-finder-v4>https://sandbox-carnation-cus-d9.openy.org/activity-finder-v4</a></td>
<td>stable</td>
<td>Custom</td>
<td>v4 dev</td>
<td>v4</td>
<td></td>
</tr>
<tr>
<td>Rose</td>
<td><a href=https://sandbox-rose-cus-d9.openy.org/activity-finder-v4>https://sandbox-rose-cus-d9.openy.org/activity-finder-v4</a></td>
<td>stable</td>
<td>Custom</td>
<td>v4 dev</td>
<td>v3</td>
<td></td>
</tr>
<tr>
<td>Lily</td>
<td><a href=https://sandbox-lily-cus-d9.openy.org/activity-finder-v4>https://sandbox-lily-cus-d9.openy.org/activity-finder-v4</a></td>
<td>stable</td>
<td>Custom</td>
<td>v4 dev</td>
<td>v3</td>
<td></td>
</tr>
</tbody>
</table>
<p>To rebuild the sandbox, CI is running:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>composer create-project ymcatwincities/openy-project:dev-9.2.x-development-af4 build --no-interaction --prefer-dist
<span style=color:#204a87>cd</span> <span style=color:#4e9a06>${</span><span style=color:#000>WORKSPACE</span><span style=color:#4e9a06>}</span>/build
composer require ymcatwincities/openy_activity_finder:<span style=color:#4e9a06>&#34;4.x-dev as 4.0&#34;</span>

ansible-playbook docroot/reinstall.yml -i /tmp/inventory4660848605526222353.ini -f <span style=color:#0000cf;font-weight:700>5</span> -e <span style=color:#000>php_env_vars</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>APP_ENV</span><span style=color:#ce5c00;font-weight:700>=</span>dev -e <span style=color:#000>mysql_user</span><span style=color:#ce5c00;font-weight:700>=</span>*** -e <span style=color:#000>mysql_password</span><span style=color:#ce5c00;font-weight:700>=</span>*** -e <span style=color:#000>mysql_db</span><span style=color:#ce5c00;font-weight:700>=</span>d9_sandbox_carnation_custom -e <span style=color:#000>drupal_folder</span><span style=color:#ce5c00;font-weight:700>=</span>/var/www/d9_sandbox_carnation_custom -e <span style=color:#000>site_url</span><span style=color:#ce5c00;font-weight:700>=</span>https://sandbox-carnation-cus-d9.openy.org -e <span style=color:#000>pp_environment</span><span style=color:#ce5c00;font-weight:700>=</span>demo -e <span style=color:#000>run_reinstall</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87>true</span> -e <span style=color:#4e9a06>&#34;openy_profile_install_settings=&#39;openy_configure_profile.preset=complete openy_theme_select.theme=openy_carnation&#39;&#34;</span> -i localhost, --connection<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87>local</span> -vvvv

<span style=color:#8f5902;font-style:italic># Solr 4.5-4.9, Activity Finder v4</span>
drush en -y search_api_solr_legacy openy_prgf_activity_finder_4 <span style=color:#ce5c00;font-weight:700>||</span> <span style=color:#204a87>true</span>
drush cset -y search_api.server.solr backend_config.connector_config.host 127.0.0.1 -y <span style=color:#ce5c00;font-weight:700>||</span> <span style=color:#204a87>true</span>
drush cset -y search_api.server.solr backend_config.connector_config.core <span style=color:#4e9a06>${</span><span style=color:#000>VHOST_FOLDER</span><span style=color:#4e9a06>}</span> -y
drush cset -y search_api.server.solr backend_config.connector_config.solr_version 4.5 -y
drush search-api-mark-all <span style=color:#ce5c00;font-weight:700>||</span> <span style=color:#204a87>true</span>
drush sapi-i <span style=color:#ce5c00;font-weight:700>||</span> <span style=color:#204a87>true</span>
drush en -dvy openy_prgf_af4_demo <span style=color:#ce5c00;font-weight:700>||</span> <span style=color:#204a87>true</span>

<span style=color:#8f5902;font-style:italic># Solr 4.5-4.9, Activity Finder v4, Carnation theme, bootstrap v4</span>
drush cset -y openy_activity_finder.settings bs_version <span style=color:#0000cf;font-weight:700>4</span> <span style=color:#ce5c00;font-weight:700>||</span> <span style=color:#204a87>true</span>

</code></pre></div>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-fd6d083709601dccabbca381c3e5d8da>4.33 - Secure-devops-for-composer-2-release</h1>
<p>This article only applies to long-term users of Open Y. Open Y supports Composer 2 <a href=https://github.com/ymcatwincities/openy/releases/tag/8.2.7>as of version 8.2.7 in November 2020</a> and new installs use Composer 2 by default.</p>
<hr>
<p>Composer was upgraded to <code>2.x</code> on October 30, 2020. This could cause instability when your older composer <code>1.x</code> accidentally auto-updates to the <code>2.x</code> version. Issues could include: composer fails to run any commands and blocks OpenY upgrade/maintenance. The instability would be in the developer environment, not Open Y/Drupal.</p>
<p>The Open Y team prepared an avoidance plan for the community to take action steps before the release while Open Y will be verifying Composer <code>2.x</code> causes no issues or regressions.</p>
<p>If you use Docksal or Vagrant local environments your composer version will not update automatically, so you&rsquo;re currently safe from inadvertent updates. Instructions for updating those environments will be included with any necessary Open Y updates at a later date.</p>
<h3 id=case-before-october-30-2020-when-you-are-on-composer-1x>Case before October 30, 2020, when you are on composer 1.x</h3>
<p>Composer 2 is coming and older versions of composer <code>1.x</code> show the message below.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>Composer 2.0 is about to be released and the older 1.x releases will self-update directly to it once it is released. To avoid surprises update now to the latest 1.x version
</code></pre></div><p>If you see the message above, ensure your environments have updated composer to the latest <code>1.x</code> version by running:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>composer selfupdate --1
</code></pre></div><p>To ensure the above command shows your version <code>1.x</code> after an upgrade, check the version of composer:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>composer --version
</code></pre></div><p>You should see something like</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>MacBook-Pro-Andrii:www podarok$ composer --version
Composer version 1.10.15 2020-10-13 15:59:09
</code></pre></div><p>as an output of the command.</p>
<h3 id=if-you-do-not-upgrade-to-the-latest-1x-version-before-october-30-2020-ie-if-you-accidentally-upgrade-to-composer-2x>If you do not upgrade to the latest 1.x version before October 30, 2020. i.e. if you accidentally upgrade to Composer 2.x</h3>
<p>If your composer updated to version 2 and you have issues with this upgrade, the solution is to downgrade Composer to the latest <code>1.x</code> version by running:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>composer selfupdate --1
</code></pre></div><p>If you are faced with any issues connect with the Open Y team on GitHub (<a href=https://github.com/ymcatwincities/openy/issues/new>create issue</a>) and the #developers channel <a href=https://openy.org/contact>on Slack</a>.</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-a3927e9f6f70d3e2b19b04ebfcaeef3c>4.34 - Testing-Open-Y-for-PHP-7.4-version-support</h1>
<h2 id=requirements>Requirements</h2>
<ul>
<li>php-cli 7.4 ( memory_limit value should be large ( 2000M ) or unlimiter ( -1 ) in order to not fail</li>
<li>composer 2</li>
</ul>
<h2 id=steps>Steps</h2>
<ol>
<li>Obtain latest development code of Open Y</li>
</ol>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>composer create-project ymcatwincities/openy-project:9.2.x-development-dev openy7.4
</code></pre></div><ol start=2>
<li>Add phpcompatibility to require-dev section</li>
</ol>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>cd open7.4
composer require --dev phpcompatibility/php-compatibility
./vendor/bin/phpcs -p . --standard=PHPCompatibility --runtime-set testVersion 7.4 --config-set installed_paths vendor/phpcompatibility/php-compatibility
</code></pre></div><ol start=3>
<li>Generate report</li>
</ol>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>./vendor/bin/phpcs -p . --standard=PHPCompatibility --runtime-set testVersion 7.4 --report-file=report.txt
</code></pre></div><p>or if you need to skip warnings</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>./vendor/bin/phpcs -p . --standard=PHPCompatibility --runtime-set testVersion 7.4 --report-file=report.txt -n
</code></pre></div><p>In report.txt you&rsquo;d find a full list of findings to be resolved in order to pass compatibility</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-e1ae818a1c683fdb6957c0684c7abc61>4.35 - Upgrade-OpenY-8.1.3-to-8.2.2.1</h1>
<p>This document is archived but may contain useful information for troubleshooting future updates. For updated update steps, visit <a href=/openy_docs/docs/wiki/openy-upgrade-how-to-for-developers/>How to upgrade Open Y</a>.</p>
<hr>
<h3 id=video-tutorials>Video tutorials</h3>
<p>Upgrade OpenY from 8.0.7 to 8.2.2.1 - <a href="https://www.youtube.com/watch?v=U_mg0-yKGOI">https://www.youtube.com/watch?v=U_mg0-yKGOI</a></p>
<h3 id=document-is-work-in-progress>Document is work in progress</h3>
<p>These are instructions for upgrading a very old version of Open Y to the latest version.
Given the fact <a href=https://www.drupal.org/node/3034742>Drupal 8.7+ has no support for automatic entity updates</a> ( BaseFieldDefinitions ) we have to upgrade to 8.2.2.1 of OpenY, which is still on 8.6 Drupal Core, and then update to the latest Open Y version as usual.</p>
<h1 id=environment>Environment</h1>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>vagrant@vagrant:/var/www/docroot$ uname -a
Linux vagrant 4.15.0-29-generic <span style=color:#8f5902;font-style:italic>#31-Ubuntu SMP Tue Jul 17 15:39:52 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux</span>
vagrant@vagrant:/var/www/docroot$ lsb_release -a
No LSB modules are available.
Distributor ID:	Ubuntu
Description:	Ubuntu 18.04.1 LTS
Release:	18.04
Codename:	bionic
vagrant@vagrant:/var/www/docroot$ php -v
**PHP 7.1.31-1**+ubuntu18.04.1+deb.sury.org+1 <span style=color:#ce5c00;font-weight:700>(</span>cli<span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>(</span>built: Aug  <span style=color:#0000cf;font-weight:700>7</span> <span style=color:#0000cf;font-weight:700>2019</span> 10:23:12<span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>(</span> NTS <span style=color:#ce5c00;font-weight:700>)</span>
Copyright <span style=color:#ce5c00;font-weight:700>(</span>c<span style=color:#ce5c00;font-weight:700>)</span> 1997-2018 The PHP Group
Zend Engine v3.1.0, Copyright <span style=color:#ce5c00;font-weight:700>(</span>c<span style=color:#ce5c00;font-weight:700>)</span> 1998-2018 Zend Technologies
    with Zend OPcache v7.1.31-1+ubuntu18.04.1+deb.sury.org+1, Copyright <span style=color:#ce5c00;font-weight:700>(</span>c<span style=color:#ce5c00;font-weight:700>)</span> 1999-2018, by Zend Technologies
    with Xdebug v2.7.2, Copyright <span style=color:#ce5c00;font-weight:700>(</span>c<span style=color:#ce5c00;font-weight:700>)</span> 2002-2019, by Derick Rethans
vagrant@vagrant:/var/www/docroot$ drush --version
 **Drush Version   :  8.2.3**
vagrant@vagrant:/var/www/docroot$ composer --version
**Composer version 1.7.2** 2018-08-16 16:57:12
</code></pre></div><h1 id=step-by-step-guide-for-update>Step by step guide for update</h1>
<ul>
<li>Use PHP7.1 for upgrade and install <code>php7.1-mysql php7.1-mcrypt php7.1-cli php7.1-common php7.1-curl php7.1-dev php7.1-fpm php7.1-gd php7.1-mysql php7.1-memcached php7.1-imagic php7.1-xml php7.1-xdebug php7.1-mbstring php7.1-soap php7.1-zip php7.1-xml</code></li>
<li>Go to the folder of OpenY code tree where <code>docroot</code> folder is contained</li>
<li><code>mv composer.json composer.json.orig</code></li>
<li><code>wget https://raw.githubusercontent.com/ymcatwincities/openy-project/8.2.x/composer.json</code></li>
<li><code>mkdir -p scripts ; cd scripts && wget https://raw.githubusercontent.com/ymcatwincities/openy-project/8.2.x/scripts/remove_libraries_gitignore_files.sh && cd ..</code></li>
<li><code>composer require ymcatwincities/openy:8.2.2.1 --no-suggest --no-update</code></li>
<li><code>composer install --ignore-platform-reqs --no-suggest</code></li>
<li><code>composer update --prefer-stable --no-suggest</code></li>
<li><code>cd docroot</code></li>
<li><code>drush dl -y plugin-8.x-2.5 contribute-8.x-1.0-beta7 scheduler-8.x-1.0 views_block_filter_block datalayer simple_menu_icons rabbit_hole metatag simple_sitemap-8.x-3.0 easy_breadcrumb-8.x-1.6</code></li>
<li><code>drush en openy_upgrade_tool openy_er openy_prgf_loc_finder openy_map openy_data_wrapper openy_loc_branch content_moderation focal_point</code></li>
<li><code>drush ev "Drupal::service('module_installer')->install(['openy']);"</code> &lt;- This steps fixes some hidden bug when <code>openy</code> profile removed from <code>core.extension</code> configuration for unknown reason.</li>
<li>Manual step (optional, if you have issues with <code>drush updatedb</code>): Edit all yml files in <code>profiles</code> folder to comment <code>media.type.image</code> , <code>field.field.node.program.field_header_content</code>, <code>field.field.node.branch.field_location_amenities</code> in dependencies sections.</li>
</ul>
<p><img src=https://user-images.githubusercontent.com/563412/64005803-bc94cc80-cb19-11e9-8137-702d141c48e5.png alt=image></p>
<p><img src=https://user-images.githubusercontent.com/563412/64005817-c1598080-cb19-11e9-8a04-9be0c7f3a15a.png alt=image></p>
<p><img src=https://user-images.githubusercontent.com/563412/64005820-c61e3480-cb19-11e9-9853-dbad3c17d851.png alt=image></p>
<ul>
<li>run <code>drush updatedb -y</code> &lt;- this will fail for the first time ( Media not installed yet ), disregard</li>
<li>run <code>drush updatedb -y</code> &lt;- this should run properly.</li>
<li>run <code>drush entup</code></li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-13121a0edaf11b6dc42fec78965d2feb>4.36 - Upgrade-use-case-from-8.2.2.3-to-8.2.7.3</h1>
<p>This document is archived but may contain useful information for troubleshooting future updates. For updated update steps, visit <a href=/openy_docs/docs/wiki/openy-upgrade-how-to-for-developers/>How to upgrade Open Y</a>.</p>
<hr>
<p>1 uninstall <code>lndr</code> and <code>optimizely</code> modules before running <a href=/openy_docs/docs/wiki/openy-upgrade-how-to-for-developers/#run-command-with-next-never-version--replace-new_version_here-with-the-version-you-are-upgrading-to-eg-8207->composer update commands</a></p>
<p>2 config to remove</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>
drush cdel image.style.browser_thumbnail
</code></pre></div><p>3 enable <code>openy_focal_point</code> and <code>media_directories_ui</code> should be enabled when upgrade from 8.2.2.3 to 8.2.7.3</p>
<p>4 - run drush updatedb <a href=/openy_docs/docs/wiki/openy-upgrade-how-to-for-developers/#update-the-site>and next steps from tutorial</a></p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-52dcec98d9585bfd45992d6c21cb986d>4.37 - Videos</h1>
<h1 id=video-tutorials>Video Tutorials</h1>
<p>The Open Y team maintains a <a href=https://www.youtube.com/c/OpenY/featured>YouTube channel</a> with video tutorials for developers, content editors, evaluators, and more. Visit YouTube for the full list of content.</p>
<h2 id=playlists>Playlists</h2>
<p>As of December 2021:</p>
<ul>
<li><a href="https://youtube.com/watch?v=xOtpHz1QcIo&list=PL_QVggMcFfKbpJQagEeJgvgB4wAqB1ED5">Open Y Monthly Calls 2021</a></li>
<li><a href="https://youtube.com/watch?v=MH4BwMowlic&list=PL_QVggMcFfKYfV1cnistny2L-Sp55SoMg">Smoke Tests</a></li>
<li><a href="https://youtube.com/watch?v=zr6MnmbAJas&list=PL_QVggMcFfKbWXjK0wtdCAslI8osKbaga">Open Y Tutorial; Virtual Y</a></li>
<li><a href="https://youtube.com/watch?v=f4FHYdU0VNM&list=PL_QVggMcFfKa46PgvB89bqUxmy9I9nSte">Live Streaming Tutorials</a></li>
<li><a href="https://youtube.com/watch?v=Ae_R6Q0ojqs&list=PL_QVggMcFfKZS20JwyRCiwZoelEGzPPOn">Open Y Meetups</a></li>
<li><a href="https://youtube.com/watch?v=vlqv4ly3iak&list=PL_QVggMcFfKZbY1kXOmChB_rQz2PAJGLM">Virtual Y: Installation Tutorials</a></li>
<li><a href="https://youtube.com/watch?v=63Mzqhqc35o&list=PL_QVggMcFfKbWQAcTUX19KY3W8SDyS2_1">Open Y Monthly Calls 2020</a></li>
<li><a href="https://youtube.com/watch?v=_OtMKR3KK3w&list=PL_QVggMcFfKbeUmI7dXDk7hlepQ4rXKNG">Open Y Tutorial; Drupal Basics for Content Managers</a></li>
<li><a href="https://youtube.com/watch?v=Mb8lcml3BPI&list=PL_QVggMcFfKaN-aYig2Gj3cE4ylCmhJyW">Open Y Summit 2019 Presentations</a></li>
<li><a href="https://youtube.com/watch?v=nHo2uL-bPyM&list=PL_QVggMcFfKahw9Y5t1RpM-g6kX45nA3C">Open Y Tutorial; Security</a></li>
<li><a href="https://youtube.com/watch?v=Ok5Gf23pVs0&list=PL_QVggMcFfKbS2z3APizFCQVUDqHjRGKa">OpenY components</a></li>
<li><a href="https://youtube.com/watch?v=UNYCB9XegDE&list=PL_QVggMcFfKYX5bB0epu31O8cVuEVPo6i">Open Y Tutorial; Content Types</a></li>
<li><a href="https://youtube.com/watch?v=--gW0zj4wEc&list=PL_QVggMcFfKZZlVzNcVaIWCl4WwcOr9Jk">Open Y Tutorial; Blogs & Content</a></li>
<li><a href="https://youtube.com/watch?v=3--CzMz5DPk&list=PL_QVggMcFfKbcayynOt0pb_Uw7DAR7KIl">Open Y Tutorial; Basic Configuration Instructions</a></li>
<li><a href="https://youtube.com/watch?v=y2oI9-6DvYQ&list=PL_QVggMcFfKY_80g0z3UPZL7_wn-27UUg">For Y Associations</a></li>
<li><a href="https://youtube.com/watch?v=RSsQLVVhldc&list=PL_QVggMcFfKZp05THV3dYlYOG3MsJ8xSf">For Developers</a></li>
</ul>
</div>
</main>
</div>
</div>
<footer class="bg-dark py-5 row d-print-none">
<div class="container-fluid mx-sm-5">
<div class=row>
<div class="col-6 col-sm-4 text-xs-center order-sm-2">
<ul class="list-inline mb-0">
<li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Open Y" aria-label="Open Y">
<a class=text-white target=_blank rel=noopener href=https://openy.org aria-label="Open Y">
<i class="fa fa-globe"></i>
</a>
</li>
<li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=LinkedIn aria-label=LinkedIn>
<a class=text-white target=_blank rel=noopener href=https://www.linkedin.com/company/open-y aria-label=LinkedIn>
<i class="fab fa-linkedin"></i>
</a>
</li>
<li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=YouTube aria-label=YouTube>
<a class=text-white target=_blank rel=noopener href=https://www.youtube.com/channel/UC4hp3K9JFptqPZyNjJLvkJg aria-label=YouTube>
<i class="fab fa-youtube"></i>
</a>
</li>
</ul>
</div>
<div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
<ul class="list-inline mb-0">
<li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub>
<a class=text-white target=_blank rel=noopener href=https://github.com/ymcatwincities/openy aria-label=GitHub>
<i class="fab fa-github"></i>
</a>
</li>
<li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Slack aria-label=Slack>
<a class=text-white target=_blank rel=noopener href=https://community.openymca.org/t/access-to-openy-slack-com-channel/197 aria-label=Slack>
<i class="fab fa-slack"></i>
</a>
</li>
<li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Message Board" aria-label="Message Board">
<a class=text-white target=_blank rel=noopener href=https://community.openymca.org/ aria-label="Message Board">
<i class="fa fa-user-friends"></i>
</a>
</li>
</ul>
</div>
<div class="col-12 col-sm-4 text-center py-2 order-sm-2">
<small class=text-white>&copy; 2021 Open Y All Rights Reserved</small>
<small class=ml-1><a href=https://openy.org/ target=_blank rel=noopener>https://openy.org/</a></small>
</div>
</div>
</div>
</footer>
</div>
<script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js integrity="sha512-UR25UO94eTnCVwjbXozyeVd6ZqpaAE9naiEUBK/A+QDbfSTQFhPGj5lOR6d8tsgbBk84Ggb5A3EkjsOgPRPcKA==" crossorigin=anonymous></script>
<script src=/openy_docs/js/tabpane-persist.js></script>
<script src=/openy_docs/js/main.min.8ab8f81ff7e1454d30024cd6f956d4d341c3a97e2a673f988065f2ee4e147922.js integrity="sha256-irj4H/fhRU0wAkzW+VbU00HDqX4qZz+YgGXy7k4UeSI=" crossorigin=anonymous></script>
</body>
</html>